(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function NT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ip={exports:{}},wc={};var gw;function BR(){if(gw)return wc;gw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return wc.Fragment=e,wc.jsx=n,wc.jsxs=n,wc}var yw;function zR(){return yw||(yw=1,Ip.exports=BR()),Ip.exports}var h=zR(),kp={exports:{}},Re={};var xw;function FR(){if(xw)return Re;xw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),T=Symbol.iterator;function I(q){return q===null||typeof q!="object"?null:(q=T&&q[T]||q["@@iterator"],typeof q=="function"?q:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,U={};function G(q,ne,ce){this.props=q,this.context=ne,this.refs=U,this.updater=ce||D}G.prototype.isReactComponent={},G.prototype.setState=function(q,ne){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,ne,"setState")},G.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function $(){}$.prototype=G.prototype;function M(q,ne,ce){this.props=q,this.context=ne,this.refs=U,this.updater=ce||D}var b=M.prototype=new $;b.constructor=M,B(b,G.prototype),b.isPureReactComponent=!0;var E=Array.isArray;function j(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(q,ne,ce){var de=ce.ref;return{$$typeof:t,type:q,key:ne,ref:de!==void 0?de:null,props:ce}}function L(q,ne){return R(q.type,ne,q.props)}function V(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function F(q){var ne={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ce){return ne[ce]})}var O=/\/+/g;function xe(q,ne){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):ne.toString(36)}function De(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(j,j):(q.status="pending",q.then(function(ne){q.status==="pending"&&(q.status="fulfilled",q.value=ne)},function(ne){q.status==="pending"&&(q.status="rejected",q.reason=ne)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function J(q,ne,ce,de,Se){var je=typeof q;(je==="undefined"||je==="boolean")&&(q=null);var Oe=!1;if(q===null)Oe=!0;else switch(je){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(q.$$typeof){case t:case e:Oe=!0;break;case x:return Oe=q._init,J(Oe(q._payload),ne,ce,de,Se)}}if(Oe)return Se=Se(q),Oe=de===""?"."+xe(q,0):de,E(Se)?(ce="",Oe!=null&&(ce=Oe.replace(O,"$&/")+"/"),J(Se,ne,ce,"",function(ds){return ds})):Se!=null&&(V(Se)&&(Se=L(Se,ce+(Se.key==null||q&&q.key===Se.key?"":(""+Se.key).replace(O,"$&/")+"/")+Oe)),ne.push(Se)),1;Oe=0;var pt=de===""?".":de+":";if(E(q))for(var st=0;st<q.length;st++)de=q[st],je=pt+xe(de,st),Oe+=J(de,ne,ce,je,Se);else if(st=I(q),typeof st=="function")for(q=st.call(q),st=0;!(de=q.next()).done;)de=de.value,je=pt+xe(de,st++),Oe+=J(de,ne,ce,je,Se);else if(je==="object"){if(typeof q.then=="function")return J(De(q),ne,ce,de,Se);throw ne=String(q),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function oe(q,ne,ce){if(q==null)return q;var de=[],Se=0;return J(q,de,"","",function(je){return ne.call(ce,je,Se++)}),de}function ue(q){if(q._status===-1){var ne=q._result;ne=ne(),ne.then(function(ce){(q._status===0||q._status===-1)&&(q._status=1,q._result=ce)},function(ce){(q._status===0||q._status===-1)&&(q._status=2,q._result=ce)}),q._status===-1&&(q._status=0,q._result=ne)}if(q._status===1)return q._result.default;throw q._result}var we=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Ee={map:oe,forEach:function(q,ne,ce){oe(q,function(){ne.apply(this,arguments)},ce)},count:function(q){var ne=0;return oe(q,function(){ne++}),ne},toArray:function(q){return oe(q,function(ne){return ne})||[]},only:function(q){if(!V(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Re.Activity=w,Re.Children=Ee,Re.Component=G,Re.Fragment=n,Re.Profiler=a,Re.PureComponent=M,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},Re.cache=function(q){return function(){return q.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(q,ne,ce){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var de=B({},q.props),Se=q.key;if(ne!=null)for(je in ne.key!==void 0&&(Se=""+ne.key),ne)!A.call(ne,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ne.ref===void 0||(de[je]=ne[je]);var je=arguments.length-2;if(je===1)de.children=ce;else if(1<je){for(var Oe=Array(je),pt=0;pt<je;pt++)Oe[pt]=arguments[pt+2];de.children=Oe}return R(q.type,Se,de)},Re.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Re.createElement=function(q,ne,ce){var de,Se={},je=null;if(ne!=null)for(de in ne.key!==void 0&&(je=""+ne.key),ne)A.call(ne,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Se[de]=ne[de]);var Oe=arguments.length-2;if(Oe===1)Se.children=ce;else if(1<Oe){for(var pt=Array(Oe),st=0;st<Oe;st++)pt[st]=arguments[st+2];Se.children=pt}if(q&&q.defaultProps)for(de in Oe=q.defaultProps,Oe)Se[de]===void 0&&(Se[de]=Oe[de]);return R(q,je,Se)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(q){return{$$typeof:f,render:q}},Re.isValidElement=V,Re.lazy=function(q){return{$$typeof:x,_payload:{_status:-1,_result:q},_init:ue}},Re.memo=function(q,ne){return{$$typeof:y,type:q,compare:ne===void 0?null:ne}},Re.startTransition=function(q){var ne=N.T,ce={};N.T=ce;try{var de=q(),Se=N.S;Se!==null&&Se(ce,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(j,we)}catch(je){we(je)}finally{ne!==null&&ce.types!==null&&(ne.types=ce.types),N.T=ne}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(q){return N.H.use(q)},Re.useActionState=function(q,ne,ce){return N.H.useActionState(q,ne,ce)},Re.useCallback=function(q,ne){return N.H.useCallback(q,ne)},Re.useContext=function(q){return N.H.useContext(q)},Re.useDebugValue=function(){},Re.useDeferredValue=function(q,ne){return N.H.useDeferredValue(q,ne)},Re.useEffect=function(q,ne){return N.H.useEffect(q,ne)},Re.useEffectEvent=function(q){return N.H.useEffectEvent(q)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(q,ne,ce){return N.H.useImperativeHandle(q,ne,ce)},Re.useInsertionEffect=function(q,ne){return N.H.useInsertionEffect(q,ne)},Re.useLayoutEffect=function(q,ne){return N.H.useLayoutEffect(q,ne)},Re.useMemo=function(q,ne){return N.H.useMemo(q,ne)},Re.useOptimistic=function(q,ne){return N.H.useOptimistic(q,ne)},Re.useReducer=function(q,ne,ce){return N.H.useReducer(q,ne,ce)},Re.useRef=function(q){return N.H.useRef(q)},Re.useState=function(q){return N.H.useState(q)},Re.useSyncExternalStore=function(q,ne,ce){return N.H.useSyncExternalStore(q,ne,ce)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.4",Re}var vw;function fy(){return vw||(vw=1,kp.exports=FR()),kp.exports}var P=fy();const Aa=NT(P);var Dp={exports:{}},_c={},Pp={exports:{}},Mp={};var bw;function qR(){return bw||(bw=1,(function(t){function e(J,oe){var ue=J.length;J.push(oe);e:for(;0<ue;){var we=ue-1>>>1,Ee=J[we];if(0<a(Ee,oe))J[we]=oe,J[ue]=Ee,ue=we;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var oe=J[0],ue=J.pop();if(ue!==oe){J[0]=ue;e:for(var we=0,Ee=J.length,q=Ee>>>1;we<q;){var ne=2*(we+1)-1,ce=J[ne],de=ne+1,Se=J[de];if(0>a(ce,ue))de<Ee&&0>a(Se,ce)?(J[we]=Se,J[de]=ue,we=de):(J[we]=ce,J[ne]=ue,we=ne);else if(de<Ee&&0>a(Se,ue))J[we]=Se,J[de]=ue,we=de;else break e}}return oe}function a(J,oe){var ue=J.sortIndex-oe.sortIndex;return ue!==0?ue:J.id-oe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],y=[],x=1,w=null,T=3,I=!1,D=!1,B=!1,U=!1,G=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function b(J){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=J)s(y),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(y)}}function E(J){if(B=!1,b(J),!D)if(n(p)!==null)D=!0,j||(j=!0,F());else{var oe=n(y);oe!==null&&De(E,oe.startTime-J)}}var j=!1,N=-1,A=5,R=-1;function L(){return U?!0:!(t.unstable_now()-R<A)}function V(){if(U=!1,j){var J=t.unstable_now();R=J;var oe=!0;try{e:{D=!1,B&&(B=!1,$(N),N=-1),I=!0;var ue=T;try{t:{for(b(J),w=n(p);w!==null&&!(w.expirationTime>J&&L());){var we=w.callback;if(typeof we=="function"){w.callback=null,T=w.priorityLevel;var Ee=we(w.expirationTime<=J);if(J=t.unstable_now(),typeof Ee=="function"){w.callback=Ee,b(J),oe=!0;break t}w===n(p)&&s(p),b(J)}else s(p);w=n(p)}if(w!==null)oe=!0;else{var q=n(y);q!==null&&De(E,q.startTime-J),oe=!1}}break e}finally{w=null,T=ue,I=!1}oe=void 0}}finally{oe?F():j=!1}}}var F;if(typeof M=="function")F=function(){M(V)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,xe=O.port2;O.port1.onmessage=V,F=function(){xe.postMessage(null)}}else F=function(){G(V,0)};function De(J,oe){N=G(function(){J(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(J){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var ue=T;T=oe;try{return J()}finally{T=ue}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ue=T;T=J;try{return oe()}finally{T=ue}},t.unstable_scheduleCallback=function(J,oe,ue){var we=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?we+ue:we):ue=we,J){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ue+Ee,J={id:x++,callback:oe,priorityLevel:J,startTime:ue,expirationTime:Ee,sortIndex:-1},ue>we?(J.sortIndex=ue,e(y,J),n(p)===null&&J===n(y)&&(B?($(N),N=-1):B=!0,De(E,ue-we))):(J.sortIndex=Ee,e(p,J),D||I||(D=!0,j||(j=!0,F()))),J},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(J){var oe=T;return function(){var ue=T;T=oe;try{return J.apply(this,arguments)}finally{T=ue}}}})(Mp)),Mp}var ww;function HR(){return ww||(ww=1,Pp.exports=qR()),Pp.exports}var Vp={exports:{}},an={};var _w;function GR(){if(_w)return an;_w=1;var t=fy();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,y,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:p,containerInfo:y,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(p,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(p,y,null,x)},an.flushSync=function(p){var y=u.T,x=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=y,s.p=x,s.d.f()}},an.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},an.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},an.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var x=y.as,w=f(x,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:T,fetchPriority:I}):x==="script"&&s.d.X(p,{crossOrigin:w,integrity:T,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=f(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},an.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,w=f(x,y.crossOrigin);s.d.L(p,x,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(p,y){if(typeof p=="string")if(y){var x=f(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},an.requestFormReset=function(p){s.d.r(p)},an.unstable_batchedUpdates=function(p,y){return p(y)},an.useFormState=function(p,y,x){return u.H.useFormState(p,y,x)},an.useFormStatus=function(){return u.H.useHostTransitionStatus()},an.version="19.2.4",an}var Tw;function $R(){if(Tw)return Vp.exports;Tw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vp.exports=GR(),Vp.exports}var Ew;function KR(){if(Ew)return _c;Ew=1;var t=HR(),e=fy(),n=$R();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function u(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function f(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function y(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return p(m),i;if(g===c)return p(m),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=g;else{for(var _=!1,C=m.child;C;){if(C===o){_=!0,o=m,c=g;break}if(C===c){_=!0,c=m,o=g;break}C=C.sibling}if(!_){for(C=g.child;C;){if(C===o){_=!0,o=g,c=m;break}if(C===c){_=!0,c=g,o=m;break}C=C.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function x(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=x(i),r!==null)return r;i=i.sibling}return null}var w=Object.assign,T=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),M=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function xe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case G:return"Profiler";case U:return"StrictMode";case E:return"Suspense";case j:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case M:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case b:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return r=i.displayName||null,r!==null?r:xe(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return xe(i(r))}catch{}}return null}var De=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},we=[],Ee=-1;function q(i){return{current:i}}function ne(i){0>Ee||(i.current=we[Ee],we[Ee]=null,Ee--)}function ce(i,r){Ee++,we[Ee]=i.current,i.current=r}var de=q(null),Se=q(null),je=q(null),Oe=q(null);function pt(i,r){switch(ce(je,r),ce(Se,i),ce(de,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?Ub(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=Ub(r),i=Bb(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ne(de),ce(de,i)}function st(){ne(de),ne(Se),ne(je)}function ds(i){i.memoizedState!==null&&ce(Oe,i);var r=de.current,o=Bb(r,i.type);r!==o&&(ce(Se,i),ce(de,o))}function Fn(i){Se.current===i&&(ne(de),ne(Se)),Oe.current===i&&(ne(Oe),yc._currentValue=ue)}var Fs,qs;function le(i){if(Fs===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);Fs=r&&r[1]||"",qs=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+i+qs}var gt=!1;function oi(i,r){if(!i||gt)return"";gt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(ee){var X=ee}Reflect.construct(i,[],se)}else{try{se.call()}catch(ee){X=ee}i.call(se.prototype)}}else{try{throw Error()}catch(ee){X=ee}(se=i())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(ee){if(ee&&X&&typeof ee.stack=="string")return[ee.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),_=g[0],C=g[1];if(_&&C){var z=_.split(`
`),Q=C.split(`
`);for(m=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(c===z.length||m===Q.length)for(c=z.length-1,m=Q.length-1;1<=c&&0<=m&&z[c]!==Q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(z[c]!==Q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||z[c]!==Q[m]){var te=`
`+z[c].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=c&&0<=m);break}}}finally{gt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?le(o):""}function Ii(i,r){switch(i.tag){case 26:case 27:case 5:return le(i.type);case 16:return le("Lazy");case 13:return i.child!==r&&r!==null?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return oi(i.type,!1);case 11:return oi(i.type.render,!1);case 1:return oi(i.type,!0);case 31:return le("Activity");default:return""}}function xn(i){try{var r="",o=null;do r+=Ii(i,o),o=i,i=i.return;while(i);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var At=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Hs=t.unstable_cancelCallback,Df=t.unstable_shouldYield,Su=t.unstable_requestPaint,fn=t.unstable_now,Yr=t.unstable_getCurrentPriorityLevel,bl=t.unstable_ImmediatePriority,wl=t.unstable_UserBlockingPriority,Gs=t.unstable_NormalPriority,Pf=t.unstable_LowPriority,Au=t.unstable_IdlePriority,Nu=t.log,Ru=t.unstable_setDisableYieldValue,li=null,Wt=null;function qn(i){if(typeof Nu=="function"&&Ru(i),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(li,i)}catch{}}var wt=Math.clz32?Math.clz32:ju,Cu=Math.log,Fa=Math.LN2;function ju(i){return i>>>=0,i===0?32:31-(Cu(i)/Fa|0)|0}var ki=256,Wr=262144,Nt=4194304;function Di(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Pi(i,r,o){var c=i.pendingLanes;if(c===0)return 0;var m=0,g=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?m=Di(c):(_&=C,_!==0?m=Di(_):o||(o=C&~i,o!==0&&(m=Di(o))))):(C=c&~g,C!==0?m=Di(C):_!==0?m=Di(_):o||(o=c&~i,o!==0&&(m=Di(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function ci(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Mf(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iu(){var i=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),i}function Mi(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function Qr(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Vf(i,r,o,c,m,g){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,z=i.expirationTimes,Q=i.hiddenUpdates;for(o=_&~o;0<o;){var te=31-wt(o),se=1<<te;C[te]=0,z[te]=-1;var X=Q[te];if(X!==null)for(Q[te]=null,te=0;te<X.length;te++){var ee=X[te];ee!==null&&(ee.lane&=-536870913)}o&=~se}c!==0&&Xr(i,c,0),g!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=g&~(_&~r))}function Xr(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var c=31-wt(r);i.entangledLanes|=r,i.entanglements[c]=i.entanglements[c]|1073741824|o&261930}function _l(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var c=31-wt(o),m=1<<c;m&r|i[c]&r&&(i[c]|=r),o&=~m}}function Tl(i,r){var o=r&-r;return o=(o&42)!==0?1:Jr(o),(o&(i.suspendedLanes|r))!==0?0:o}function Jr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ku(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:cw(i.type))}function ui(i,r){var o=oe.p;try{return oe.p=i,r()}finally{oe.p=o}}var hi=Math.random().toString(36).slice(2),Rt="__reactFiber$"+hi,Ht="__reactProps$"+hi,Vi="__reactContainer$"+hi,qa="__reactEvents$"+hi,Of="__reactListeners$"+hi,Du="__reactHandles$"+hi,Pu="__reactResources$"+hi,Oi="__reactMarker$"+hi;function Ha(i){delete i[Rt],delete i[Ht],delete i[qa],delete i[Of],delete i[Du]}function Li(i){var r=i[Rt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Vi]||o[Rt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Kb(i);i!==null;){if(o=i[Rt])return o;i=Kb(i)}return r}i=o,o=i.parentNode}return null}function Hn(i){if(i=i[Rt]||i[Vi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Cn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Ui(i){var r=i[Pu];return r||(r=i[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(i){i[Oi]=!0}var El=new Set,Sl={};function Bi(i,r){zi(i,r),zi(i+"Capture",r)}function zi(i,r){for(Sl[i]=r,i=0;i<r.length;i++)El.add(r[i])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Nl={},Rl={};function Mu(i){return At.call(Rl,i)?!0:At.call(Nl,i)?!1:Al.test(i)?Rl[i]=!0:(Nl[i]=!0,!1)}function Ga(i,r,o){if(Mu(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function jn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function jt(i,r,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+c)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $s(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cl(i,r,o){var c=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(i,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Qe(i){if(!i._valueTracker){var r=$s(i)?"checked":"value";i._valueTracker=Cl(i,r,""+i[r])}}function Zr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return i&&(c=$s(i)?i.checked?"true":"false":i.value),i=c,i!==o?(r.setValue(i),!0):!1}function Fi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ea=/[\n"\\]/g;function vn(i){return i.replace(ea,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function $a(i,r,o,c,m,g,_,C){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Gt(r)):i.value!==""+Gt(r)&&(i.value=""+Gt(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?jl(i,_,Gt(r)):o!=null?jl(i,_,Gt(o)):c!=null&&i.removeAttribute("value"),m==null&&g!=null&&(i.defaultChecked=!!g),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+Gt(C):i.removeAttribute("name")}function Vu(i,r,o,c,m,g,_,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Qe(i);return}o=o!=null?""+Gt(o):"",r=r!=null?""+Gt(r):o,C||r===i.value||(i.value=r),i.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=C?i.checked:!!c,i.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),Qe(i)}function jl(i,r,o){r==="number"&&Fi(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ks(i,r,o,c){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Gt(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Ou(i,r,o){if(r!=null&&(r=""+Gt(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+Gt(o):""}function Ys(i,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(De(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Gt(r),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c),Qe(i)}function bn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Il(i,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":c?i.setProperty(r,o):typeof o!="number"||o===0||Lu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function kl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Il(i,m,c)}else for(var g in r)r.hasOwnProperty(g)&&Il(i,g,r[g])}function Ka(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ya(i){return Ws.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function di(){}var Dl=null;function Gn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Qs=null,qi=null;function ta(i){var r=Hn(i);if(r&&(i=r.stateNode)){var o=i[Ht]||null;e:switch(i=r.stateNode,r.type){case"input":if($a(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==i&&c.form===i.form){var m=c[Ht]||null;if(!m)throw Error(s(90));$a(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===i.form&&Zr(c)}break e;case"textarea":Ou(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Ks(i,!!o.multiple,r,!1)}}}var Wa=!1;function Xs(i,r,o){if(Wa)return i(r,o);Wa=!0;try{var c=i(r);return c}finally{if(Wa=!1,(Qs!==null||qi!==null)&&(kh(),Qs&&(r=Qs,i=qi,qi=Qs=null,ta(r),i)))for(r=0;r<i.length;r++)ta(i[r])}}function fi(i,r){var o=i.stateNode;if(o===null)return null;var c=o[Ht]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=!1;if($n)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){na=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{na=!1}var Hi=null,Pl=null,ia=null;function Ml(){if(ia)return ia;var i,r=Pl,o=r.length,c,m="value"in Hi?Hi.value:Hi.textContent,g=m.length;for(i=0;i<o&&r[i]===m[i];i++);var _=o-i;for(c=1;c<=_&&r[o-c]===m[g-c];c++);return ia=m.slice(i,1<c?1-c:void 0)}function sa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ms(){return!0}function mi(){return!1}function Qt(i){function r(o,c,m,g,_){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ms:mi,this.isPropagationStopped=mi,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),r}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=Qt(ps),Js=w({},ps,{view:0,detail:0}),Vl=Qt(Js),Zs,Qa,$i,Xa=w({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$i&&($i&&i.type==="mousemove"?(Zs=i.screenX-$i.screenX,Qa=i.screenY-$i.screenY):Qa=Zs=0,$i=i),Zs)},movementY:function(i){return"movementY"in i?i.movementY:Qa}}),Ol=Qt(Xa),ra=w({},Xa,{dataTransfer:0}),Bu=Qt(ra),zu=w({},Js,{relatedTarget:0}),aa=Qt(zu),Ll=w({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=Qt(Ll),Ja=w({},ps,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qu=Qt(Ja),Hu=w({},ps,{data:0}),Ki=Qt(Hu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ku[i])?!!r[i]:!1}function er(){return Yu}var mn=w({},Js,{key:function(i){if(i.key){var r=Gu[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$u[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(i){return i.type==="keypress"?sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Wu=Qt(mn),Qu=w({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gs=Qt(Qu),d=w({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),v=Qt(d),S=w({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=Qt(S),Y=w({},Xa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=Qt(Y),he=w({},ps,{newState:0,oldState:0}),Ie=Qt(he),_t=[9,13,27,32],Ke=$n&&"CompositionEvent"in window,ut=null;$n&&"documentMode"in document&&(ut=document.documentMode);var Kn=$n&&"TextEvent"in window&&!ut,Yi=$n&&(!Ke||ut&&8<ut&&11>=ut),pi=" ",gi=!1;function oa(i,r){switch(i){case"keyup":return _t.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Za(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var eo=!1;function uN(i,r){switch(i){case"compositionend":return Za(r);case"keypress":return r.which!==32?null:(gi=!0,pi);case"textInput":return i=r.data,i===pi&&gi?null:i;default:return null}}function hN(i,r){if(eo)return i==="compositionend"||!Ke&&oa(i,r)?(i=Ml(),ia=Pl=Hi=null,eo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yi&&r.locale!=="ko"?null:r.data;default:return null}}var dN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!dN[i.type]:r==="textarea"}function X0(i,r,o,c){Qs?qi?qi.push(c):qi=[c]:Qs=c,r=Uh(r,"onChange"),0<r.length&&(o=new Gi("onChange","change",null,o,c),i.push({event:o,listeners:r}))}var Ul=null,Bl=null;function fN(i){Db(i,0)}function Xu(i){var r=Cn(i);if(Zr(r))return i}function J0(i,r){if(i==="change")return r}var Z0=!1;if($n){var Lf;if($n){var Uf="oninput"in document;if(!Uf){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),Uf=typeof ex.oninput=="function"}Lf=Uf}else Lf=!1;Z0=Lf&&(!document.documentMode||9<document.documentMode)}function tx(){Ul&&(Ul.detachEvent("onpropertychange",nx),Bl=Ul=null)}function nx(i){if(i.propertyName==="value"&&Xu(Bl)){var r=[];X0(r,Bl,i,Gn(i)),Xs(fN,r)}}function mN(i,r,o){i==="focusin"?(tx(),Ul=r,Bl=o,Ul.attachEvent("onpropertychange",nx)):i==="focusout"&&tx()}function pN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xu(Bl)}function gN(i,r){if(i==="click")return Xu(r)}function yN(i,r){if(i==="input"||i==="change")return Xu(r)}function xN(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var In=typeof Object.is=="function"?Object.is:xN;function zl(i,r){if(In(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!At.call(r,m)||!In(i[m],r[m]))return!1}return!0}function ix(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function sx(i,r){var o=ix(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=r&&c>=r)return{node:o,offset:r-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ix(o)}}function rx(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?rx(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ax(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Fi(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Fi(i.document)}return r}function Bf(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var vN=$n&&"documentMode"in document&&11>=document.documentMode,to=null,zf=null,Fl=null,Ff=!1;function ox(i,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ff||to==null||to!==Fi(c)||(c=to,"selectionStart"in c&&Bf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Fl&&zl(Fl,c)||(Fl=c,c=Uh(zf,"onSelect"),0<c.length&&(r=new Gi("onSelect","select",null,r,o),i.push({event:r,listeners:c}),r.target=to)))}function la(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var no={animationend:la("Animation","AnimationEnd"),animationiteration:la("Animation","AnimationIteration"),animationstart:la("Animation","AnimationStart"),transitionrun:la("Transition","TransitionRun"),transitionstart:la("Transition","TransitionStart"),transitioncancel:la("Transition","TransitionCancel"),transitionend:la("Transition","TransitionEnd")},qf={},lx={};$n&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function ca(i){if(qf[i])return qf[i];if(!no[i])return i;var r=no[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in lx)return qf[i]=r[o];return i}var cx=ca("animationend"),ux=ca("animationiteration"),hx=ca("animationstart"),bN=ca("transitionrun"),wN=ca("transitionstart"),_N=ca("transitioncancel"),dx=ca("transitionend"),fx=new Map,Hf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hf.push("scrollEnd");function yi(i,r){fx.set(i,r),Bi(r,[i])}var Ju=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Yn=[],io=0,Gf=0;function Zu(){for(var i=io,r=Gf=io=0;r<i;){var o=Yn[r];Yn[r++]=null;var c=Yn[r];Yn[r++]=null;var m=Yn[r];Yn[r++]=null;var g=Yn[r];if(Yn[r++]=null,c!==null&&m!==null){var _=c.pending;_===null?m.next=m:(m.next=_.next,_.next=m),c.pending=m}g!==0&&mx(o,m,g)}}function eh(i,r,o,c){Yn[io++]=i,Yn[io++]=r,Yn[io++]=o,Yn[io++]=c,Gf|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function $f(i,r,o,c){return eh(i,r,o,c),th(i)}function ua(i,r){return eh(i,null,null,r),th(i)}function mx(i,r,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=i.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(m=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,m&&r!==null&&(m=31-wt(o),i=g.hiddenUpdates,c=i[m],c===null?i[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function th(i){if(50<uc)throw uc=0,tp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var so={};function TN(i,r,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,r,o,c){return new TN(i,r,o,c)}function Kf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ys(i,r){var o=i.alternate;return o===null?(o=kn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function px(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function nh(i,r,o,c,m,g){var _=0;if(c=i,typeof i=="function")Kf(i)&&(_=1);else if(typeof i=="string")_=RR(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=kn(31,o,r,m),i.elementType=R,i.lanes=g,i;case B:return ha(o.children,m,g,r);case U:_=8,m|=24;break;case G:return i=kn(12,o,r,m|2),i.elementType=G,i.lanes=g,i;case E:return i=kn(13,o,r,m),i.elementType=E,i.lanes=g,i;case j:return i=kn(19,o,r,m),i.elementType=j,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:_=10;break e;case $:_=9;break e;case b:_=11;break e;case N:_=14;break e;case A:_=16,c=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return r=kn(_,o,r,m),r.elementType=i,r.type=c,r.lanes=g,r}function ha(i,r,o,c){return i=kn(7,i,c,r),i.lanes=o,i}function Yf(i,r,o){return i=kn(6,i,null,r),i.lanes=o,i}function gx(i){var r=kn(18,null,null,0);return r.stateNode=i,r}function Wf(i,r,o){return r=kn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var yx=new WeakMap;function Wn(i,r){if(typeof i=="object"&&i!==null){var o=yx.get(i);return o!==void 0?o:(r={value:i,source:r,stack:xn(r)},yx.set(i,r),r)}return{value:i,source:r,stack:xn(r)}}var ro=[],ao=0,ih=null,ql=0,Qn=[],Xn=0,tr=null,Wi=1,Qi="";function xs(i,r){ro[ao++]=ql,ro[ao++]=ih,ih=i,ql=r}function xx(i,r,o){Qn[Xn++]=Wi,Qn[Xn++]=Qi,Qn[Xn++]=tr,tr=i;var c=Wi;i=Qi;var m=32-wt(c)-1;c&=~(1<<m),o+=1;var g=32-wt(r)+m;if(30<g){var _=m-m%5;g=(c&(1<<_)-1).toString(32),c>>=_,m-=_,Wi=1<<32-wt(r)+m|o<<m|c,Qi=g+i}else Wi=1<<g|o<<m|c,Qi=i}function Qf(i){i.return!==null&&(xs(i,1),xx(i,1,0))}function Xf(i){for(;i===ih;)ih=ro[--ao],ro[ao]=null,ql=ro[--ao],ro[ao]=null;for(;i===tr;)tr=Qn[--Xn],Qn[Xn]=null,Qi=Qn[--Xn],Qn[Xn]=null,Wi=Qn[--Xn],Qn[Xn]=null}function vx(i,r){Qn[Xn++]=Wi,Qn[Xn++]=Qi,Qn[Xn++]=tr,Wi=r.id,Qi=r.overflow,tr=i}var Xt=null,ot=null,qe=!1,nr=null,Jn=!1,Jf=Error(s(519));function ir(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Wn(r,i)),Jf}function bx(i){var r=i.stateNode,o=i.type,c=i.memoizedProps;switch(r[Rt]=i,r[Ht]=c,o){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(o=0;o<dc.length;o++)Ve(dc[o],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),Vu(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),Ys(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Ob(r.textContent,o)?(c.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),c.onScroll!=null&&Ve("scroll",r),c.onScrollEnd!=null&&Ve("scrollend",r),c.onClick!=null&&(r.onclick=di),r=!0):r=!1,r||ir(i,!0)}function wx(i){for(Xt=i.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Xt=Xt.return}}function oo(i){if(i!==Xt)return!1;if(!qe)return wx(i),qe=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||gp(i.type,i.memoizedProps)),o=!o),o&&ot&&ir(i),wx(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=$b(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ot=$b(i)}else r===27?(r=ot,yr(i.type)?(i=wp,wp=null,ot=i):ot=r):ot=Xt?ei(i.stateNode.nextSibling):null;return!0}function da(){ot=Xt=null,qe=!1}function Zf(){var i=nr;return i!==null&&(En===null?En=i:En.push.apply(En,i),nr=null),i}function Hl(i){nr===null?nr=[i]:nr.push(i)}var em=q(null),fa=null,vs=null;function sr(i,r,o){ce(em,r._currentValue),r._currentValue=o}function bs(i){i._currentValue=em.current,ne(em)}function tm(i,r,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),i===o)break;i=i.return}}function nm(i,r,o,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var g=m.dependencies;if(g!==null){var _=m.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=m;for(var z=0;z<r.length;z++)if(C.context===r[z]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),tm(g.return,o,i),c||(_=null);break e}g=C.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(s(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),tm(_,o,i),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===i){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function lo(i,r,o,c){i=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var C=m.type;In(m.pendingProps.value,_.value)||(i!==null?i.push(C):i=[C])}}else if(m===Oe.current){if(_=m.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(yc):i=[yc])}m=m.return}i!==null&&nm(r,i,o,c),r.flags|=262144}function sh(i){for(i=i.firstContext;i!==null;){if(!In(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ma(i){fa=i,vs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Jt(i){return _x(fa,i)}function rh(i,r){return fa===null&&ma(i),_x(i,r)}function _x(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},vs===null){if(i===null)throw Error(s(308));vs=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else vs=vs.next=r;return o}var EN=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},SN=t.unstable_scheduleCallback,AN=t.unstable_NormalPriority,It={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new EN,data:new Map,refCount:0}}function Gl(i){i.refCount--,i.refCount===0&&SN(AN,function(){i.controller.abort()})}var $l=null,sm=0,co=0,uo=null;function NN(i,r){if($l===null){var o=$l=[];sm=0,co=op(),uo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return sm++,r.then(Tx,Tx),r}function Tx(){if(--sm===0&&$l!==null){uo!==null&&(uo.status="fulfilled");var i=$l;$l=null,co=0,uo=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function RN(i,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Ex=J.S;J.S=function(i,r){ob=fn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NN(i,r),Ex!==null&&Ex(i,r)};var pa=q(null);function rm(){var i=pa.current;return i!==null?i:it.pooledCache}function ah(i,r){r===null?ce(pa,pa.current):ce(pa,r.pool)}function Sx(){var i=rm();return i===null?null:{parent:It._currentValue,pool:i}}var ho=Error(s(460)),am=Error(s(474)),oh=Error(s(542)),lh={then:function(){}};function Ax(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Nx(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(di,di),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Cx(i),i;default:if(typeof r.status=="string")r.then(di,di);else{if(i=it,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,Cx(i),i}throw ya=r,ho}}function ga(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ya=o,ho):o}}var ya=null;function Rx(){if(ya===null)throw Error(s(459));var i=ya;return ya=null,i}function Cx(i){if(i===ho||i===oh)throw Error(s(483))}var fo=null,Kl=0;function ch(i){var r=Kl;return Kl+=1,fo===null&&(fo=[]),Nx(fo,i,r)}function Yl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function uh(i,r){throw r.$$typeof===T?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function jx(i){function r(K,H){if(i){var W=K.deletions;W===null?(K.deletions=[H],K.flags|=16):W.push(H)}}function o(K,H){if(!i)return null;for(;H!==null;)r(K,H),H=H.sibling;return null}function c(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function m(K,H){return K=ys(K,H),K.index=0,K.sibling=null,K}function g(K,H,W){return K.index=W,i?(W=K.alternate,W!==null?(W=W.index,W<H?(K.flags|=67108866,H):W):(K.flags|=67108866,H)):(K.flags|=1048576,H)}function _(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function C(K,H,W,ie){return H===null||H.tag!==6?(H=Yf(W,K.mode,ie),H.return=K,H):(H=m(H,W),H.return=K,H)}function z(K,H,W,ie){var ve=W.type;return ve===B?te(K,H,W.props.children,ie,W.key):H!==null&&(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&ga(ve)===H.type)?(H=m(H,W.props),Yl(H,W),H.return=K,H):(H=nh(W.type,W.key,W.props,null,K.mode,ie),Yl(H,W),H.return=K,H)}function Q(K,H,W,ie){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Wf(W,K.mode,ie),H.return=K,H):(H=m(H,W.children||[]),H.return=K,H)}function te(K,H,W,ie,ve){return H===null||H.tag!==7?(H=ha(W,K.mode,ie,ve),H.return=K,H):(H=m(H,W),H.return=K,H)}function se(K,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Yf(""+H,K.mode,W),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case I:return W=nh(H.type,H.key,H.props,null,K.mode,W),Yl(W,H),W.return=K,W;case D:return H=Wf(H,K.mode,W),H.return=K,H;case A:return H=ga(H),se(K,H,W)}if(De(H)||F(H))return H=ha(H,K.mode,W,null),H.return=K,H;if(typeof H.then=="function")return se(K,ch(H),W);if(H.$$typeof===M)return se(K,rh(K,H),W);uh(K,H)}return null}function X(K,H,W,ie){var ve=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return ve!==null?null:C(K,H,""+W,ie);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case I:return W.key===ve?z(K,H,W,ie):null;case D:return W.key===ve?Q(K,H,W,ie):null;case A:return W=ga(W),X(K,H,W,ie)}if(De(W)||F(W))return ve!==null?null:te(K,H,W,ie,null);if(typeof W.then=="function")return X(K,H,ch(W),ie);if(W.$$typeof===M)return X(K,H,rh(K,W),ie);uh(K,W)}return null}function ee(K,H,W,ie,ve){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return K=K.get(W)||null,C(H,K,""+ie,ve);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return K=K.get(ie.key===null?W:ie.key)||null,z(H,K,ie,ve);case D:return K=K.get(ie.key===null?W:ie.key)||null,Q(H,K,ie,ve);case A:return ie=ga(ie),ee(K,H,W,ie,ve)}if(De(ie)||F(ie))return K=K.get(W)||null,te(H,K,ie,ve,null);if(typeof ie.then=="function")return ee(K,H,W,ch(ie),ve);if(ie.$$typeof===M)return ee(K,H,W,rh(H,ie),ve);uh(H,ie)}return null}function pe(K,H,W,ie){for(var ve=null,Ge=null,ye=H,Pe=H=0,Ue=null;ye!==null&&Pe<W.length;Pe++){ye.index>Pe?(Ue=ye,ye=null):Ue=ye.sibling;var $e=X(K,ye,W[Pe],ie);if($e===null){ye===null&&(ye=Ue);break}i&&ye&&$e.alternate===null&&r(K,ye),H=g($e,H,Pe),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e,ye=Ue}if(Pe===W.length)return o(K,ye),qe&&xs(K,Pe),ve;if(ye===null){for(;Pe<W.length;Pe++)ye=se(K,W[Pe],ie),ye!==null&&(H=g(ye,H,Pe),Ge===null?ve=ye:Ge.sibling=ye,Ge=ye);return qe&&xs(K,Pe),ve}for(ye=c(ye);Pe<W.length;Pe++)Ue=ee(ye,K,Pe,W[Pe],ie),Ue!==null&&(i&&Ue.alternate!==null&&ye.delete(Ue.key===null?Pe:Ue.key),H=g(Ue,H,Pe),Ge===null?ve=Ue:Ge.sibling=Ue,Ge=Ue);return i&&ye.forEach(function(_r){return r(K,_r)}),qe&&xs(K,Pe),ve}function _e(K,H,W,ie){if(W==null)throw Error(s(151));for(var ve=null,Ge=null,ye=H,Pe=H=0,Ue=null,$e=W.next();ye!==null&&!$e.done;Pe++,$e=W.next()){ye.index>Pe?(Ue=ye,ye=null):Ue=ye.sibling;var _r=X(K,ye,$e.value,ie);if(_r===null){ye===null&&(ye=Ue);break}i&&ye&&_r.alternate===null&&r(K,ye),H=g(_r,H,Pe),Ge===null?ve=_r:Ge.sibling=_r,Ge=_r,ye=Ue}if($e.done)return o(K,ye),qe&&xs(K,Pe),ve;if(ye===null){for(;!$e.done;Pe++,$e=W.next())$e=se(K,$e.value,ie),$e!==null&&(H=g($e,H,Pe),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e);return qe&&xs(K,Pe),ve}for(ye=c(ye);!$e.done;Pe++,$e=W.next())$e=ee(ye,K,Pe,$e.value,ie),$e!==null&&(i&&$e.alternate!==null&&ye.delete($e.key===null?Pe:$e.key),H=g($e,H,Pe),Ge===null?ve=$e:Ge.sibling=$e,Ge=$e);return i&&ye.forEach(function(UR){return r(K,UR)}),qe&&xs(K,Pe),ve}function nt(K,H,W,ie){if(typeof W=="object"&&W!==null&&W.type===B&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case I:e:{for(var ve=W.key;H!==null;){if(H.key===ve){if(ve=W.type,ve===B){if(H.tag===7){o(K,H.sibling),ie=m(H,W.props.children),ie.return=K,K=ie;break e}}else if(H.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&ga(ve)===H.type){o(K,H.sibling),ie=m(H,W.props),Yl(ie,W),ie.return=K,K=ie;break e}o(K,H);break}else r(K,H);H=H.sibling}W.type===B?(ie=ha(W.props.children,K.mode,ie,W.key),ie.return=K,K=ie):(ie=nh(W.type,W.key,W.props,null,K.mode,ie),Yl(ie,W),ie.return=K,K=ie)}return _(K);case D:e:{for(ve=W.key;H!==null;){if(H.key===ve)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o(K,H.sibling),ie=m(H,W.children||[]),ie.return=K,K=ie;break e}else{o(K,H);break}else r(K,H);H=H.sibling}ie=Wf(W,K.mode,ie),ie.return=K,K=ie}return _(K);case A:return W=ga(W),nt(K,H,W,ie)}if(De(W))return pe(K,H,W,ie);if(F(W)){if(ve=F(W),typeof ve!="function")throw Error(s(150));return W=ve.call(W),_e(K,H,W,ie)}if(typeof W.then=="function")return nt(K,H,ch(W),ie);if(W.$$typeof===M)return nt(K,H,rh(K,W),ie);uh(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o(K,H.sibling),ie=m(H,W),ie.return=K,K=ie):(o(K,H),ie=Yf(W,K.mode,ie),ie.return=K,K=ie),_(K)):o(K,H)}return function(K,H,W,ie){try{Kl=0;var ve=nt(K,H,W,ie);return fo=null,ve}catch(ye){if(ye===ho||ye===oh)throw ye;var Ge=kn(29,ye,null,K.mode);return Ge.lanes=ie,Ge.return=K,Ge}}}var xa=jx(!0),Ix=jx(!1),rr=!1;function om(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ar(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function or(i,r,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=th(i),mx(i,null,o),r}return eh(i,c,r,o),th(i)}function Wl(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,_l(i,o)}}function cm(i,r){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var um=!1;function Ql(){if(um){var i=uo;if(i!==null)throw i}}function Xl(i,r,o,c){um=!1;var m=i.updateQueue;rr=!1;var g=m.firstBaseUpdate,_=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var z=C,Q=z.next;z.next=null,_===null?g=Q:_.next=Q,_=z;var te=i.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==_&&(C===null?te.firstBaseUpdate=Q:C.next=Q,te.lastBaseUpdate=z))}if(g!==null){var se=m.baseState;_=0,te=Q=z=null,C=g;do{var X=C.lane&-536870913,ee=X!==C.lane;if(ee?(Le&X)===X:(c&X)===X){X!==0&&X===co&&(um=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var pe=i,_e=C;X=r;var nt=o;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){se=pe.call(nt,se,X);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,X=typeof pe=="function"?pe.call(nt,se,X):pe,X==null)break e;se=w({},se,X);break e;case 2:rr=!0}}X=C.callback,X!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[X]:ee.push(X))}else ee={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(Q=te=ee,z=se):te=te.next=ee,_|=X;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);te===null&&(z=se),m.baseState=z,m.firstBaseUpdate=Q,m.lastBaseUpdate=te,g===null&&(m.shared.lanes=0),dr|=_,i.lanes=_,i.memoizedState=se}}function kx(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function Dx(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)kx(o[i],r)}var mo=q(null),hh=q(0);function Px(i,r){i=Cs,ce(hh,i),ce(mo,r),Cs=i|r.baseLanes}function hm(){ce(hh,Cs),ce(mo,mo.current)}function dm(){Cs=hh.current,ne(mo),ne(hh)}var Dn=q(null),Zn=null;function lr(i){var r=i.alternate;ce(Tt,Tt.current&1),ce(Dn,i),Zn===null&&(r===null||mo.current!==null||r.memoizedState!==null)&&(Zn=i)}function fm(i){ce(Tt,Tt.current),ce(Dn,i),Zn===null&&(Zn=i)}function Mx(i){i.tag===22?(ce(Tt,Tt.current),ce(Dn,i),Zn===null&&(Zn=i)):cr()}function cr(){ce(Tt,Tt.current),ce(Dn,Dn.current)}function Pn(i){ne(Dn),Zn===i&&(Zn=null),ne(Tt)}var Tt=q(0);function dh(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||vp(o)||bp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ws=0,ke=null,et=null,kt=null,fh=!1,po=!1,va=!1,mh=0,Jl=0,go=null,CN=0;function yt(){throw Error(s(321))}function mm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!In(i[o],r[o]))return!1;return!0}function pm(i,r,o,c,m,g){return ws=g,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,J.H=i===null||i.memoizedState===null?xv:jm,va=!1,g=o(c,m),va=!1,po&&(g=Ox(r,o,c,m)),Vx(i),g}function Vx(i){J.H=tc;var r=et!==null&&et.next!==null;if(ws=0,kt=et=ke=null,fh=!1,Jl=0,go=null,r)throw Error(s(300));i===null||Dt||(i=i.dependencies,i!==null&&sh(i)&&(Dt=!0))}function Ox(i,r,o,c){ke=i;var m=0;do{if(po&&(go=null),Jl=0,po=!1,25<=m)throw Error(s(301));if(m+=1,kt=et=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}J.H=vv,g=r(o,c)}while(po);return g}function jN(){var i=J.H,r=i.useState()[0];return r=typeof r.then=="function"?Zl(r):r,i=i.useState()[0],(et!==null?et.memoizedState:null)!==i&&(ke.flags|=1024),r}function gm(){var i=mh!==0;return mh=0,i}function ym(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function xm(i){if(fh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}fh=!1}ws=0,kt=et=ke=null,po=!1,Jl=mh=0,go=null}function pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ke.memoizedState=kt=i:kt=kt.next=i,kt}function Et(){if(et===null){var i=ke.alternate;i=i!==null?i.memoizedState:null}else i=et.next;var r=kt===null?ke.memoizedState:kt.next;if(r!==null)kt=r,et=i;else{if(i===null)throw ke.alternate===null?Error(s(467)):Error(s(310));et=i,i={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},kt===null?ke.memoizedState=kt=i:kt=kt.next=i}return kt}function ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zl(i){var r=Jl;return Jl+=1,go===null&&(go=[]),i=Nx(go,i,r),r=ke,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,J.H=r===null||r.memoizedState===null?xv:jm),i}function gh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zl(i);if(i.$$typeof===M)return Jt(i)}throw Error(s(438,String(i)))}function vm(i){var r=null,o=ke.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=ke.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=ph(),ke.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),c=0;c<i;c++)o[c]=L;return r.index++,o}function _s(i,r){return typeof r=="function"?r(i):r}function yh(i){var r=Et();return bm(r,et,i)}function bm(i,r,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=i.baseQueue,g=c.pending;if(g!==null){if(m!==null){var _=m.next;m.next=g.next,g.next=_}r.baseQueue=m=g,c.pending=null}if(g=i.baseState,m===null)i.memoizedState=g;else{r=m.next;var C=_=null,z=null,Q=r,te=!1;do{var se=Q.lane&-536870913;if(se!==Q.lane?(Le&se)===se:(ws&se)===se){var X=Q.revertLane;if(X===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),se===co&&(te=!0);else if((ws&X)===X){Q=Q.next,X===co&&(te=!0);continue}else se={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(C=z=se,_=g):z=z.next=se,ke.lanes|=X,dr|=X;se=Q.action,va&&o(g,se),g=Q.hasEagerState?Q.eagerState:o(g,se)}else X={lane:se,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},z===null?(C=z=X,_=g):z=z.next=X,ke.lanes|=se,dr|=se;Q=Q.next}while(Q!==null&&Q!==r);if(z===null?_=g:z.next=C,!In(g,i.memoizedState)&&(Dt=!0,te&&(o=uo,o!==null)))throw o;i.memoizedState=g,i.baseState=_,i.baseQueue=z,c.lastRenderedState=g}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function wm(i){var r=Et(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do g=i(g,_.action),_=_.next;while(_!==m);In(g,r.memoizedState)||(Dt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Lx(i,r,o){var c=ke,m=Et(),g=qe;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!In((et||m).memoizedState,o);if(_&&(m.memoizedState=o,Dt=!0),m=m.queue,Em(zx.bind(null,c,m,i),[i]),m.getSnapshot!==r||_||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,yo(9,{destroy:void 0},Bx.bind(null,c,m,o,r),null),it===null)throw Error(s(349));g||(ws&127)!==0||Ux(c,r,o)}return o}function Ux(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ke.updateQueue,r===null?(r=ph(),ke.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Bx(i,r,o,c){r.value=o,r.getSnapshot=c,Fx(r)&&qx(i)}function zx(i,r,o){return o(function(){Fx(r)&&qx(i)})}function Fx(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!In(i,o)}catch{return!0}}function qx(i){var r=ua(i,2);r!==null&&Sn(r,i,2)}function _m(i){var r=pn();if(typeof i=="function"){var o=i;if(i=o(),va){qn(!0);try{o()}finally{qn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:i},r}function Hx(i,r,o,c){return i.baseState=o,bm(i,et,typeof c=="function"?c:_s)}function IN(i,r,o,c,m){if(bh(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};J.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Gx(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Gx(i,r){var o=r.action,c=r.payload,m=i.state;if(r.isTransition){var g=J.T,_={};J.T=_;try{var C=o(m,c),z=J.S;z!==null&&z(_,C),$x(i,r,C)}catch(Q){Tm(i,r,Q)}finally{g!==null&&_.types!==null&&(g.types=_.types),J.T=g}}else try{g=o(m,c),$x(i,r,g)}catch(Q){Tm(i,r,Q)}}function $x(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Kx(i,r,c)},function(c){return Tm(i,r,c)}):Kx(i,r,o)}function Kx(i,r,o){r.status="fulfilled",r.value=o,Yx(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Gx(i,o)))}function Tm(i,r,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Yx(r),r=r.next;while(r!==c)}i.action=null}function Yx(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Wx(i,r){return r}function Qx(i,r){if(qe){var o=it.formState;if(o!==null){e:{var c=ke;if(qe){if(ot){t:{for(var m=ot,g=Jn;m.nodeType!==8;){if(!g){m=null;break t}if(m=ei(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ot=ei(m.nextSibling),c=m.data==="F!";break e}}ir(c)}c=!1}c&&(r=o[0])}}return o=pn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wx,lastRenderedState:r},o.queue=c,o=pv.bind(null,ke,c),c.dispatch=o,c=_m(!1),g=Cm.bind(null,ke,!1,c.queue),c=pn(),m={state:r,dispatch:null,action:i,pending:null},c.queue=m,o=IN.bind(null,ke,m,g,o),m.dispatch=o,c.memoizedState=i,[r,o,!1]}function Xx(i){var r=Et();return Jx(r,et,i)}function Jx(i,r,o){if(r=bm(i,r,Wx)[0],i=yh(_s)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Zl(r)}catch(_){throw _===ho?oh:_}else c=r;r=Et();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(ke.flags|=2048,yo(9,{destroy:void 0},kN.bind(null,m,o),null)),[c,g,i]}function kN(i,r){i.action=r}function Zx(i){var r=Et(),o=et;if(o!==null)return Jx(r,o,i);Et(),r=r.memoizedState,o=Et();var c=o.queue.dispatch;return o.memoizedState=i,[r,c,!1]}function yo(i,r,o,c){return i={tag:i,create:o,deps:c,inst:r,next:null},r=ke.updateQueue,r===null&&(r=ph(),ke.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,r.lastEffect=i),i}function ev(){return Et().memoizedState}function xh(i,r,o,c){var m=pn();ke.flags|=i,m.memoizedState=yo(1|r,{destroy:void 0},o,c===void 0?null:c)}function vh(i,r,o,c){var m=Et();c=c===void 0?null:c;var g=m.memoizedState.inst;et!==null&&c!==null&&mm(c,et.memoizedState.deps)?m.memoizedState=yo(r,g,o,c):(ke.flags|=i,m.memoizedState=yo(1|r,g,o,c))}function tv(i,r){xh(8390656,8,i,r)}function Em(i,r){vh(2048,8,i,r)}function DN(i){ke.flags|=4;var r=ke.updateQueue;if(r===null)r=ph(),ke.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function nv(i){var r=Et().memoizedState;return DN({ref:r,nextImpl:i}),function(){if((Ye&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function iv(i,r){return vh(4,2,i,r)}function sv(i,r){return vh(4,4,i,r)}function rv(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function av(i,r,o){o=o!=null?o.concat([i]):null,vh(4,4,rv.bind(null,r,i),o)}function Sm(){}function ov(i,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&mm(r,c[1])?c[0]:(o.memoizedState=[i,r],i)}function lv(i,r){var o=Et();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&mm(r,c[1]))return c[0];if(c=i(),va){qn(!0);try{i()}finally{qn(!1)}}return o.memoizedState=[c,r],c}function Am(i,r,o){return o===void 0||(ws&1073741824)!==0&&(Le&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=cb(),ke.lanes|=i,dr|=i,o)}function cv(i,r,o,c){return In(o,r)?o:mo.current!==null?(i=Am(i,o,c),In(i,r)||(Dt=!0),i):(ws&42)===0||(ws&1073741824)!==0&&(Le&261930)===0?(Dt=!0,i.memoizedState=o):(i=cb(),ke.lanes|=i,dr|=i,r)}function uv(i,r,o,c,m){var g=oe.p;oe.p=g!==0&&8>g?g:8;var _=J.T,C={};J.T=C,Cm(i,!1,r,o);try{var z=m(),Q=J.S;if(Q!==null&&Q(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var te=RN(z,c);ec(i,r,te,On(i))}else ec(i,r,c,On(i))}catch(se){ec(i,r,{then:function(){},status:"rejected",reason:se},On())}finally{oe.p=g,_!==null&&C.types!==null&&(_.types=C.types),J.T=_}}function PN(){}function Nm(i,r,o,c){if(i.tag!==5)throw Error(s(476));var m=hv(i).queue;uv(i,m,r,ue,o===null?PN:function(){return dv(i),o(c)})}function hv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:ue},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function dv(i){var r=hv(i);r.next===null&&(r=i.alternate.memoizedState),ec(i,r.next.queue,{},On())}function Rm(){return Jt(yc)}function fv(){return Et().memoizedState}function mv(){return Et().memoizedState}function MN(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=On();i=ar(o);var c=or(r,i,o);c!==null&&(Sn(c,r,o),Wl(c,r,o)),r={cache:im()},i.payload=r;return}r=r.return}}function VN(i,r,o){var c=On();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},bh(i)?gv(r,o):(o=$f(i,r,o,c),o!==null&&(Sn(o,i,c),yv(o,r,c)))}function pv(i,r,o){var c=On();ec(i,r,o,c)}function ec(i,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(bh(i))gv(r,m);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,C=g(_,o);if(m.hasEagerState=!0,m.eagerState=C,In(C,_))return eh(i,r,m,0),it===null&&Zu(),!1}catch{}if(o=$f(i,r,m,c),o!==null)return Sn(o,i,c),yv(o,r,c),!0}return!1}function Cm(i,r,o,c){if(c={lane:2,revertLane:op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},bh(i)){if(r)throw Error(s(479))}else r=$f(i,o,c,2),r!==null&&Sn(r,i,2)}function bh(i){var r=i.alternate;return i===ke||r!==null&&r===ke}function gv(i,r){po=fh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function yv(i,r,o){if((o&4194048)!==0){var c=r.lanes;c&=i.pendingLanes,o|=c,r.lanes=o,_l(i,o)}}var tc={readContext:Jt,use:gh,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};tc.useEffectEvent=yt;var xv={readContext:Jt,use:gh,useCallback:function(i,r){return pn().memoizedState=[i,r===void 0?null:r],i},useContext:Jt,useEffect:tv,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,xh(4194308,4,rv.bind(null,r,i),o)},useLayoutEffect:function(i,r){return xh(4194308,4,i,r)},useInsertionEffect:function(i,r){xh(4,2,i,r)},useMemo:function(i,r){var o=pn();r=r===void 0?null:r;var c=i();if(va){qn(!0);try{i()}finally{qn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(i,r,o){var c=pn();if(o!==void 0){var m=o(r);if(va){qn(!0);try{o(r)}finally{qn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=VN.bind(null,ke,i),[c.memoizedState,i]},useRef:function(i){var r=pn();return i={current:i},r.memoizedState=i},useState:function(i){i=_m(i);var r=i.queue,o=pv.bind(null,ke,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Sm,useDeferredValue:function(i,r){var o=pn();return Am(o,i,r)},useTransition:function(){var i=_m(!1);return i=uv.bind(null,ke,i.queue,!0,!1),pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var c=ke,m=pn();if(qe){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),it===null)throw Error(s(349));(Le&127)!==0||Ux(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,tv(zx.bind(null,c,g,i),[i]),c.flags|=2048,yo(9,{destroy:void 0},Bx.bind(null,c,g,o,r),null),o},useId:function(){var i=pn(),r=it.identifierPrefix;if(qe){var o=Qi,c=Wi;o=(c&~(1<<32-wt(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=mh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=CN++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Rm,useFormState:Qx,useActionState:Qx,useOptimistic:function(i){var r=pn();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Cm.bind(null,ke,!0,o),o.dispatch=r,[i,r]},useMemoCache:vm,useCacheRefresh:function(){return pn().memoizedState=MN.bind(null,ke)},useEffectEvent:function(i){var r=pn(),o={impl:i};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},jm={readContext:Jt,use:gh,useCallback:ov,useContext:Jt,useEffect:Em,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:lv,useReducer:yh,useRef:ev,useState:function(){return yh(_s)},useDebugValue:Sm,useDeferredValue:function(i,r){var o=Et();return cv(o,et.memoizedState,i,r)},useTransition:function(){var i=yh(_s)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:Zl(i),r]},useSyncExternalStore:Lx,useId:fv,useHostTransitionStatus:Rm,useFormState:Xx,useActionState:Xx,useOptimistic:function(i,r){var o=Et();return Hx(o,et,i,r)},useMemoCache:vm,useCacheRefresh:mv};jm.useEffectEvent=nv;var vv={readContext:Jt,use:gh,useCallback:ov,useContext:Jt,useEffect:Em,useImperativeHandle:av,useInsertionEffect:iv,useLayoutEffect:sv,useMemo:lv,useReducer:wm,useRef:ev,useState:function(){return wm(_s)},useDebugValue:Sm,useDeferredValue:function(i,r){var o=Et();return et===null?Am(o,i,r):cv(o,et.memoizedState,i,r)},useTransition:function(){var i=wm(_s)[0],r=Et().memoizedState;return[typeof i=="boolean"?i:Zl(i),r]},useSyncExternalStore:Lx,useId:fv,useHostTransitionStatus:Rm,useFormState:Zx,useActionState:Zx,useOptimistic:function(i,r){var o=Et();return et!==null?Hx(o,et,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:vm,useCacheRefresh:mv};vv.useEffectEvent=nv;function Im(i,r,o,c){r=i.memoizedState,o=o(c,r),o=o==null?r:w({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var km={enqueueSetState:function(i,r,o){i=i._reactInternals;var c=On(),m=ar(c);m.payload=r,o!=null&&(m.callback=o),r=or(i,m,c),r!==null&&(Sn(r,i,c),Wl(r,i,c))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var c=On(),m=ar(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=or(i,m,c),r!==null&&(Sn(r,i,c),Wl(r,i,c))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=On(),c=ar(o);c.tag=2,r!=null&&(c.callback=r),r=or(i,c,o),r!==null&&(Sn(r,i,o),Wl(r,i,o))}};function bv(i,r,o,c,m,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,_):r.prototype&&r.prototype.isPureReactComponent?!zl(o,c)||!zl(m,g):!0}function wv(i,r,o,c){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==i&&km.enqueueReplaceState(r,r.state,null)}function ba(i,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(i=i.defaultProps){o===r&&(o=w({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function _v(i){Ju(i)}function Tv(i){console.error(i)}function Ev(i){Ju(i)}function wh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Sv(i,r,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Dm(i,r,o){return o=ar(o),o.tag=3,o.payload={element:null},o.callback=function(){wh(i,r)},o}function Av(i){return i=ar(i),i.tag=3,i}function Nv(i,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;i.payload=function(){return m(g)},i.callback=function(){Sv(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){Sv(r,o,c),typeof m!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function ON(i,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&lo(r,o,m,!0),o=Dn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?Dh():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===lh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),sp(i,c,m)),!1;case 22:return o.flags|=65536,c===lh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),sp(i,c,m)),!1}throw Error(s(435,o.tag))}return sp(i,c,m),Dh(),!1}if(qe)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Jf&&(i=Error(s(422),{cause:c}),Hl(Wn(i,o)))):(c!==Jf&&(r=Error(s(423),{cause:c}),Hl(Wn(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Wn(c,o),m=Dm(i.stateNode,c,m),cm(i,m),xt!==4&&(xt=2)),!1;var g=Error(s(520),{cause:c});if(g=Wn(g,o),cc===null?cc=[g]:cc.push(g),xt!==4&&(xt=2),r===null)return!0;c=Wn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Dm(o.stateNode,c,i),cm(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(fr===null||!fr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Av(m),Nv(m,i,o,c),cm(o,m),!1}o=o.return}while(o!==null);return!1}var Pm=Error(s(461)),Dt=!1;function Zt(i,r,o,c){r.child=i===null?Ix(r,null,o,c):xa(r,i.child,o,c)}function Rv(i,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var _={};for(var C in c)C!=="ref"&&(_[C]=c[C])}else _=c;return ma(r),c=pm(i,r,o,_,g,m),C=gm(),i!==null&&!Dt?(ym(i,r,m),Ts(i,r,m)):(qe&&C&&Qf(r),r.flags|=1,Zt(i,r,c,m),r.child)}function Cv(i,r,o,c,m){if(i===null){var g=o.type;return typeof g=="function"&&!Kf(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,jv(i,r,g,c,m)):(i=nh(o.type,null,c,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!Fm(i,m)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:zl,o(_,c)&&i.ref===r.ref)return Ts(i,r,m)}return r.flags|=1,i=ys(g,c),i.ref=r.ref,i.return=r,r.child=i}function jv(i,r,o,c,m){if(i!==null){var g=i.memoizedProps;if(zl(g,c)&&i.ref===r.ref)if(Dt=!1,r.pendingProps=c=g,Fm(i,m))(i.flags&131072)!==0&&(Dt=!0);else return r.lanes=i.lanes,Ts(i,r,m)}return Mm(i,r,o,c,m)}function Iv(i,r,o,c){var m=c.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(c=r.child=i.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return kv(i,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&ah(r,g!==null?g.cachePool:null),g!==null?Px(r,g):hm(),Mx(r);else return c=r.lanes=536870912,kv(i,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(ah(r,g.cachePool),Px(r,g),cr(),r.memoizedState=null):(i!==null&&ah(r,null),hm(),cr());return Zt(i,r,m,o),r.child}function nc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function kv(i,r,o,c,m){var g=rm();return g=g===null?null:{parent:It._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&ah(r,null),hm(),Mx(r),i!==null&&lo(i,r,c,!0),r.childLanes=m,null}function _h(i,r){return r=Eh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function Dv(i,r,o){return xa(r,i.child,null,o),i=_h(r,r.pendingProps),i.flags|=2,Pn(r),r.memoizedState=null,i}function LN(i,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(qe){if(c.mode==="hidden")return i=_h(r,c),r.lanes=536870912,nc(null,i);if(fm(r),(i=ot)?(i=Gb(i,Jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Wi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=gx(i),o.return=r,r.child=o,Xt=r,ot=null)):i=null,i===null)throw ir(r);return r.lanes=536870912,null}return _h(r,c)}var g=i.memoizedState;if(g!==null){var _=g.dehydrated;if(fm(r),m)if(r.flags&256)r.flags&=-257,r=Dv(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Dt||lo(i,r,o,!1),m=(o&i.childLanes)!==0,Dt||m){if(c=it,c!==null&&(_=Tl(c,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,ua(i,_),Sn(c,i,_),Pm;Dh(),r=Dv(i,r,o)}else i=g.treeContext,ot=ei(_.nextSibling),Xt=r,qe=!0,nr=null,Jn=!1,i!==null&&vx(r,i),r=_h(r,c),r.flags|=4096;return r}return i=ys(i.child,{mode:c.mode,children:c.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Th(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Mm(i,r,o,c,m){return ma(r),o=pm(i,r,o,c,void 0,m),c=gm(),i!==null&&!Dt?(ym(i,r,m),Ts(i,r,m)):(qe&&c&&Qf(r),r.flags|=1,Zt(i,r,o,m),r.child)}function Pv(i,r,o,c,m,g){return ma(r),r.updateQueue=null,o=Ox(r,c,o,m),Vx(i),c=gm(),i!==null&&!Dt?(ym(i,r,g),Ts(i,r,g)):(qe&&c&&Qf(r),r.flags|=1,Zt(i,r,o,g),r.child)}function Mv(i,r,o,c,m){if(ma(r),r.stateNode===null){var g=so,_=o.contextType;typeof _=="object"&&_!==null&&(g=Jt(_)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=km,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},om(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?Jt(_):so,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Im(r,o,_,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&km.enqueueReplaceState(g,g.state,null),Xl(r,c,g,m),Ql(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(i===null){g=r.stateNode;var C=r.memoizedProps,z=ba(o,C);g.props=z;var Q=g.context,te=o.contextType;_=so,typeof te=="object"&&te!==null&&(_=Jt(te));var se=o.getDerivedStateFromProps;te=typeof se=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||Q!==_)&&wv(r,g,c,_),rr=!1;var X=r.memoizedState;g.state=X,Xl(r,c,g,m),Ql(),Q=r.memoizedState,C||X!==Q||rr?(typeof se=="function"&&(Im(r,o,se,c),Q=r.memoizedState),(z=rr||bv(r,o,z,c,X,Q,_))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Q),g.props=c,g.state=Q,g.context=_,c=z):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,lm(i,r),_=r.memoizedProps,te=ba(o,_),g.props=te,se=r.pendingProps,X=g.context,Q=o.contextType,z=so,typeof Q=="object"&&Q!==null&&(z=Jt(Q)),C=o.getDerivedStateFromProps,(Q=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==se||X!==z)&&wv(r,g,c,z),rr=!1,X=r.memoizedState,g.state=X,Xl(r,c,g,m),Ql();var ee=r.memoizedState;_!==se||X!==ee||rr||i!==null&&i.dependencies!==null&&sh(i.dependencies)?(typeof C=="function"&&(Im(r,o,C,c),ee=r.memoizedState),(te=rr||bv(r,o,te,c,X,ee,z)||i!==null&&i.dependencies!==null&&sh(i.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ee,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ee,z)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ee),g.props=c,g.state=ee,g.context=z,c=te):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&X===i.memoizedState||(r.flags|=1024),c=!1)}return g=c,Th(i,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&c?(r.child=xa(r,i.child,null,m),r.child=xa(r,null,o,m)):Zt(i,r,o,m),r.memoizedState=g.state,i=r.child):i=Ts(i,r,m),i}function Vv(i,r,o,c){return da(),r.flags|=256,Zt(i,r,o,c),r.child}var Vm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Om(i){return{baseLanes:i,cachePool:Sx()}}function Lm(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Vn),i}function Ov(i,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=i!==null&&i.memoizedState===null?!1:(Tt.current&2)!==0),_&&(m=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(qe){if(m?lr(r):cr(),(i=ot)?(i=Gb(i,Jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:tr!==null?{id:Wi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},o=gx(i),o.return=r,r.child=o,Xt=r,ot=null)):i=null,i===null)throw ir(r);return bp(i)?r.lanes=32:r.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(cr(),m=r.mode,C=Eh({mode:"hidden",children:C},m),c=ha(c,m,o,null),C.return=r,c.return=r,C.sibling=c,r.child=C,c=r.child,c.memoizedState=Om(o),c.childLanes=Lm(i,_,o),r.memoizedState=Vm,nc(null,c)):(lr(r),Um(r,C))}var z=i.memoizedState;if(z!==null&&(C=z.dehydrated,C!==null)){if(g)r.flags&256?(lr(r),r.flags&=-257,r=Bm(i,r,o)):r.memoizedState!==null?(cr(),r.child=i.child,r.flags|=128,r=null):(cr(),C=c.fallback,m=r.mode,c=Eh({mode:"visible",children:c.children},m),C=ha(C,m,o,null),C.flags|=2,c.return=r,C.return=r,c.sibling=C,r.child=c,xa(r,i.child,null,o),c=r.child,c.memoizedState=Om(o),c.childLanes=Lm(i,_,o),r.memoizedState=Vm,r=nc(null,c));else if(lr(r),bp(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var Q=_.dgst;_=Q,c=Error(s(419)),c.stack="",c.digest=_,Hl({value:c,source:null,stack:null}),r=Bm(i,r,o)}else if(Dt||lo(i,r,o,!1),_=(o&i.childLanes)!==0,Dt||_){if(_=it,_!==null&&(c=Tl(_,o),c!==0&&c!==z.retryLane))throw z.retryLane=c,ua(i,c),Sn(_,i,c),Pm;vp(C)||Dh(),r=Bm(i,r,o)}else vp(C)?(r.flags|=192,r.child=i.child,r=null):(i=z.treeContext,ot=ei(C.nextSibling),Xt=r,qe=!0,nr=null,Jn=!1,i!==null&&vx(r,i),r=Um(r,c.children),r.flags|=4096);return r}return m?(cr(),C=c.fallback,m=r.mode,z=i.child,Q=z.sibling,c=ys(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,Q!==null?C=ys(Q,C):(C=ha(C,m,o,null),C.flags|=2),C.return=r,c.return=r,c.sibling=C,r.child=c,nc(null,c),c=r.child,C=i.child.memoizedState,C===null?C=Om(o):(m=C.cachePool,m!==null?(z=It._currentValue,m=m.parent!==z?{parent:z,pool:z}:m):m=Sx(),C={baseLanes:C.baseLanes|o,cachePool:m}),c.memoizedState=C,c.childLanes=Lm(i,_,o),r.memoizedState=Vm,nc(i.child,c)):(lr(r),o=i.child,i=o.sibling,o=ys(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function Um(i,r){return r=Eh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Eh(i,r){return i=kn(22,i,null,r),i.lanes=0,i}function Bm(i,r,o){return xa(r,i.child,null,o),i=Um(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Lv(i,r,o){i.lanes|=r;var c=i.alternate;c!==null&&(c.lanes|=r),tm(i.return,r,o)}function zm(i,r,o,c,m,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=m,_.treeForkCount=g)}function Uv(i,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var _=Tt.current,C=(_&2)!==0;if(C?(_=_&1|2,r.flags|=128):_&=1,ce(Tt,_),Zt(i,r,c,o),c=qe?ql:0,!C&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Lv(i,o,r);else if(i.tag===19)Lv(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&dh(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),zm(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&dh(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}zm(r,!0,o,null,g,c);break;case"together":zm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ts(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),dr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(lo(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ys(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ys(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function Fm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&sh(i)))}function UN(i,r,o){switch(r.tag){case 3:pt(r,r.stateNode.containerInfo),sr(r,It,i.memoizedState.cache),da();break;case 27:case 5:ds(r);break;case 4:pt(r,r.stateNode.containerInfo);break;case 10:sr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,fm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(lr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Ov(i,r,o):(lr(r),i=Ts(i,r,o),i!==null?i.sibling:null);lr(r);break;case 19:var m=(i.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(lo(i,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return Uv(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Tt,Tt.current),c)break;return null;case 22:return r.lanes=0,Iv(i,r,o,r.pendingProps);case 24:sr(r,It,i.memoizedState.cache)}return Ts(i,r,o)}function Bv(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Dt=!0;else{if(!Fm(i,o)&&(r.flags&128)===0)return Dt=!1,UN(i,r,o);Dt=(i.flags&131072)!==0}else Dt=!1,qe&&(r.flags&1048576)!==0&&xx(r,ql,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(i=ga(r.elementType),r.type=i,typeof i=="function")Kf(i)?(c=ba(i,c),r.tag=1,r=Mv(null,r,i,c,o)):(r.tag=0,r=Mm(null,r,i,c,o));else{if(i!=null){var m=i.$$typeof;if(m===b){r.tag=11,r=Rv(null,r,i,c,o);break e}else if(m===N){r.tag=14,r=Cv(null,r,i,c,o);break e}}throw r=xe(i)||i,Error(s(306,r,""))}}return r;case 0:return Mm(i,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=ba(c,r.pendingProps),Mv(i,r,c,m,o);case 3:e:{if(pt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,lm(i,r),Xl(r,c,null,o);var _=r.memoizedState;if(c=_.cache,sr(r,It,c),c!==g.cache&&nm(r,[It],o,!0),Ql(),c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Vv(i,r,c,o);break e}else if(c!==m){m=Wn(Error(s(424)),r),Hl(m),r=Vv(i,r,c,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ot=ei(i.firstChild),Xt=r,qe=!0,nr=null,Jn=!0,o=Ix(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(da(),c===m){r=Ts(i,r,o);break e}Zt(i,r,c,o)}r=r.child}return r;case 26:return Th(i,r),i===null?(o=Xb(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,i=r.pendingProps,c=Bh(je.current).createElement(o),c[Rt]=r,c[Ht]=i,en(c,o,i),Ct(c),r.stateNode=c):r.memoizedState=Xb(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return ds(r),i===null&&qe&&(c=r.stateNode=Yb(r.type,r.pendingProps,je.current),Xt=r,Jn=!0,m=ot,yr(r.type)?(wp=m,ot=ei(c.firstChild)):ot=m),Zt(i,r,r.pendingProps.children,o),Th(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&qe&&((m=c=ot)&&(c=pR(c,r.type,r.pendingProps,Jn),c!==null?(r.stateNode=c,Xt=r,ot=ei(c.firstChild),Jn=!1,m=!0):m=!1),m||ir(r)),ds(r),m=r.type,g=r.pendingProps,_=i!==null?i.memoizedProps:null,c=g.children,gp(m,g)?c=null:_!==null&&gp(m,_)&&(r.flags|=32),r.memoizedState!==null&&(m=pm(i,r,jN,null,null,o),yc._currentValue=m),Th(i,r),Zt(i,r,c,o),r.child;case 6:return i===null&&qe&&((i=o=ot)&&(o=gR(o,r.pendingProps,Jn),o!==null?(r.stateNode=o,Xt=r,ot=null,i=!0):i=!1),i||ir(r)),null;case 13:return Ov(i,r,o);case 4:return pt(r,r.stateNode.containerInfo),c=r.pendingProps,i===null?r.child=xa(r,null,c,o):Zt(i,r,c,o),r.child;case 11:return Rv(i,r,r.type,r.pendingProps,o);case 7:return Zt(i,r,r.pendingProps,o),r.child;case 8:return Zt(i,r,r.pendingProps.children,o),r.child;case 12:return Zt(i,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,sr(r,r.type,c.value),Zt(i,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,ma(r),m=Jt(m),c=c(m),r.flags|=1,Zt(i,r,c,o),r.child;case 14:return Cv(i,r,r.type,r.pendingProps,o);case 15:return jv(i,r,r.type,r.pendingProps,o);case 19:return Uv(i,r,o);case 31:return LN(i,r,o);case 22:return Iv(i,r,o,r.pendingProps);case 24:return ma(r),c=Jt(It),i===null?(m=rm(),m===null&&(m=it,g=im(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},om(r),sr(r,It,m)):((i.lanes&o)!==0&&(lm(i,r),Xl(r,null,null,o),Ql()),m=i.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),sr(r,It,c)):(c=g.cache,sr(r,It,c),c!==m.cache&&nm(r,[It],o,!0))),Zt(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Es(i){i.flags|=4}function qm(i,r,o,c,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(fb())i.flags|=8192;else throw ya=lh,am}else i.flags&=-16777217}function zv(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nw(r))if(fb())i.flags|=8192;else throw ya=lh,am}function Sh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Iu():536870912,i.lanes|=r,wo|=r)}function ic(i,r){if(!qe)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function lt(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=o,r}function BN(i,r,o){var c=r.pendingProps;switch(Xf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(r),null;case 1:return lt(r),null;case 3:return o=r.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),bs(It),st(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(oo(r)?Es(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zf())),lt(r),null;case 26:var m=r.type,g=r.memoizedState;return i===null?(Es(r),g!==null?(lt(r),zv(r,g)):(lt(r),qm(r,m,null,c,o))):g?g!==i.memoizedState?(Es(r),lt(r),zv(r,g)):(lt(r),r.flags&=-16777217):(i=i.memoizedProps,i!==c&&Es(r),lt(r),qm(r,m,i,c,o)),null;case 27:if(Fn(r),o=je.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Es(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}i=de.current,oo(r)?bx(r):(i=Yb(m,c,o),r.stateNode=i,Es(r))}return lt(r),null;case 5:if(Fn(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==c&&Es(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return lt(r),null}if(g=de.current,oo(r))bx(r);else{var _=Bh(je.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?_.createElement(m,{is:c.is}):_.createElement(m)}}g[Rt]=r,g[Ht]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=g;e:switch(en(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Es(r)}}return lt(r),qm(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==c&&Es(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(i=je.current,oo(r)){if(i=r.stateNode,o=r.memoizedProps,c=null,m=Xt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[Rt]=r,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Ob(i.nodeValue,o)),i||ir(r,!0)}else i=Bh(i).createTextNode(c),i[Rt]=r,r.stateNode=i}return lt(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(c=oo(r),o!==null){if(i===null){if(!c)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Rt]=r}else da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),i=!1}else o=Zf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Pn(r),r):(Pn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return lt(r),null;case 13:if(c=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=oo(r),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Rt]=r}else da(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;lt(r),m=!1}else m=Zf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Pn(r),r):(Pn(r),null)}return Pn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,i=i!==null&&i.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Sh(r,r.updateQueue),lt(r),null);case 4:return st(),i===null&&hp(r.stateNode.containerInfo),lt(r),null;case 10:return bs(r.type),lt(r),null;case 19:if(ne(Tt),c=r.memoizedState,c===null)return lt(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)ic(c,!1);else{if(xt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=dh(i),g!==null){for(r.flags|=128,ic(c,!1),i=g.updateQueue,r.updateQueue=i,Sh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)px(o,i),o=o.sibling;return ce(Tt,Tt.current&1|2),qe&&xs(r,c.treeForkCount),r.child}i=i.sibling}c.tail!==null&&fn()>jh&&(r.flags|=128,m=!0,ic(c,!1),r.lanes=4194304)}else{if(!m)if(i=dh(g),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,Sh(r,i),ic(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!qe)return lt(r),null}else 2*fn()-c.renderingStartTime>jh&&o!==536870912&&(r.flags|=128,m=!0,ic(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(i=c.last,i!==null?i.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=fn(),i.sibling=null,o=Tt.current,ce(Tt,m?o&1|2:o&1),qe&&xs(r,c.treeForkCount),i):(lt(r),null);case 22:case 23:return Pn(r),dm(),c=r.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(lt(r),r.subtreeFlags&6&&(r.flags|=8192)):lt(r),o=r.updateQueue,o!==null&&Sh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),i!==null&&ne(pa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),bs(It),lt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function zN(i,r){switch(Xf(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return bs(It),st(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Fn(r),null;case 31:if(r.memoizedState!==null){if(Pn(r),r.alternate===null)throw Error(s(340));da()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Pn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));da()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return ne(Tt),null;case 4:return st(),null;case 10:return bs(r.type),null;case 22:case 23:return Pn(r),dm(),i!==null&&ne(pa),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return bs(It),null;case 25:return null;default:return null}}function Fv(i,r){switch(Xf(r),r.tag){case 3:bs(It),st();break;case 26:case 27:case 5:Fn(r);break;case 4:st();break;case 31:r.memoizedState!==null&&Pn(r);break;case 13:Pn(r);break;case 19:ne(Tt);break;case 10:bs(r.type);break;case 22:case 23:Pn(r),dm(),i!==null&&ne(pa);break;case 24:bs(It)}}function sc(i,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&i)===i){c=void 0;var g=o.create,_=o.inst;c=g(),_.destroy=c}o=o.next}while(o!==m)}}catch(C){Je(r,r.return,C)}}function ur(i,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&i)===i){var _=c.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,m=r;var z=o,Q=C;try{Q()}catch(te){Je(m,z,te)}}}c=c.next}while(c!==g)}}catch(te){Je(r,r.return,te)}}function qv(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{Dx(r,o)}catch(c){Je(i,i.return,c)}}}function Hv(i,r,o){o.props=ba(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Je(i,r,c)}}function rc(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(m){Je(i,r,m)}}function Xi(i,r){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Je(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Je(i,r,m)}else o.current=null}function Gv(i){var r=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Je(i,i.return,m)}}function Hm(i,r,o){try{var c=i.stateNode;cR(c,i.type,o,r),c[Ht]=r}catch(m){Je(i,i.return,m)}}function $v(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yr(i.type)||i.tag===4}function Gm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$v(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function $m(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=di));else if(c!==4&&(c===27&&yr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for($m(i,r,o),i=i.sibling;i!==null;)$m(i,r,o),i=i.sibling}function Ah(i,r,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(c!==4&&(c===27&&yr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Ah(i,r,o),i=i.sibling;i!==null;)Ah(i,r,o),i=i.sibling}function Kv(i){var r=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);en(r,c,o),r[Rt]=i,r[Ht]=o}catch(g){Je(i,i.return,g)}}var Ss=!1,Pt=!1,Km=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,$t=null;function FN(i,r){if(i=i.containerInfo,mp=Kh,i=ax(i),Bf(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,C=-1,z=-1,Q=0,te=0,se=i,X=null;t:for(;;){for(var ee;se!==o||m!==0&&se.nodeType!==3||(C=_+m),se!==g||c!==0&&se.nodeType!==3||(z=_+c),se.nodeType===3&&(_+=se.nodeValue.length),(ee=se.firstChild)!==null;)X=se,se=ee;for(;;){if(se===i)break t;if(X===o&&++Q===m&&(C=_),X===g&&++te===c&&(z=_),(ee=se.nextSibling)!==null)break;se=X,X=se.parentNode}se=ee}o=C===-1||z===-1?null:{start:C,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(pp={focusedElem:i,selectionRange:o},Kh=!1,$t=r;$t!==null;)if(r=$t,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,$t=i;else for(;$t!==null;){switch(r=$t,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=ba(o.type,m);i=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(_e){Je(o,o.return,_e)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)xp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":xp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,$t=i;break}$t=r.return}}function Wv(i,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ns(i,o),c&4&&sc(5,o);break;case 1:if(Ns(i,o),c&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){Je(o,o.return,_)}else{var m=ba(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(o,o.return,_)}}c&64&&qv(o),c&512&&rc(o,o.return);break;case 3:if(Ns(i,o),c&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Dx(i,r)}catch(_){Je(o,o.return,_)}}break;case 27:r===null&&c&4&&Kv(o);case 26:case 5:Ns(i,o),r===null&&c&4&&Gv(o),c&512&&rc(o,o.return);break;case 12:Ns(i,o);break;case 31:Ns(i,o),c&4&&Jv(i,o);break;case 13:Ns(i,o),c&4&&Zv(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=XN.bind(null,o),yR(i,o))));break;case 22:if(c=o.memoizedState!==null||Ss,!c){r=r!==null&&r.memoizedState!==null||Pt,m=Ss;var g=Pt;Ss=c,(Pt=r)&&!g?Rs(i,o,(o.subtreeFlags&8772)!==0):Ns(i,o),Ss=m,Pt=g}break;case 30:break;default:Ns(i,o)}}function Qv(i){var r=i.alternate;r!==null&&(i.alternate=null,Qv(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ha(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,wn=!1;function As(i,r,o){for(o=o.child;o!==null;)Xv(i,r,o),o=o.sibling}function Xv(i,r,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 26:Pt||Xi(o,r),As(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||Xi(o,r);var c=ht,m=wn;yr(o.type)&&(ht=o.stateNode,wn=!1),As(i,r,o),mc(o.stateNode),ht=c,wn=m;break;case 5:Pt||Xi(o,r);case 6:if(c=ht,m=wn,ht=null,As(i,r,o),ht=c,wn=m,ht!==null)if(wn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(o.stateNode)}catch(g){Je(o,r,g)}else try{ht.removeChild(o.stateNode)}catch(g){Je(o,r,g)}break;case 18:ht!==null&&(wn?(i=ht,qb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Co(i)):qb(ht,o.stateNode));break;case 4:c=ht,m=wn,ht=o.stateNode.containerInfo,wn=!0,As(i,r,o),ht=c,wn=m;break;case 0:case 11:case 14:case 15:ur(2,o,r),Pt||ur(4,o,r),As(i,r,o);break;case 1:Pt||(Xi(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Hv(o,r,c)),As(i,r,o);break;case 21:As(i,r,o);break;case 22:Pt=(c=Pt)||o.memoizedState!==null,As(i,r,o),Pt=c;break;default:As(i,r,o)}}function Jv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Co(i)}catch(o){Je(r,r.return,o)}}}function Zv(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Co(i)}catch(o){Je(r,r.return,o)}}function qN(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Yv),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Yv),r;default:throw Error(s(435,i.tag))}}function Nh(i,r){var o=qN(i);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=JN.bind(null,i,c);c.then(m,m)}})}function _n(i,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=i,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(yr(C.type)){ht=C.stateNode,wn=!1;break e}break;case 5:ht=C.stateNode,wn=!1;break e;case 3:case 4:ht=C.stateNode.containerInfo,wn=!0;break e}C=C.return}if(ht===null)throw Error(s(160));Xv(g,_,m),ht=null,wn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)eb(r,i),r=r.sibling}var xi=null;function eb(i,r){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:_n(r,i),Tn(i),c&4&&(ur(3,i,i.return),sc(3,i),ur(5,i,i.return));break;case 1:_n(r,i),Tn(i),c&512&&(Pt||o===null||Xi(o,o.return)),c&64&&Ss&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=xi;if(_n(r,i),Tn(i),c&512&&(Pt||o===null||Xi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[Oi]||g[Rt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),en(g,c,o),g[Rt]=i,Ct(g),c=g;break e;case"link":var _=ew("link","href",m).get(c+(o.href||""));if(_){for(var C=0;C<_.length;C++)if(g=_[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(C,1);break t}}g=m.createElement(c),en(g,c,o),m.head.appendChild(g);break;case"meta":if(_=ew("meta","content",m).get(c+(o.content||""))){for(C=0;C<_.length;C++)if(g=_[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(C,1);break t}}g=m.createElement(c),en(g,c,o),m.head.appendChild(g);break;default:throw Error(s(468,c))}g[Rt]=i,Ct(g),c=g}i.stateNode=c}else tw(m,i.type,i.stateNode);else i.stateNode=Zb(m,c,i.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?tw(m,i.type,i.stateNode):Zb(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Hm(i,i.memoizedProps,o.memoizedProps)}break;case 27:_n(r,i),Tn(i),c&512&&(Pt||o===null||Xi(o,o.return)),o!==null&&c&4&&Hm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,i),Tn(i),c&512&&(Pt||o===null||Xi(o,o.return)),i.flags&32){m=i.stateNode;try{bn(m,"")}catch(pe){Je(i,i.return,pe)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Hm(i,m,o!==null?o.memoizedProps:m)),c&1024&&(Km=!0);break;case 6:if(_n(r,i),Tn(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(pe){Je(i,i.return,pe)}}break;case 3:if(qh=null,m=xi,xi=zh(r.containerInfo),_n(r,i),xi=m,Tn(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Co(r.containerInfo)}catch(pe){Je(i,i.return,pe)}Km&&(Km=!1,tb(i));break;case 4:c=xi,xi=zh(i.stateNode.containerInfo),_n(r,i),Tn(i),xi=c;break;case 12:_n(r,i),Tn(i);break;case 31:_n(r,i),Tn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Nh(i,c)));break;case 13:_n(r,i),Tn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ch=fn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Nh(i,c)));break;case 22:m=i.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,Q=Ss,te=Pt;if(Ss=Q||m,Pt=te||z,_n(r,i),Pt=te,Ss=Q,Tn(i),c&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||z||Ss||Pt||wa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){z=o=r;try{if(g=z.stateNode,m)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=z.stateNode;var se=z.memoizedProps.style,X=se!=null&&se.hasOwnProperty("display")?se.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Je(z,z.return,pe)}}}else if(r.tag===6){if(o===null){z=r;try{z.stateNode.nodeValue=m?"":z.memoizedProps}catch(pe){Je(z,z.return,pe)}}}else if(r.tag===18){if(o===null){z=r;try{var ee=z.stateNode;m?Hb(ee,!0):Hb(z.stateNode,!1)}catch(pe){Je(z,z.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Nh(i,o))));break;case 19:_n(r,i),Tn(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Nh(i,c)));break;case 30:break;case 21:break;default:_n(r,i),Tn(i)}}function Tn(i){var r=i.flags;if(r&2){try{for(var o,c=i.return;c!==null;){if($v(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,g=Gm(i);Ah(i,g,m);break;case 5:var _=o.stateNode;o.flags&32&&(bn(_,""),o.flags&=-33);var C=Gm(i);Ah(i,C,_);break;case 3:case 4:var z=o.stateNode.containerInfo,Q=Gm(i);$m(i,Q,z);break;default:throw Error(s(161))}}catch(te){Je(i,i.return,te)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function tb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;tb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Ns(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Wv(i,r.alternate,r),r=r.sibling}function wa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:ur(4,r,r.return),wa(r);break;case 1:Xi(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Hv(r,r.return,o),wa(r);break;case 27:mc(r.stateNode);case 26:case 5:Xi(r,r.return),wa(r);break;case 22:r.memoizedState===null&&wa(r);break;case 30:wa(r);break;default:wa(r)}i=i.sibling}}function Rs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=i,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:Rs(m,g,o),sc(4,g);break;case 1:if(Rs(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Je(c,c.return,Q)}if(c=g,m=c.updateQueue,m!==null){var C=c.stateNode;try{var z=m.shared.hiddenCallbacks;if(z!==null)for(m.shared.hiddenCallbacks=null,m=0;m<z.length;m++)kx(z[m],C)}catch(Q){Je(c,c.return,Q)}}o&&_&64&&qv(g),rc(g,g.return);break;case 27:Kv(g);case 26:case 5:Rs(m,g,o),o&&c===null&&_&4&&Gv(g),rc(g,g.return);break;case 12:Rs(m,g,o);break;case 31:Rs(m,g,o),o&&_&4&&Jv(m,g);break;case 13:Rs(m,g,o),o&&_&4&&Zv(m,g);break;case 22:g.memoizedState===null&&Rs(m,g,o),rc(g,g.return);break;case 30:break;default:Rs(m,g,o)}r=r.sibling}}function Ym(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Gl(o))}function Wm(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Gl(i))}function vi(i,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nb(i,r,o,c),r=r.sibling}function nb(i,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:vi(i,r,o,c),m&2048&&sc(9,r);break;case 1:vi(i,r,o,c);break;case 3:vi(i,r,o,c),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&Gl(i)));break;case 12:if(m&2048){vi(i,r,o,c),i=r.stateNode;try{var g=r.memoizedProps,_=g.id,C=g.onPostCommit;typeof C=="function"&&C(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Je(r,r.return,z)}}else vi(i,r,o,c);break;case 31:vi(i,r,o,c);break;case 13:vi(i,r,o,c);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?vi(i,r,o,c):ac(i,r):g._visibility&2?vi(i,r,o,c):(g._visibility|=2,xo(i,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Ym(_,r);break;case 24:vi(i,r,o,c),m&2048&&Wm(r.alternate,r);break;default:vi(i,r,o,c)}}function xo(i,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,_=r,C=o,z=c,Q=_.flags;switch(_.tag){case 0:case 11:case 15:xo(g,_,C,z,m),sc(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?xo(g,_,C,z,m):ac(g,_):(te._visibility|=2,xo(g,_,C,z,m)),m&&Q&2048&&Ym(_.alternate,_);break;case 24:xo(g,_,C,z,m),m&&Q&2048&&Wm(_.alternate,_);break;default:xo(g,_,C,z,m)}r=r.sibling}}function ac(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,c=r,m=c.flags;switch(c.tag){case 22:ac(o,c),m&2048&&Ym(c.alternate,c);break;case 24:ac(o,c),m&2048&&Wm(c.alternate,c);break;default:ac(o,c)}r=r.sibling}}var oc=8192;function vo(i,r,o){if(i.subtreeFlags&oc)for(i=i.child;i!==null;)ib(i,r,o),i=i.sibling}function ib(i,r,o){switch(i.tag){case 26:vo(i,r,o),i.flags&oc&&i.memoizedState!==null&&CR(o,xi,i.memoizedState,i.memoizedProps);break;case 5:vo(i,r,o);break;case 3:case 4:var c=xi;xi=zh(i.stateNode.containerInfo),vo(i,r,o),xi=c;break;case 22:i.memoizedState===null&&(c=i.alternate,c!==null&&c.memoizedState!==null?(c=oc,oc=16777216,vo(i,r,o),oc=c):vo(i,r,o));break;default:vo(i,r,o)}}function sb(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function lc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,ab(c,i)}sb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)rb(i),i=i.sibling}function rb(i){switch(i.tag){case 0:case 11:case 15:lc(i),i.flags&2048&&ur(9,i,i.return);break;case 3:lc(i);break;case 12:lc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Rh(i)):lc(i);break;default:lc(i)}}function Rh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];$t=c,ab(c,i)}sb(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:ur(8,r,r.return),Rh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Rh(r));break;default:Rh(r)}i=i.sibling}}function ab(i,r){for(;$t!==null;){var o=$t;switch(o.tag){case 0:case 11:case 15:ur(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Gl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,$t=c;else e:for(o=i;$t!==null;){c=$t;var m=c.sibling,g=c.return;if(Qv(c),c===o){$t=null;break e}if(m!==null){m.return=g,$t=m;break e}$t=g}}}var HN={getCacheForType:function(i){var r=Jt(It),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Jt(It).controller.signal}},GN=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Me=null,Le=0,Xe=0,Mn=null,hr=!1,bo=!1,Qm=!1,Cs=0,xt=0,dr=0,_a=0,Xm=0,Vn=0,wo=0,cc=null,En=null,Jm=!1,Ch=0,ob=0,jh=1/0,Ih=null,fr=null,Bt=0,mr=null,_o=null,js=0,Zm=0,ep=null,lb=null,uc=0,tp=null;function On(){return(Ye&2)!==0&&Le!==0?Le&-Le:J.T!==null?op():ku()}function cb(){if(Vn===0)if((Le&536870912)===0||qe){var i=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),Vn=i}else Vn=536870912;return i=Dn.current,i!==null&&(i.flags|=32),Vn}function Sn(i,r,o){(i===it&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)&&(To(i,0),pr(i,Le,Vn,!1)),Qr(i,o),((Ye&2)===0||i!==it)&&(i===it&&((Ye&2)===0&&(_a|=o),xt===4&&pr(i,Le,Vn,!1)),Ji(i))}function ub(i,r,o){if((Ye&6)!==0)throw Error(s(327));var c=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ci(i,r),m=c?YN(i,r):ip(i,r,!0),g=c;do{if(m===0){bo&&!c&&pr(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!$N(o)){m=ip(i,r,!1),g=!1;continue}if(m===2){if(g=r,i.errorRecoveryDisabledLanes&g)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var C=i;m=cc;var z=C.current.memoizedState.isDehydrated;if(z&&(To(C,_).flags|=256),_=ip(C,_,!1),_!==2){if(Qm&&!z){C.errorRecoveryDisabledLanes|=g,_a|=g,m=4;break e}g=En,En=m,g!==null&&(En===null?En=g:En.push.apply(En,g))}m=_}if(g=!1,m!==2)continue}}if(m===1){To(i,0),pr(i,r,0,!0);break}e:{switch(c=i,g=m,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:pr(c,r,Vn,!hr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=Ch+300-fn(),10<m)){if(pr(c,r,Vn,!hr),Pi(c,0,!0)!==0)break e;js=r,c.timeoutHandle=zb(hb.bind(null,c,o,En,Ih,Jm,r,Vn,_a,wo,hr,g,"Throttled",-0,0),m);break e}hb(c,o,En,Ih,Jm,r,Vn,_a,wo,hr,g,null,-0,0)}}break}while(!0);Ji(i)}function hb(i,r,o,c,m,g,_,C,z,Q,te,se,X,ee){if(i.timeoutHandle=-1,se=r.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},ib(r,g,se);var pe=(g&62914560)===g?Ch-fn():(g&4194048)===g?ob-fn():0;if(pe=jR(se,pe),pe!==null){js=g,i.cancelPendingCommit=pe(vb.bind(null,i,r,g,o,c,m,_,C,z,te,se,null,X,ee)),pr(i,g,_,!Q);return}}vb(i,r,g,o,c,m,_,C,z)}function $N(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!In(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pr(i,r,o,c){r&=~Xm,r&=~_a,i.suspendedLanes|=r,i.pingedLanes&=~r,c&&(i.warmLanes|=r),c=i.expirationTimes;for(var m=r;0<m;){var g=31-wt(m),_=1<<g;c[g]=-1,m&=~_}o!==0&&Xr(i,o,r)}function kh(){return(Ye&6)===0?(hc(0),!1):!0}function np(){if(Me!==null){if(Xe===0)var i=Me.return;else i=Me,vs=fa=null,xm(i),fo=null,Kl=0,i=Me;for(;i!==null;)Fv(i.alternate,i),i=i.return;Me=null}}function To(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,dR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),js=0,np(),it=i,Me=o=ys(i.current,null),Le=r,Xe=0,Mn=null,hr=!1,bo=ci(i,r),Qm=!1,wo=Vn=Xm=_a=dr=xt=0,En=cc=null,Jm=!1,(r&8)!==0&&(r|=r&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=r;0<c;){var m=31-wt(c),g=1<<m;r|=i[m],c&=~g}return Cs=r,Zu(),o}function db(i,r){ke=null,J.H=tc,r===ho||r===oh?(r=Rx(),Xe=3):r===am?(r=Rx(),Xe=4):Xe=r===Pm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Mn=r,Me===null&&(xt=1,wh(i,Wn(r,i.current)))}function fb(){var i=Dn.current;return i===null?!0:(Le&4194048)===Le?Zn===null:(Le&62914560)===Le||(Le&536870912)!==0?i===Zn:!1}function mb(){var i=J.H;return J.H=tc,i===null?tc:i}function pb(){var i=J.A;return J.A=HN,i}function Dh(){xt=4,hr||(Le&4194048)!==Le&&Dn.current!==null||(bo=!0),(dr&134217727)===0&&(_a&134217727)===0||it===null||pr(it,Le,Vn,!1)}function ip(i,r,o){var c=Ye;Ye|=2;var m=mb(),g=pb();(it!==i||Le!==r)&&(Ih=null,To(i,r)),r=!1;var _=xt;e:do try{if(Xe!==0&&Me!==null){var C=Me,z=Mn;switch(Xe){case 8:np(),_=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var Q=Xe;if(Xe=0,Mn=null,Eo(i,C,z,Q),o&&bo){_=0;break e}break;default:Q=Xe,Xe=0,Mn=null,Eo(i,C,z,Q)}}KN(),_=xt;break}catch(te){db(i,te)}while(!0);return r&&i.shellSuspendCounter++,vs=fa=null,Ye=c,J.H=m,J.A=g,Me===null&&(it=null,Le=0,Zu()),_}function KN(){for(;Me!==null;)gb(Me)}function YN(i,r){var o=Ye;Ye|=2;var c=mb(),m=pb();it!==i||Le!==r?(Ih=null,jh=fn()+500,To(i,r)):bo=ci(i,r);e:do try{if(Xe!==0&&Me!==null){r=Me;var g=Mn;t:switch(Xe){case 1:Xe=0,Mn=null,Eo(i,r,g,1);break;case 2:case 9:if(Ax(g)){Xe=0,Mn=null,yb(r);break}r=function(){Xe!==2&&Xe!==9||it!==i||(Xe=7),Ji(i)},g.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Ax(g)?(Xe=0,Mn=null,yb(r)):(Xe=0,Mn=null,Eo(i,r,g,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var C=Me;if(_?nw(_):C.stateNode.complete){Xe=0,Mn=null;var z=C.sibling;if(z!==null)Me=z;else{var Q=C.return;Q!==null?(Me=Q,Ph(Q)):Me=null}break t}}Xe=0,Mn=null,Eo(i,r,g,5);break;case 6:Xe=0,Mn=null,Eo(i,r,g,6);break;case 8:np(),xt=6;break e;default:throw Error(s(462))}}WN();break}catch(te){db(i,te)}while(!0);return vs=fa=null,J.H=c,J.A=m,Ye=o,Me!==null?0:(it=null,Le=0,Zu(),xt)}function WN(){for(;Me!==null&&!Df();)gb(Me)}function gb(i){var r=Bv(i.alternate,i,Cs);i.memoizedProps=i.pendingProps,r===null?Ph(i):Me=r}function yb(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Pv(o,r,r.pendingProps,r.type,void 0,Le);break;case 11:r=Pv(o,r,r.pendingProps,r.type.render,r.ref,Le);break;case 5:xm(r);default:Fv(o,r),r=Me=px(r,Cs),r=Bv(o,r,Cs)}i.memoizedProps=i.pendingProps,r===null?Ph(i):Me=r}function Eo(i,r,o,c){vs=fa=null,xm(r),fo=null,Kl=0;var m=r.return;try{if(ON(i,m,r,o,Le)){xt=1,wh(i,Wn(o,i.current)),Me=null;return}}catch(g){if(m!==null)throw Me=m,g;xt=1,wh(i,Wn(o,i.current)),Me=null;return}r.flags&32768?(qe||c===1?i=!0:bo||(Le&536870912)!==0?i=!1:(hr=i=!0,(c===2||c===9||c===3||c===6)&&(c=Dn.current,c!==null&&c.tag===13&&(c.flags|=16384))),xb(r,i)):Ph(r)}function Ph(i){var r=i;do{if((r.flags&32768)!==0){xb(r,hr);return}i=r.return;var o=BN(r.alternate,r,Cs);if(o!==null){Me=o;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=i}while(r!==null);xt===0&&(xt=5)}function xb(i,r){do{var o=zN(i.alternate,i);if(o!==null){o.flags&=32767,Me=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Me=i;return}Me=i=o}while(i!==null);xt=6,Me=null}function vb(i,r,o,c,m,g,_,C,z){i.cancelPendingCommit=null;do Mh();while(Bt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Gf,Vf(i,o,g,_,C,z),i===it&&(Me=it=null,Le=0),_o=r,mr=i,js=o,Zm=g,ep=m,lb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ZN(Gs,function(){return Eb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=J.T,J.T=null,m=oe.p,oe.p=2,_=Ye,Ye|=4;try{FN(i,r,o)}finally{Ye=_,oe.p=m,J.T=c}}Bt=1,bb(),wb(),_b()}}function bb(){if(Bt===1){Bt=0;var i=mr,r=_o,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var c=oe.p;oe.p=2;var m=Ye;Ye|=4;try{eb(r,i);var g=pp,_=ax(i.containerInfo),C=g.focusedElem,z=g.selectionRange;if(_!==C&&C&&C.ownerDocument&&rx(C.ownerDocument.documentElement,C)){if(z!==null&&Bf(C)){var Q=z.start,te=z.end;if(te===void 0&&(te=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(te,C.value.length);else{var se=C.ownerDocument||document,X=se&&se.defaultView||window;if(X.getSelection){var ee=X.getSelection(),pe=C.textContent.length,_e=Math.min(z.start,pe),nt=z.end===void 0?_e:Math.min(z.end,pe);!ee.extend&&_e>nt&&(_=nt,nt=_e,_e=_);var K=sx(C,_e),H=sx(C,nt);if(K&&H&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==H.node||ee.focusOffset!==H.offset)){var W=se.createRange();W.setStart(K.node,K.offset),ee.removeAllRanges(),_e>nt?(ee.addRange(W),ee.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),ee.addRange(W))}}}}for(se=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&se.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<se.length;C++){var ie=se[C];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Kh=!!mp,pp=mp=null}finally{Ye=m,oe.p=c,J.T=o}}i.current=r,Bt=2}}function wb(){if(Bt===2){Bt=0;var i=mr,r=_o,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var c=oe.p;oe.p=2;var m=Ye;Ye|=4;try{Wv(i,r.alternate,r)}finally{Ye=m,oe.p=c,J.T=o}}Bt=3}}function _b(){if(Bt===4||Bt===3){Bt=0,Su();var i=mr,r=_o,o=js,c=lb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,_o=mr=null,Tb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(fr=null),fs(o),r=r.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(li,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=J.T,m=oe.p,oe.p=2,J.T=null;try{for(var g=i.onRecoverableError,_=0;_<c.length;_++){var C=c[_];g(C.value,{componentStack:C.stack})}}finally{J.T=r,oe.p=m}}(js&3)!==0&&Mh(),Ji(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===tp?uc++:(uc=0,tp=i):uc=0,hc(0)}}function Tb(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,Gl(r)))}function Mh(){return bb(),wb(),_b(),Eb()}function Eb(){if(Bt!==5)return!1;var i=mr,r=Zm;Zm=0;var o=fs(js),c=J.T,m=oe.p;try{oe.p=32>o?32:o,J.T=null,o=ep,ep=null;var g=mr,_=js;if(Bt=0,_o=mr=null,js=0,(Ye&6)!==0)throw Error(s(331));var C=Ye;if(Ye|=4,rb(g.current),nb(g,g.current,_,o),Ye=C,hc(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(li,g)}catch{}return!0}finally{oe.p=m,J.T=c,Tb(i,r)}}function Sb(i,r,o){r=Wn(o,r),r=Dm(i.stateNode,r,2),i=or(i,r,2),i!==null&&(Qr(i,2),Ji(i))}function Je(i,r,o){if(i.tag===3)Sb(i,i,o);else for(;r!==null;){if(r.tag===3){Sb(r,i,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fr===null||!fr.has(c))){i=Wn(o,i),o=Av(2),c=or(r,o,2),c!==null&&(Nv(o,c,r,i),Qr(c,2),Ji(c));break}}r=r.return}}function sp(i,r,o){var c=i.pingCache;if(c===null){c=i.pingCache=new GN;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Qm=!0,m.add(o),i=QN.bind(null,i,r,o),r.then(i,i))}function QN(i,r,o){var c=i.pingCache;c!==null&&c.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,it===i&&(Le&o)===o&&(xt===4||xt===3&&(Le&62914560)===Le&&300>fn()-Ch?(Ye&2)===0&&To(i,0):Xm|=o,wo===Le&&(wo=0)),Ji(i)}function Ab(i,r){r===0&&(r=Iu()),i=ua(i,r),i!==null&&(Qr(i,r),Ji(i))}function XN(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Ab(i,o)}function JN(i,r){var o=0;switch(i.tag){case 31:case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Ab(i,o)}function ZN(i,r){return Ut(i,r)}var Vh=null,So=null,rp=!1,Oh=!1,ap=!1,gr=0;function Ji(i){i!==So&&i.next===null&&(So===null?Vh=So=i:So=So.next=i),Oh=!0,rp||(rp=!0,tR())}function hc(i,r){if(!ap&&Oh){ap=!0;do for(var o=!1,c=Vh;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var _=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-wt(42|i)+1)-1,g&=m&~(_&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,jb(c,g))}else g=Le,g=Pi(c,c===it?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ci(c,g)||(o=!0,jb(c,g));c=c.next}while(o);ap=!1}}function eR(){Nb()}function Nb(){Oh=rp=!1;var i=0;gr!==0&&hR()&&(i=gr);for(var r=fn(),o=null,c=Vh;c!==null;){var m=c.next,g=Rb(c,r);g===0?(c.next=null,o===null?Vh=m:o.next=m,m===null&&(So=o)):(o=c,(i!==0||(g&3)!==0)&&(Oh=!0)),c=m}Bt!==0&&Bt!==5||hc(i),gr!==0&&(gr=0)}function Rb(i,r){for(var o=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var _=31-wt(g),C=1<<_,z=m[_];z===-1?((C&o)===0||(C&c)!==0)&&(m[_]=Mf(C,r)):z<=r&&(i.expiredLanes|=C),g&=~C}if(r=it,o=Le,o=Pi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===r&&(Xe===2||Xe===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Hs(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ci(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(c!==null&&Hs(c),fs(o)){case 2:case 8:o=wl;break;case 32:o=Gs;break;case 268435456:o=Au;break;default:o=Gs}return c=Cb.bind(null,i),o=Ut(o,c),i.callbackPriority=r,i.callbackNode=o,r}return c!==null&&c!==null&&Hs(c),i.callbackPriority=2,i.callbackNode=null,2}function Cb(i,r){if(Bt!==0&&Bt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Mh()&&i.callbackNode!==o)return null;var c=Le;return c=Pi(i,i===it?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(ub(i,c,r),Rb(i,fn()),i.callbackNode!=null&&i.callbackNode===o?Cb.bind(null,i):null)}function jb(i,r){if(Mh())return null;ub(i,r,!0)}function tR(){fR(function(){(Ye&6)!==0?Ut(bl,eR):Nb()})}function op(){if(gr===0){var i=co;i===0&&(i=ki,ki<<=1,(ki&261888)===0&&(ki=256)),gr=i}return gr}function Ib(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ya(""+i)}function kb(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function nR(i,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=Ib((m[Ht]||null).action),_=c.submitter;_&&(r=(r=_[Ht]||null)?Ib(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var C=new Gi("action","action",null,c,m);i.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(gr!==0){var z=_?kb(m,_):new FormData(m);Nm(o,{pending:!0,data:z,method:m.method,action:g},null,z)}}else typeof g=="function"&&(C.preventDefault(),z=_?kb(m,_):new FormData(m),Nm(o,{pending:!0,data:z,method:m.method,action:g},g,z))},currentTarget:m}]})}}for(var lp=0;lp<Hf.length;lp++){var cp=Hf[lp],iR=cp.toLowerCase(),sR=cp[0].toUpperCase()+cp.slice(1);yi(iR,"on"+sR)}yi(cx,"onAnimationEnd"),yi(ux,"onAnimationIteration"),yi(hx,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(bN,"onTransitionRun"),yi(wN,"onTransitionStart"),yi(_N,"onTransitionCancel"),yi(dx,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function Db(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var _=c.length-1;0<=_;_--){var C=c[_],z=C.instance,Q=C.currentTarget;if(C=C.listener,z!==g&&m.isPropagationStopped())break e;g=C,m.currentTarget=Q;try{g(m)}catch(te){Ju(te)}m.currentTarget=null,g=z}else for(_=0;_<c.length;_++){if(C=c[_],z=C.instance,Q=C.currentTarget,C=C.listener,z!==g&&m.isPropagationStopped())break e;g=C,m.currentTarget=Q;try{g(m)}catch(te){Ju(te)}m.currentTarget=null,g=z}}}}function Ve(i,r){var o=r[qa];o===void 0&&(o=r[qa]=new Set);var c=i+"__bubble";o.has(c)||(Pb(r,i,2,!1),o.add(c))}function up(i,r,o){var c=0;r&&(c|=4),Pb(o,i,c,r)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function hp(i){if(!i[Lh]){i[Lh]=!0,El.forEach(function(o){o!=="selectionchange"&&(rR.has(o)||up(o,!1,i),up(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Lh]||(r[Lh]=!0,up("selectionchange",!1,r))}}function Pb(i,r,o,c){switch(cw(r)){case 2:var m=DR;break;case 8:m=PR;break;default:m=Ap}o=m.bind(null,r,o,i),m=void 0,!na||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function dp(i,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===m)break;if(_===4)for(_=c.return;_!==null;){var z=_.tag;if((z===3||z===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;C!==null;){if(_=Li(C),_===null)return;if(z=_.tag,z===5||z===6||z===26||z===27){c=g=_;continue e}C=C.parentNode}}c=c.return}Xs(function(){var Q=g,te=Gn(o),se=[];e:{var X=fx.get(i);if(X!==void 0){var ee=Gi,pe=i;switch(i){case"keypress":if(sa(o)===0)break e;case"keydown":case"keyup":ee=Wu;break;case"focusin":pe="focus",ee=aa;break;case"focusout":pe="blur",ee=aa;break;case"beforeblur":case"afterblur":ee=aa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=v;break;case cx:case ux:case hx:ee=Fu;break;case dx:ee=k;break;case"scroll":case"scrollend":ee=Vl;break;case"wheel":ee=Z;break;case"copy":case"cut":case"paste":ee=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=gs;break;case"toggle":case"beforetoggle":ee=Ie}var _e=(r&4)!==0,nt=!_e&&(i==="scroll"||i==="scrollend"),K=_e?X!==null?X+"Capture":null:X;_e=[];for(var H=Q,W;H!==null;){var ie=H;if(W=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||W===null||K===null||(ie=fi(H,K),ie!=null&&_e.push(fc(H,ie,W))),nt)break;H=H.return}0<_e.length&&(X=new ee(X,pe,null,o,te),se.push({event:X,listeners:_e}))}}if((r&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",X&&o!==Dl&&(pe=o.relatedTarget||o.fromElement)&&(Li(pe)||pe[Vi]))break e;if((ee||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,ee?(pe=o.relatedTarget||o.toElement,ee=Q,pe=pe?Li(pe):null,pe!==null&&(nt=l(pe),_e=pe.tag,pe!==nt||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(ee=null,pe=Q),ee!==pe)){if(_e=Ol,ie="onMouseLeave",K="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(_e=gs,ie="onPointerLeave",K="onPointerEnter",H="pointer"),nt=ee==null?X:Cn(ee),W=pe==null?X:Cn(pe),X=new _e(ie,H+"leave",ee,o,te),X.target=nt,X.relatedTarget=W,ie=null,Li(te)===Q&&(_e=new _e(K,H+"enter",pe,o,te),_e.target=W,_e.relatedTarget=nt,ie=_e),nt=ie,ee&&pe)t:{for(_e=aR,K=ee,H=pe,W=0,ie=K;ie;ie=_e(ie))W++;ie=0;for(var ve=H;ve;ve=_e(ve))ie++;for(;0<W-ie;)K=_e(K),W--;for(;0<ie-W;)H=_e(H),ie--;for(;W--;){if(K===H||H!==null&&K===H.alternate){_e=K;break t}K=_e(K),H=_e(H)}_e=null}else _e=null;ee!==null&&Mb(se,X,ee,_e,!1),pe!==null&&nt!==null&&Mb(se,nt,pe,_e,!0)}}e:{if(X=Q?Cn(Q):window,ee=X.nodeName&&X.nodeName.toLowerCase(),ee==="select"||ee==="input"&&X.type==="file")var Ge=J0;else if(Q0(X))if(Z0)Ge=yN;else{Ge=pN;var ye=mN}else ee=X.nodeName,!ee||ee.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Ka(Q.elementType)&&(Ge=J0):Ge=gN;if(Ge&&(Ge=Ge(i,Q))){X0(se,Ge,o,te);break e}ye&&ye(i,X,Q),i==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&jl(X,"number",X.value)}switch(ye=Q?Cn(Q):window,i){case"focusin":(Q0(ye)||ye.contentEditable==="true")&&(to=ye,zf=Q,Fl=null);break;case"focusout":Fl=zf=to=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,ox(se,o,te);break;case"selectionchange":if(vN)break;case"keydown":case"keyup":ox(se,o,te)}var Pe;if(Ke)e:{switch(i){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else eo?oa(i,o)&&(Ue="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ue="onCompositionStart");Ue&&(Yi&&o.locale!=="ko"&&(eo||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&eo&&(Pe=Ml()):(Hi=te,Pl="value"in Hi?Hi.value:Hi.textContent,eo=!0)),ye=Uh(Q,Ue),0<ye.length&&(Ue=new Ki(Ue,i,null,o,te),se.push({event:Ue,listeners:ye}),Pe?Ue.data=Pe:(Pe=Za(o),Pe!==null&&(Ue.data=Pe)))),(Pe=Kn?uN(i,o):hN(i,o))&&(Ue=Uh(Q,"onBeforeInput"),0<Ue.length&&(ye=new Ki("onBeforeInput","beforeinput",null,o,te),se.push({event:ye,listeners:Ue}),ye.data=Pe)),nR(se,i,Q,o,te)}Db(se,r)})}function fc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Uh(i,r){for(var o=r+"Capture",c=[];i!==null;){var m=i,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=fi(i,o),m!=null&&c.unshift(fc(i,m,g)),m=fi(i,r),m!=null&&c.push(fc(i,m,g))),i.tag===3)return c;i=i.return}return[]}function aR(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Mb(i,r,o,c,m){for(var g=r._reactName,_=[];o!==null&&o!==c;){var C=o,z=C.alternate,Q=C.stateNode;if(C=C.tag,z!==null&&z===c)break;C!==5&&C!==26&&C!==27||Q===null||(z=Q,m?(Q=fi(o,g),Q!=null&&_.unshift(fc(o,Q,z))):m||(Q=fi(o,g),Q!=null&&_.push(fc(o,Q,z)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var oR=/\r\n?/g,lR=/\u0000|\uFFFD/g;function Vb(i){return(typeof i=="string"?i:""+i).replace(oR,`
`).replace(lR,"")}function Ob(i,r){return r=Vb(r),Vb(i)===r}function tt(i,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||bn(i,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&bn(i,""+c);break;case"className":jn(i,"class",c);break;case"tabIndex":jn(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(i,o,c);break;case"style":kl(i,c,g);break;case"data":if(r!=="object"){jn(i,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ya(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&tt(i,r,"name",m.name,m,null),tt(i,r,"formEncType",m.formEncType,m,null),tt(i,r,"formMethod",m.formMethod,m,null),tt(i,r,"formTarget",m.formTarget,m,null)):(tt(i,r,"encType",m.encType,m,null),tt(i,r,"method",m.method,m,null),tt(i,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Ya(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=di);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Ya(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ve("beforetoggle",i),Ve("toggle",i),Ga(i,"popover",c);break;case"xlinkActuate":jt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":jt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":jt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":jt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":jt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":jt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":jt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":jt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":jt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ga(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uu.get(o)||o,Ga(i,o,c))}}function fp(i,r,o,c,m,g){switch(o){case"style":kl(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?bn(i,c):(typeof c=="number"||typeof c=="bigint")&&bn(i,""+c);break;case"onScroll":c!=null&&Ve("scroll",i);break;case"onScrollEnd":c!=null&&Ve("scrollend",i);break;case"onClick":c!=null&&(i.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=i[Ht]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,c,m);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ga(i,o,c)}}}function en(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",i),Ve("load",i);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,g,_,o,null)}}m&&tt(i,r,"srcSet",o.srcSet,o,null),c&&tt(i,r,"src",o.src,o,null);return;case"input":Ve("invalid",i);var C=g=_=m=null,z=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":m=te;break;case"type":_=te;break;case"checked":z=te;break;case"defaultChecked":Q=te;break;case"value":g=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,r));break;default:tt(i,r,c,te,o,null)}}Vu(i,g,C,z,Q,_,m,!1);return;case"select":Ve("invalid",i),c=_=g=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":g=C;break;case"defaultValue":_=C;break;case"multiple":c=C;default:tt(i,r,m,C,o,null)}r=g,o=_,i.multiple=!!c,r!=null?Ks(i,!!c,r,!1):o!=null&&Ks(i,!!c,o,!0);return;case"textarea":Ve("invalid",i),g=m=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(C=o[_],C!=null))switch(_){case"value":c=C;break;case"defaultValue":m=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:tt(i,r,_,C,o,null)}Ys(i,c,m,g);return;case"option":for(z in o)o.hasOwnProperty(z)&&(c=o[z],c!=null)&&(z==="selected"?i.selected=c&&typeof c!="function"&&typeof c!="symbol":tt(i,r,z,c,o,null));return;case"dialog":Ve("beforetoggle",i),Ve("toggle",i),Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":Ve("load",i);break;case"video":case"audio":for(c=0;c<dc.length;c++)Ve(dc[c],i);break;case"image":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"embed":case"source":case"link":Ve("error",i),Ve("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(i,r,Q,c,o,null)}return;default:if(Ka(r)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&fp(i,r,te,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&tt(i,r,C,c,o,null))}function cR(i,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,_=null,C=null,z=null,Q=null,te=null;for(ee in o){var se=o[ee];if(o.hasOwnProperty(ee)&&se!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":z=se;default:c.hasOwnProperty(ee)||tt(i,r,ee,null,c,se)}}for(var X in c){var ee=c[X];if(se=o[X],c.hasOwnProperty(X)&&(ee!=null||se!=null))switch(X){case"type":g=ee;break;case"name":m=ee;break;case"checked":Q=ee;break;case"defaultChecked":te=ee;break;case"value":_=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:ee!==se&&tt(i,r,X,ee,c,se)}}$a(i,_,C,z,Q,te,g,m);return;case"select":ee=_=C=X=null;for(g in o)if(z=o[g],o.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":ee=z;default:c.hasOwnProperty(g)||tt(i,r,g,null,c,z)}for(m in c)if(g=c[m],z=o[m],c.hasOwnProperty(m)&&(g!=null||z!=null))switch(m){case"value":X=g;break;case"defaultValue":C=g;break;case"multiple":_=g;default:g!==z&&tt(i,r,m,g,c,z)}r=C,o=_,c=ee,X!=null?Ks(i,!!o,X,!1):!!c!=!!o&&(r!=null?Ks(i,!!o,r,!0):Ks(i,!!o,o?[]:"",!1));return;case"textarea":ee=X=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:tt(i,r,C,null,c,m)}for(_ in c)if(m=c[_],g=o[_],c.hasOwnProperty(_)&&(m!=null||g!=null))switch(_){case"value":X=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==g&&tt(i,r,_,m,c,g)}Ou(i,X,ee);return;case"option":for(var pe in o)X=o[pe],o.hasOwnProperty(pe)&&X!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?i.selected=!1:tt(i,r,pe,null,c,X));for(z in c)X=c[z],ee=o[z],c.hasOwnProperty(z)&&X!==ee&&(X!=null||ee!=null)&&(z==="selected"?i.selected=X&&typeof X!="function"&&typeof X!="symbol":tt(i,r,z,X,c,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)X=o[_e],o.hasOwnProperty(_e)&&X!=null&&!c.hasOwnProperty(_e)&&tt(i,r,_e,null,c,X);for(Q in c)if(X=c[Q],ee=o[Q],c.hasOwnProperty(Q)&&X!==ee&&(X!=null||ee!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:tt(i,r,Q,X,c,ee)}return;default:if(Ka(r)){for(var nt in o)X=o[nt],o.hasOwnProperty(nt)&&X!==void 0&&!c.hasOwnProperty(nt)&&fp(i,r,nt,void 0,c,X);for(te in c)X=c[te],ee=o[te],!c.hasOwnProperty(te)||X===ee||X===void 0&&ee===void 0||fp(i,r,te,X,c,ee);return}}for(var K in o)X=o[K],o.hasOwnProperty(K)&&X!=null&&!c.hasOwnProperty(K)&&tt(i,r,K,null,c,X);for(se in c)X=c[se],ee=o[se],!c.hasOwnProperty(se)||X===ee||X==null&&ee==null||tt(i,r,se,X,c,ee)}function Lb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uR(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,_=m.initiatorType,C=m.duration;if(g&&C&&Lb(_)){for(_=0,C=m.responseEnd,c+=1;c<o.length;c++){var z=o[c],Q=z.startTime;if(Q>C)break;var te=z.transferSize,se=z.initiatorType;te&&Lb(se)&&(z=z.responseEnd,_+=te*(z<C?1:(C-Q)/(z-Q)))}if(--c,r+=8*(g+_)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var mp=null,pp=null;function Bh(i){return i.nodeType===9?i:i.ownerDocument}function Ub(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bb(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function gp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var yp=null;function hR(){var i=window.event;return i&&i.type==="popstate"?i===yp?!1:(yp=i,!0):(yp=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,fR=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(i){return Fb.resolve(null).then(i).catch(mR)}:zb;function mR(i){setTimeout(function(){throw i})}function yr(i){return i==="head"}function qb(i,r){var o=r,c=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){i.removeChild(m),Co(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")mc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,mc(o);for(var g=o.firstChild;g;){var _=g.nextSibling,C=g.nodeName;g[Oi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&mc(i.ownerDocument.body);o=m}while(o);Co(r)}function Hb(i,r){var o=i;i=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=c}while(o)}function xp(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xp(o),Ha(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function pR(i,r,o,c){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Oi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function gR(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function Gb(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=ei(i.nextSibling),i===null))return null;return i}function vp(i){return i.data==="$?"||i.data==="$~"}function bp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function yR(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ei(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var wp=null;function $b(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return ei(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Kb(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Yb(i,r,o){switch(r=Bh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function mc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ha(i)}var ti=new Map,Wb=new Set;function zh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Is=oe.d;oe.d={f:xR,r:vR,D:bR,C:wR,L:_R,m:TR,X:SR,S:ER,M:AR};function xR(){var i=Is.f(),r=kh();return i||r}function vR(i){var r=Hn(i);r!==null&&r.tag===5&&r.type==="form"?dv(r):Is.r(i)}var Ao=typeof document>"u"?null:document;function Qb(i,r,o){var c=Ao;if(c&&typeof r=="string"&&r){var m=vn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Wb.has(m)||(Wb.add(m),i={rel:i,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),en(r,"link",i),Ct(r),c.head.appendChild(r)))}}function bR(i){Is.D(i),Qb("dns-prefetch",i,null)}function wR(i,r){Is.C(i,r),Qb("preconnect",i,r)}function _R(i,r,o){Is.L(i,r,o);var c=Ao;if(c&&i&&r){var m='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+vn(o.imageSizes)+'"]')):m+='[href="'+vn(i)+'"]';var g=m;switch(r){case"style":g=No(i);break;case"script":g=Ro(i)}ti.has(g)||(i=w({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),ti.set(g,i),c.querySelector(m)!==null||r==="style"&&c.querySelector(pc(g))||r==="script"&&c.querySelector(gc(g))||(r=c.createElement("link"),en(r,"link",i),Ct(r),c.head.appendChild(r)))}}function TR(i,r){Is.m(i,r);var o=Ao;if(o&&i){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(i)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ro(i)}if(!ti.has(g)&&(i=w({rel:"modulepreload",href:i},r),ti.set(g,i),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gc(g)))return}c=o.createElement("link"),en(c,"link",i),Ct(c),o.head.appendChild(c)}}}function ER(i,r,o){Is.S(i,r,o);var c=Ao;if(c&&i){var m=Ui(c).hoistableStyles,g=No(i);r=r||"default";var _=m.get(g);if(!_){var C={loading:0,preload:null};if(_=c.querySelector(pc(g)))C.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":r},o),(o=ti.get(g))&&_p(i,o);var z=_=c.createElement("link");Ct(z),en(z,"link",i),z._p=new Promise(function(Q,te){z.onload=Q,z.onerror=te}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Fh(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:C},m.set(g,_)}}}function SR(i,r){Is.X(i,r);var o=Ao;if(o&&i){var c=Ui(o).hoistableScripts,m=Ro(i),g=c.get(m);g||(g=o.querySelector(gc(m)),g||(i=w({src:i,async:!0},r),(r=ti.get(m))&&Tp(i,r),g=o.createElement("script"),Ct(g),en(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function AR(i,r){Is.M(i,r);var o=Ao;if(o&&i){var c=Ui(o).hoistableScripts,m=Ro(i),g=c.get(m);g||(g=o.querySelector(gc(m)),g||(i=w({src:i,async:!0,type:"module"},r),(r=ti.get(m))&&Tp(i,r),g=o.createElement("script"),Ct(g),en(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Xb(i,r,o,c){var m=(m=je.current)?zh(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=No(o.href),o=Ui(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=No(o.href);var g=Ui(m).hoistableStyles,_=g.get(i);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,_),(g=m.querySelector(pc(i)))&&!g._p&&(_.instance=g,_.state.loading=5),ti.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ti.set(i,o),g||NR(m,i,o,_.state))),r&&c===null)throw Error(s(528,""));return _}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ro(o),o=Ui(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function No(i){return'href="'+vn(i)+'"'}function pc(i){return'link[rel="stylesheet"]['+i+"]"}function Jb(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function NR(i,r,o,c){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=i.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),en(r,"link",o),Ct(r),i.head.appendChild(r))}function Ro(i){return'[src="'+vn(i)+'"]'}function gc(i){return"script[async]"+i}function Zb(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(c)return r.instance=c,Ct(c),c;var m=w({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ct(c),en(c,"style",m),Fh(c,o.precedence,i),r.instance=c;case"stylesheet":m=No(o.href);var g=i.querySelector(pc(m));if(g)return r.state.loading|=4,r.instance=g,Ct(g),g;c=Jb(o),(m=ti.get(m))&&_p(c,m),g=(i.ownerDocument||i).createElement("link"),Ct(g);var _=g;return _._p=new Promise(function(C,z){_.onload=C,_.onerror=z}),en(g,"link",c),r.state.loading|=4,Fh(g,o.precedence,i),r.instance=g;case"script":return g=Ro(o.src),(m=i.querySelector(gc(g)))?(r.instance=m,Ct(m),m):(c=o,(m=ti.get(g))&&(c=w({},o),Tp(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ct(m),en(m,"link",c),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Fh(c,o.precedence,i));return r.instance}function Fh(i,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,_=0;_<c.length;_++){var C=c[_];if(C.dataset.precedence===r)g=C;else if(g!==m)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function _p(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Tp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var qh=null;function ew(i,r,o){if(qh===null){var c=new Map,m=qh=new Map;m.set(o,c)}else m=qh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var g=o[m];if(!(g[Oi]||g[Rt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=i+_;var C=c.get(_);C?C.push(g):c.set(_,[g])}}return c}function tw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function RR(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function CR(i,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=No(c.href),g=r.querySelector(pc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Hh.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,Ct(g);return}g=r.ownerDocument||r,c=Jb(c),(m=ti.get(m))&&_p(c,m),g=g.createElement("link"),Ct(g);var _=g;_._p=new Promise(function(C,z){_.onload=C,_.onerror=z}),en(g,"link",c),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Hh.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Ep=0;function jR(i,r){return i.stylesheets&&i.count===0&&$h(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var c=setTimeout(function(){if(i.stylesheets&&$h(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Ep===0&&(Ep=62500*uR());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&$h(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Ep?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$h(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gh=null;function $h(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gh=new Map,r.forEach(IR,i),Gh=null,Hh.call(i))}function IR(i,r){if(!(r.state.loading&4)){var o=Gh.get(i);if(o)var c=o.get(null);else{o=new Map,Gh.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var _=m[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}m=r.instance,_=m.getAttribute("data-precedence"),g=o.get(_)||c,g===c&&o.set(null,m),o.set(_,m),this.count++,c=Hh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var yc={$$typeof:M,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function kR(i,r,o,c,m,g,_,C,z){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function iw(i,r,o,c,m,g,_,C,z,Q,te,se){return i=new kR(i,r,o,_,z,Q,te,se,C),r=1,g===!0&&(r|=24),g=kn(3,null,null,r),i.current=g,g.stateNode=i,r=im(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},om(g),i}function sw(i){return i?(i=so,i):so}function rw(i,r,o,c,m,g){m=sw(m),c.context===null?c.context=m:c.pendingContext=m,c=ar(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=or(i,c,r),o!==null&&(Sn(o,i,r),Wl(o,i,r))}function aw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Sp(i,r){aw(i,r),(i=i.alternate)&&aw(i,r)}function ow(i){if(i.tag===13||i.tag===31){var r=ua(i,67108864);r!==null&&Sn(r,i,67108864),Sp(i,67108864)}}function lw(i){if(i.tag===13||i.tag===31){var r=On();r=Jr(r);var o=ua(i,r);o!==null&&Sn(o,i,r),Sp(i,r)}}var Kh=!0;function DR(i,r,o,c){var m=J.T;J.T=null;var g=oe.p;try{oe.p=2,Ap(i,r,o,c)}finally{oe.p=g,J.T=m}}function PR(i,r,o,c){var m=J.T;J.T=null;var g=oe.p;try{oe.p=8,Ap(i,r,o,c)}finally{oe.p=g,J.T=m}}function Ap(i,r,o,c){if(Kh){var m=Np(c);if(m===null)dp(i,r,c,Yh,o),uw(i,c);else if(VR(m,i,r,o,c))c.stopPropagation();else if(uw(i,c),r&4&&-1<MR.indexOf(i)){for(;m!==null;){var g=Hn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Di(g.pendingLanes);if(_!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var z=1<<31-wt(_);C.entanglements[1]|=z,_&=~z}Ji(g),(Ye&6)===0&&(jh=fn()+500,hc(0))}}break;case 31:case 13:C=ua(g,2),C!==null&&Sn(C,g,2),kh(),Sp(g,2)}if(g=Np(c),g===null&&dp(i,r,c,Yh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else dp(i,r,c,null,o)}}function Np(i){return i=Gn(i),Rp(i)}var Yh=null;function Rp(i){if(Yh=null,i=Li(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=u(r),i!==null)return i;i=null}else if(o===31){if(i=f(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Yh=i,null}function cw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yr()){case bl:return 2;case wl:return 8;case Gs:case Pf:return 32;case Au:return 268435456;default:return 32}default:return 32}}var Cp=!1,xr=null,vr=null,br=null,xc=new Map,vc=new Map,wr=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uw(i,r){switch(i){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":xc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":vc.delete(r.pointerId)}}function bc(i,r,o,c,m,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Hn(r),r!==null&&ow(r)),i):(i.eventSystemFlags|=c,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function VR(i,r,o,c,m){switch(r){case"focusin":return xr=bc(xr,i,r,o,c,m),!0;case"dragenter":return vr=bc(vr,i,r,o,c,m),!0;case"mouseover":return br=bc(br,i,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return xc.set(g,bc(xc.get(g)||null,i,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,vc.set(g,bc(vc.get(g)||null,i,r,o,c,m)),!0}return!1}function hw(i){var r=Li(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){i.blockedOn=r,ui(i.priority,function(){lw(o)});return}}else if(r===31){if(r=f(o),r!==null){i.blockedOn=r,ui(i.priority,function(){lw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Np(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);Dl=c,o.target.dispatchEvent(c),Dl=null}else return r=Hn(o),r!==null&&ow(r),i.blockedOn=o,!1;r.shift()}return!0}function dw(i,r,o){Wh(i)&&o.delete(r)}function OR(){Cp=!1,xr!==null&&Wh(xr)&&(xr=null),vr!==null&&Wh(vr)&&(vr=null),br!==null&&Wh(br)&&(br=null),xc.forEach(dw),vc.forEach(dw)}function Qh(i,r){i.blockedOn===r&&(i.blockedOn=null,Cp||(Cp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OR)))}var Xh=null;function fw(i){Xh!==i&&(Xh=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Xh===i&&(Xh=null);for(var r=0;r<i.length;r+=3){var o=i[r],c=i[r+1],m=i[r+2];if(typeof c!="function"){if(Rp(c||o)===null)continue;break}var g=Hn(o);g!==null&&(i.splice(r,3),r-=3,Nm(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Co(i){function r(z){return Qh(z,i)}xr!==null&&Qh(xr,i),vr!==null&&Qh(vr,i),br!==null&&Qh(br,i),xc.forEach(r),vc.forEach(r);for(var o=0;o<wr.length;o++){var c=wr[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<wr.length&&(o=wr[0],o.blockedOn===null);)hw(o),o.blockedOn===null&&wr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],_=m[Ht]||null;if(typeof g=="function")_||fw(o);else if(_){var C=null;if(g&&g.hasAttribute("formAction")){if(m=g,_=g[Ht]||null)C=_.formAction;else if(Rp(m)!==null)continue}else C=_.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),fw(o)}}}function mw(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function jp(i){this._internalRoot=i}Jh.prototype.render=jp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=On();rw(o,c,i,r,null,null)},Jh.prototype.unmount=jp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;rw(i.current,2,null,i,null,null),kh(),r[Vi]=null}};function Jh(i){this._internalRoot=i}Jh.prototype.unstable_scheduleHydration=function(i){if(i){var r=ku();i={blockedOn:null,target:i,priority:r};for(var o=0;o<wr.length&&r!==0&&r<wr[o].priority;o++);wr.splice(o,0,i),o===0&&hw(i)}};var pw=e.version;if(pw!=="19.2.4")throw Error(s(527,pw,"19.2.4"));oe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=y(r),i=i!==null?x(i):null,i=i===null?null:i.stateNode,i};var LR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{li=Zh.inject(LR),Wt=Zh}catch{}}return _c.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,c="",m=_v,g=Tv,_=Ev;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=iw(i,1,!1,null,null,o,c,null,m,g,_,mw),i[Vi]=r.current,hp(i),new jp(r)},_c.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var c=!1,m="",g=_v,_=Tv,C=Ev,z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),r=iw(i,1,!0,r,o??null,c,m,z,g,_,C,mw),r.context=sw(null),o=r.current,c=On(),c=Jr(c),m=ar(c),m.callback=null,or(o,m,c),o=c,r.current.lanes=o,Qr(r,o),Ji(r),i[Vi]=r.current,hp(i),new Jh(r)},_c.version="19.2.4",_c}var Sw;function YR(){if(Sw)return Dp.exports;Sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=KR(),Dp.exports}var WR=YR();const QR=NT(WR);var Aw="popstate";function XR(t={}){function e(s,a){let{pathname:l,search:u,hash:f}=s.location;return pg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:qc(a)}return ZR(e,n,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ri(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JR(){return Math.random().toString(36).substring(2,10)}function Nw(t,e){return{usr:t.state,key:t.key,idx:e}}function pg(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sl(e):e,state:n,key:e&&e.key||s||JR()}}function qc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function ZR(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,f="POP",p=null,y=x();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function x(){return(u.state||{idx:null}).idx}function w(){f="POP";let U=x(),G=U==null?null:U-y;y=U,p&&p({action:f,location:B.location,delta:G})}function T(U,G){f="PUSH";let $=pg(B.location,U,G);y=x()+1;let M=Nw($,y),b=B.createHref($);try{u.pushState(M,"",b)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(b)}l&&p&&p({action:f,location:B.location,delta:1})}function I(U,G){f="REPLACE";let $=pg(B.location,U,G);y=x();let M=Nw($,y),b=B.createHref($);u.replaceState(M,"",b),l&&p&&p({action:f,location:B.location,delta:0})}function D(U){return eC(U)}let B={get action(){return f},get location(){return t(a,u)},listen(U){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Aw,w),p=U,()=>{a.removeEventListener(Aw,w),p=null}},createHref(U){return e(a,U)},createURL:D,encodeLocation(U){let G=D(U);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:T,replace:I,go(U){return u.go(U)}};return B}function eC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:qc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function RT(t,e,n="/"){return tC(t,e,n,!1)}function tC(t,e,n,s){let a=typeof e=="string"?sl(e):e,l=Ms(a.pathname||"/",n);if(l==null)return null;let u=CT(t);nC(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let y=fC(l);f=hC(u[p],y,s)}return f}function CT(t,e=[],n=[],s="",a=!1){let l=(u,f,p=a,y)=>{let x={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(s)&&p)return;dt(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length)}let w=Ps([s,x.relativePath]),T=n.concat(x);u.children&&u.children.length>0&&(dt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),CT(u.children,e,T,w,p)),!(u.path==null&&!u.index)&&e.push({path:w,score:cC(w,u.index),routesMeta:T})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of jT(u.path))l(u,f,!0,p)}),e}function jT(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=jT(s.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function nC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var iC=/^:[\w-]+$/,sC=3,rC=2,aC=1,oC=10,lC=-2,Rw=t=>t==="*";function cC(t,e){let n=t.split("/"),s=n.length;return n.some(Rw)&&(s+=lC),e&&(s+=rC),n.filter(a=>!Rw(a)).reduce((a,l)=>a+(iC.test(l)?sC:l===""?aC:oC),s)}function uC(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function hC(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let f=0;f<s.length;++f){let p=s[f],y=f===s.length-1,x=l==="/"?e:e.slice(l.length)||"/",w=Pd({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},x),T=p.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=Pd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:Ps([l,w.pathname]),pathnameBase:yC(Ps([l,w.pathnameBase])),route:T}),w.pathnameBase!=="/"&&(l=Ps([l,w.pathnameBase]))}return u}function Pd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=dC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:s.reduce((y,{paramName:x,isOptional:w},T)=>{if(x==="*"){let D=f[T]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const I=f[T];return w&&!I?y[x]=void 0:y[x]=(I||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:t}}function dC(t,e=!1,n=!0){Ri(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function fC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ri(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ms(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var mC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function pC(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?sl(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=Cw(n.substring(1),"/"):l=Cw(n,e)):l=e,{pathname:l,search:xC(s),hash:vC(a)}}function Cw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Op(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function my(t){let e=gC(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function py(t,e,n,s=!1){let a;typeof t=="string"?a=sl(t):(a={...t},dt(!a.pathname||!a.pathname.includes("?"),Op("?","pathname","search",a)),dt(!a.pathname||!a.pathname.includes("#"),Op("#","pathname","hash",a)),dt(!a.search||!a.search.includes("#"),Op("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let w=e.length-1;if(!s&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),w-=1;a.pathname=T.join("/")}f=w>=0?e[w]:"/"}let p=pC(a,f),y=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||x)&&(p.pathname+="/"),p}var Ps=t=>t.join("/").replace(/\/\/+/g,"/"),yC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,bC=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function wC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function _C(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kT(t,e){let n=t;if(typeof n!="string"||!mC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(IT)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Ms(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{Ri(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DT=["POST","PUT","PATCH","DELETE"];new Set(DT);var TC=["GET",...DT];new Set(TC);var rl=P.createContext(null);rl.displayName="DataRouter";var cf=P.createContext(null);cf.displayName="DataRouterState";var EC=P.createContext(!1),PT=P.createContext({isTransitioning:!1});PT.displayName="ViewTransition";var SC=P.createContext(new Map);SC.displayName="Fetchers";var AC=P.createContext(null);AC.displayName="Await";var Un=P.createContext(null);Un.displayName="Navigation";var ou=P.createContext(null);ou.displayName="Location";var ji=P.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var gy=P.createContext(null);gy.displayName="RouteError";var MT="REACT_ROUTER_ERROR",NC="REDIRECT",RC="ROUTE_ERROR_RESPONSE";function CC(t){if(t.startsWith(`${MT}:${NC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function jC(t){if(t.startsWith(`${MT}:${RC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new bC(e.status,e.statusText,e.data)}catch{}}function IC(t,{relative:e}={}){dt(al(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(Un),{hash:a,pathname:l,search:u}=lu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Ps([n,l])),s.createHref({pathname:f,search:u,hash:a})}function al(){return P.useContext(ou)!=null}function hs(){return dt(al(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ou).location}var VT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OT(t){P.useContext(Un).static||P.useLayoutEffect(t)}function ri(){let{isDataRoute:t}=P.useContext(ji);return t?HC():kC()}function kC(){dt(al(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(rl),{basename:e,navigator:n}=P.useContext(Un),{matches:s}=P.useContext(ji),{pathname:a}=hs(),l=JSON.stringify(my(s)),u=P.useRef(!1);return OT(()=>{u.current=!0}),P.useCallback((p,y={})=>{if(Ri(u.current,VT),!u.current)return;if(typeof p=="number"){n.go(p);return}let x=py(p,JSON.parse(l),a,y.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ps([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,l,a,t])}P.createContext(null);function LT(){let{matches:t}=P.useContext(ji),e=t[t.length-1];return e?e.params:{}}function lu(t,{relative:e}={}){let{matches:n}=P.useContext(ji),{pathname:s}=hs(),a=JSON.stringify(my(n));return P.useMemo(()=>py(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function DC(t,e){return UT(t,e)}function UT(t,e,n,s,a){dt(al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Un),{matches:u}=P.useContext(ji),f=u[u.length-1],p=f?f.params:{},y=f?f.pathname:"/",x=f?f.pathnameBase:"/",w=f&&f.route;{let $=w&&w.path||"";zT(y,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let T=hs(),I;if(e){let $=typeof e=="string"?sl(e):e;dt(x==="/"||$.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${$.pathname}" was given in the \`location\` prop.`),I=$}else I=T;let D=I.pathname||"/",B=D;if(x!=="/"){let $=x.replace(/^\//,"").split("/");B="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let U=RT(t,{pathname:B});Ri(w||U!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Ri(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=LC(U&&U.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Ps([x,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?x:Ps([x,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,n,s,a);return e&&G?P.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},G):G}function PC(){let t=qC(),e=wC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:a},n):null,u)}var MC=P.createElement(PC,null),BT=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=jC(t.digest);n&&(t=n)}let e=t!==void 0?P.createElement(ji.Provider,{value:this.props.routeContext},P.createElement(gy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?P.createElement(VC,{error:t},e):e}};BT.contextType=EC;var Lp=new WeakMap;function VC({children:t,error:e}){let{basename:n}=P.useContext(Un);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=CC(e.digest);if(s){let a=Lp.get(e);if(a)throw a;let l=kT(s.location,n);if(IT&&!Lp.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Lp.set(e,u),u}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function OC({routeContext:t,match:e,children:n}){let s=P.useContext(rl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ji.Provider,{value:t},n)}function LC(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let x=l.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);dt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let f=!1,p=-1;if(n)for(let x=0;x<l.length;x++){let w=l[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=x),w.route.id){let{loaderData:T,errors:I}=n,D=w.route.loader&&!T.hasOwnProperty(w.route.id)&&(!I||I[w.route.id]===void 0);if(w.route.lazy||D){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let y=n&&s?(x,w)=>{s(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:_C(n.matches),errorInfo:w})}:void 0;return l.reduceRight((x,w,T)=>{let I,D=!1,B=null,U=null;n&&(I=u&&w.route.id?u[w.route.id]:void 0,B=w.route.errorElement||MC,f&&(p<0&&T===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,U=null):p===T&&(D=!0,U=w.route.hydrateFallbackElement||null)));let G=e.concat(l.slice(0,T+1)),$=()=>{let M;return I?M=B:D?M=U:w.route.Component?M=P.createElement(w.route.Component,null):w.route.element?M=w.route.element:M=x,P.createElement(OC,{match:w,routeContext:{outlet:x,matches:G,isDataRoute:n!=null},children:M})};return n&&(w.route.ErrorBoundary||w.route.errorElement||T===0)?P.createElement(BT,{location:n.location,revalidation:n.revalidation,component:B,error:I,children:$(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:y}):$()},null)}function yy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UC(t){let e=P.useContext(rl);return dt(e,yy(t)),e}function BC(t){let e=P.useContext(cf);return dt(e,yy(t)),e}function zC(t){let e=P.useContext(ji);return dt(e,yy(t)),e}function xy(t){let e=zC(t),n=e.matches[e.matches.length-1];return dt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FC(){return xy("useRouteId")}function qC(){let t=P.useContext(gy),e=BC("useRouteError"),n=xy("useRouteError");return t!==void 0?t:e.errors?.[n]}function HC(){let{router:t}=UC("useNavigate"),e=xy("useNavigate"),n=P.useRef(!1);return OT(()=>{n.current=!0}),P.useCallback(async(a,l={})=>{Ri(n.current,VT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var jw={};function zT(t,e,n){!e&&!jw[t]&&(jw[t]=!0,Ri(!1,n))}P.memo(GC);function GC({routes:t,future:e,state:n,onError:s}){return UT(t,void 0,n,s,e)}function $C({to:t,replace:e,state:n,relative:s}){dt(al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=P.useContext(Un);Ri(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(ji),{pathname:u}=hs(),f=ri(),p=py(t,my(l),u,s==="path"),y=JSON.stringify(p);return P.useEffect(()=>{f(JSON.parse(y),{replace:e,state:n,relative:s})},[f,y,s,e,n]),null}function ln(t){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KC({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){dt(!al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=sl(n));let{pathname:y="/",search:x="",hash:w="",state:T=null,key:I="default"}=n,D=P.useMemo(()=>{let B=Ms(y,f);return B==null?null:{location:{pathname:B,search:x,hash:w,state:T,key:I},navigationType:s}},[f,y,x,w,T,I,s]);return Ri(D!=null,`<Router basename="${f}"> is not able to match the URL "${y}${x}${w}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:P.createElement(Un.Provider,{value:p},P.createElement(ou.Provider,{children:e,value:D}))}function YC({children:t,location:e}){return DC(gg(t),e)}function gg(t,e=[]){let n=[];return P.Children.forEach(t,(s,a)=>{if(!P.isValidElement(s))return;let l=[...e,a];if(s.type===P.Fragment){n.push.apply(n,gg(s.props.children,l));return}dt(s.type===ln,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=gg(s.props.children,l)),n.push(u)}),n}var md="get",pd="application/x-www-form-urlencoded";function uf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function WC(t){return uf(t)&&t.tagName.toLowerCase()==="button"}function QC(t){return uf(t)&&t.tagName.toLowerCase()==="form"}function XC(t){return uf(t)&&t.tagName.toLowerCase()==="input"}function JC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZC(t,e){return t.button===0&&(!e||e==="_self")&&!JC(t)}var ed=null;function ej(){if(ed===null)try{new FormData(document.createElement("form"),0),ed=!1}catch{ed=!0}return ed}var tj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Up(t){return t!=null&&!tj.has(t)?(Ri(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pd}"`),null):t}function nj(t,e){let n,s,a,l,u;if(QC(t)){let f=t.getAttribute("action");s=f?Ms(f,e):null,n=t.getAttribute("method")||md,a=Up(t.getAttribute("enctype"))||pd,l=new FormData(t)}else if(WC(t)||XC(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(s=p?Ms(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||md,a=Up(t.getAttribute("formenctype"))||Up(f.getAttribute("enctype"))||pd,l=new FormData(f,t),!ej()){let{name:y,type:x,value:w}=t;if(x==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,w)}}else{if(uf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=md,s=null,a=pd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ij(t,e,n,s){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${s}`:a.pathname=`${a.pathname}.${s}`:a.pathname==="/"?a.pathname=`_root.${s}`:e&&Ms(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function sj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aj(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await sj(l,n);return u.links?u.links():[]}return[]}));return uj(s.flat(1).filter(rj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Iw(t,e,n,s,a,l){let u=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,f=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,y)=>u(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{let x=s.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(u(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function oj(t,e,{includeHydrateFallback:n}={}){return lj(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function lj(t){return[...new Set(t)]}function cj(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function uj(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(cj(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function FT(){let t=P.useContext(rl);return vy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hj(){let t=P.useContext(cf);return vy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var by=P.createContext(void 0);by.displayName="FrameworkContext";function qT(){let t=P.useContext(by);return vy(t,"You must render this element inside a <HydratedRouter> element"),t}function dj(t,e){let n=P.useContext(by),[s,a]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:x,onTouchStart:w}=e,T=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let B=G=>{G.forEach($=>{u($.isIntersecting)})},U=new IntersectionObserver(B,{threshold:.5});return T.current&&U.observe(T.current),()=>{U.disconnect()}}},[t]),P.useEffect(()=>{if(s){let B=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(B)}}},[s]);let I=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Tc(f,I),onBlur:Tc(p,D),onMouseEnter:Tc(y,I),onMouseLeave:Tc(x,D),onTouchStart:Tc(w,I)}]:[!1,T,{}]}function Tc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fj({page:t,...e}){let{router:n}=FT(),s=P.useMemo(()=>RT(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?P.createElement(pj,{page:t,matches:s,...e}):null}function mj(t){let{manifest:e,routeModules:n}=qT(),[s,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return aj(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function pj({page:t,matches:e,...n}){let s=hs(),{future:a,manifest:l,routeModules:u}=qT(),{basename:f}=FT(),{loaderData:p,matches:y}=hj(),x=P.useMemo(()=>Iw(t,e,y,l,s,"data"),[t,e,y,l,s]),w=P.useMemo(()=>Iw(t,e,y,l,s,"assets"),[t,e,y,l,s]),T=P.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let B=new Set,U=!1;if(e.forEach($=>{let M=l.routes[$.route.id];!M||!M.hasLoader||(!x.some(b=>b.route.id===$.route.id)&&$.route.id in p&&u[$.route.id]?.shouldRevalidate||M.hasClientLoader?U=!0:B.add($.route.id))}),B.size===0)return[];let G=ij(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return U&&B.size>0&&G.searchParams.set("_routes",e.filter($=>B.has($.route.id)).map($=>$.route.id).join(",")),[G.pathname+G.search]},[f,a.unstable_trailingSlashAwareDataRequests,p,s,l,x,e,t,u]),I=P.useMemo(()=>oj(w,l),[w,l]),D=mj(w);return P.createElement(P.Fragment,null,T.map(B=>P.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),I.map(B=>P.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),D.map(({key:B,link:U})=>P.createElement("link",{key:B,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function gj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yj&&(window.__reactRouterVersion="7.13.0")}catch{}function xj({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=P.useRef();a.current==null&&(a.current=XR({window:s,v5Compat:!0}));let l=a.current,[u,f]=P.useState({action:l.action,location:l.location}),p=P.useCallback(y=>{n===!1?f(y):P.startTransition(()=>f(y))},[n]);return P.useLayoutEffect(()=>l.listen(p),[l,p]),P.createElement(KC,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:y,preventScrollReset:x,viewTransition:w,unstable_defaultShouldRevalidate:T,...I},D){let{basename:B,unstable_useTransitions:U}=P.useContext(Un),G=typeof y=="string"&&HT.test(y),$=kT(y,B);y=$.to;let M=IC(y,{relative:a}),[b,E,j]=dj(s,I),N=_j(y,{replace:u,state:f,target:p,preventScrollReset:x,relative:a,viewTransition:w,unstable_defaultShouldRevalidate:T,unstable_useTransitions:U});function A(L){e&&e(L),L.defaultPrevented||N(L)}let R=P.createElement("a",{...I,...j,href:$.absoluteURL||M,onClick:$.isExternal||l?e:A,ref:gj(D,E),target:p,"data-discover":!G&&n==="render"?"true":void 0});return b&&!G?P.createElement(P.Fragment,null,R,P.createElement(fj,{page:M})):R});bt.displayName="Link";var vj=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...y},x){let w=lu(u,{relative:y.relative}),T=hs(),I=P.useContext(cf),{navigator:D,basename:B}=P.useContext(Un),U=I!=null&&Nj(w)&&f===!0,G=D.encodeLocation?D.encodeLocation(w).pathname:w.pathname,$=T.pathname,M=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||($=$.toLowerCase(),M=M?M.toLowerCase():null,G=G.toLowerCase()),M&&B&&(M=Ms(M,B)||M);const b=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let E=$===G||!a&&$.startsWith(G)&&$.charAt(b)==="/",j=M!=null&&(M===G||!a&&M.startsWith(G)&&M.charAt(G.length)==="/"),N={isActive:E,isPending:j,isTransitioning:U},A=E?e:void 0,R;typeof s=="function"?R=s(N):R=[s,E?"active":null,j?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(N):l;return P.createElement(bt,{...y,"aria-current":A,className:R,ref:x,style:L,to:u,viewTransition:f},typeof p=="function"?p(N):p)});vj.displayName="NavLink";var bj=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=md,action:f,onSubmit:p,relative:y,preventScrollReset:x,viewTransition:w,unstable_defaultShouldRevalidate:T,...I},D)=>{let{unstable_useTransitions:B}=P.useContext(Un),U=Sj(),G=Aj(f,{relative:y}),$=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&HT.test(f),b=E=>{if(p&&p(E),E.defaultPrevented)return;E.preventDefault();let j=E.nativeEvent.submitter,N=j?.getAttribute("formmethod")||u,A=()=>U(j||E.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:y,preventScrollReset:x,viewTransition:w,unstable_defaultShouldRevalidate:T});B&&n!==!1?P.startTransition(()=>A()):A()};return P.createElement("form",{ref:D,method:$,action:G,onSubmit:s?p:b,...I,"data-discover":!M&&t==="render"?"true":void 0})});bj.displayName="Form";function wj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(t){let e=P.useContext(rl);return dt(e,wj(t)),e}function _j(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let y=ri(),x=hs(),w=lu(t,{relative:l});return P.useCallback(T=>{if(ZC(T,e)){T.preventDefault();let I=n!==void 0?n:qc(x)===qc(w),D=()=>y(t,{replace:I,state:s,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?P.startTransition(()=>D()):D()}},[x,y,w,n,s,e,t,a,l,u,f,p])}var Tj=0,Ej=()=>`__${String(++Tj)}__`;function Sj(){let{router:t}=GT("useSubmit"),{basename:e}=P.useContext(Un),n=FC(),s=t.fetch,a=t.navigate;return P.useCallback(async(l,u={})=>{let{action:f,method:p,encType:y,formData:x,body:w}=nj(l,e);if(u.navigate===!1){let T=u.fetcherKey||Ej();await s(T,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:x,body:w,formMethod:u.method||p,formEncType:u.encType||y,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:x,body:w,formMethod:u.method||p,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[s,a,e,n])}function Aj(t,{relative:e}={}){let{basename:n}=P.useContext(Un),s=P.useContext(ji);dt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...lu(t||".",{relative:e})},u=hs();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(x=>x==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let x=f.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ps([n,l.pathname])),qc(l)}function Nj(t,{relative:e}={}){let n=P.useContext(PT);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=GT("useViewTransitionState"),a=lu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ms(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=Ms(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pd(a.pathname,u)!=null||Pd(a.pathname,l)!=null}const Rj=()=>{};var kw={};const $T=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Cj=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,y=p?t[a+2]:0,x=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|y>>6,I=y&63;p||(I=64,u||(T=64)),s.push(n[x],n[w],n[T],n[I])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($T(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const y=a<t.length?n[t.charAt(a)]:64;++a;const w=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||y==null||w==null)throw new jj;const T=l<<2|f>>4;if(s.push(T),y!==64){const I=f<<4&240|y>>2;if(s.push(I),w!==64){const D=y<<6&192|w;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ij=function(t){const e=$T(t);return KT.encodeByteArray(e,!0)},Md=function(t){return Ij(t).replace(/\./g,"")},YT=function(t){try{return KT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Dj=()=>kj().__FIREBASE_DEFAULTS__,Pj=()=>{if(typeof process>"u"||typeof kw>"u")return;const t=kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YT(t[1]);return e&&JSON.parse(e)},hf=()=>{try{return Rj()||Dj()||Pj()||Mj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WT=t=>hf()?.emulatorHosts?.[t],Vj=t=>{const e=WT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},QT=()=>hf()?.config,XT=t=>hf()?.[`_${t}`];class Oj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function ol(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JT(t){return(await fetch(t,{credentials:"include"})).ok}function Lj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Md(JSON.stringify(n)),Md(JSON.stringify(u)),""].join(".")}const Dc={};function Uj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dc))Dc[e]?t.emulator.push(e):t.prod.push(e);return t}function Bj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Dw=!1;function ZT(t,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||Dc[t]===e||Dc[t]||Dw)return;Dc[t]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=Uj().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Dw=!0,u()},T}function x(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=Bj(s),I=n("text"),D=document.getElementById(I)||document.createElement("span"),B=n("learnmore"),U=document.getElementById(B)||document.createElement("a"),G=n("preprendIcon"),$=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const M=T.element;f(M),x(U,B);const b=y();p($,G),M.append($,D,U,b),document.body.appendChild(M)}l?(D.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function Fj(){const t=hf()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $j(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kj(){return!Fj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yj(){try{return typeof indexedDB=="object"}catch{return!1}}function Wj(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const Qj="FirebaseError";class zs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Qj,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?Xj(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new zs(a,f,s)}}function Xj(t,e){return t.replace(Jj,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const Jj=/\{\$([^}]+)}/g;function Zj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(Pw(l)&&Pw(u)){if(!ka(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Pw(t){return t!==null&&typeof t=="object"}function uu(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eI(t,e){const n=new tI(t,e);return n.subscribe.bind(n)}class tI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=Bp),a.error===void 0&&(a.error=Bp),a.complete===void 0&&(a.complete=Bp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bp(){}function Yt(t){return t&&t._delegate?t._delegate:t}class Da{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ea="[DEFAULT]";class iI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Oj;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rI(e))try{this.getOrInitializeService({instanceIdentifier:Ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ea){return this.instances.has(e)}getOptions(e=Ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ea){return this.component?this.component.multipleInstances?e:Ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sI(t){return t===Ea?void 0:t}function rI(t){return t.instantiationMode==="EAGER"}class aI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const oI={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},lI=Be.INFO,cI={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},uI=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=cI[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wy{constructor(e){this.name=e,this._logLevel=lI,this._logHandler=uI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const hI=(t,e)=>e.some(n=>t instanceof n);let Mw,Vw;function dI(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fI(){return Vw||(Vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,yg=new WeakMap,tE=new WeakMap,zp=new WeakMap,_y=new WeakMap;function mI(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(jr(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,t)}).catch(()=>{}),_y.set(e,t),e}function pI(t){if(yg.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});yg.set(t,e)}let xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gI(t){xg=t(xg)}function yI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(Fp(this),e,...n);return tE.set(s,e.sort?e.sort():[e]),jr(s)}:fI().includes(t)?function(...e){return t.apply(Fp(this),e),jr(eE.get(this))}:function(...e){return jr(t.apply(Fp(this),e))}}function xI(t){return typeof t=="function"?yI(t):(t instanceof IDBTransaction&&pI(t),hI(t,dI())?new Proxy(t,xg):t)}function jr(t){if(t instanceof IDBRequest)return mI(t);if(zp.has(t))return zp.get(t);const e=xI(t);return e!==t&&(zp.set(t,e),_y.set(e,t)),e}const Fp=t=>_y.get(t);function vI(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=jr(u);return s&&u.addEventListener("upgradeneeded",p=>{s(jr(u.result),p.oldVersion,p.newVersion,jr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const bI=["get","getKey","getAll","getAllKeys","count"],wI=["put","add","delete","clear"],qp=new Map;function Ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qp.get(e))return qp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=wI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||bI.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[n](...f),a&&p.done]))[0]};return qp.set(e,l),l}gI(t=>({...t,get:(e,n,s)=>Ow(e,n)||t.get(e,n,s),has:(e,n)=>!!Ow(e,n)||t.has(e,n)}));class _I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TI(t){return t.getComponent()?.type==="VERSION"}const vg="@firebase/app",Lw="0.14.8";const Vs=new wy("@firebase/app"),EI="@firebase/app-compat",SI="@firebase/analytics-compat",AI="@firebase/analytics",NI="@firebase/app-check-compat",RI="@firebase/app-check",CI="@firebase/auth",jI="@firebase/auth-compat",II="@firebase/database",kI="@firebase/data-connect",DI="@firebase/database-compat",PI="@firebase/functions",MI="@firebase/functions-compat",VI="@firebase/installations",OI="@firebase/installations-compat",LI="@firebase/messaging",UI="@firebase/messaging-compat",BI="@firebase/performance",zI="@firebase/performance-compat",FI="@firebase/remote-config",qI="@firebase/remote-config-compat",HI="@firebase/storage",GI="@firebase/storage-compat",$I="@firebase/firestore",KI="@firebase/ai",YI="@firebase/firestore-compat",WI="firebase",QI="12.9.0";const bg="[DEFAULT]",XI={[vg]:"fire-core",[EI]:"fire-core-compat",[AI]:"fire-analytics",[SI]:"fire-analytics-compat",[RI]:"fire-app-check",[NI]:"fire-app-check-compat",[CI]:"fire-auth",[jI]:"fire-auth-compat",[II]:"fire-rtdb",[kI]:"fire-data-connect",[DI]:"fire-rtdb-compat",[PI]:"fire-fn",[MI]:"fire-fn-compat",[VI]:"fire-iid",[OI]:"fire-iid-compat",[LI]:"fire-fcm",[UI]:"fire-fcm-compat",[BI]:"fire-perf",[zI]:"fire-perf-compat",[FI]:"fire-rc",[qI]:"fire-rc-compat",[HI]:"fire-gcs",[GI]:"fire-gcs-compat",[$I]:"fire-fst",[YI]:"fire-fst-compat",[KI]:"fire-vertex","fire-js":"fire-js",[WI]:"fire-js-all"};const Vd=new Map,JI=new Map,wg=new Map;function Uw(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wo(t){const e=t.name;if(wg.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;wg.set(e,t);for(const n of Vd.values())Uw(n,t);for(const n of JI.values())Uw(n,t);return!0}function Ty(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _i(t){return t==null?!1:t.settings!==void 0}const ZI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new cu("app","Firebase",ZI);class ek{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}const ll=QI;function nE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:bg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Ir.create("bad-app-name",{appName:String(a)});if(n||(n=QT()),!n)throw Ir.create("no-options");const l=Vd.get(a);if(l){if(ka(n,l.options)&&ka(s,l.config))return l;throw Ir.create("duplicate-app",{appName:a})}const u=new aI(a);for(const p of wg.values())u.addComponent(p);const f=new ek(n,s,u);return Vd.set(a,f),f}function iE(t=bg){const e=Vd.get(t);if(!e&&t===bg&&QT())return nE();if(!e)throw Ir.create("no-app",{appName:t});return e}function kr(t,e,n){let s=XI[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(u.join(" "));return}Wo(new Da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const tk="firebase-heartbeat-database",nk=1,Hc="firebase-heartbeat-store";let Hp=null;function sE(){return Hp||(Hp=vI(tk,nk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ir.create("idb-open",{originalErrorMessage:t.message})})),Hp}async function ik(t){try{const n=(await sE()).transaction(Hc),s=await n.objectStore(Hc).get(rE(t));return await n.done,s}catch(e){if(e instanceof zs)Vs.warn(e.message);else{const n=Ir.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(n.message)}}}async function Bw(t,e){try{const s=(await sE()).transaction(Hc,"readwrite");await s.objectStore(Hc).put(e,rE(t)),await s.done}catch(n){if(n instanceof zs)Vs.warn(n.message);else{const s=Ir.create("idb-set",{originalErrorMessage:n?.message});Vs.warn(s.message)}}}function rE(t){return`${t.name}!${t.options.appId}`}const sk=1024,rk=30;class ak{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>rk){const a=ck(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zw(),{heartbeatsToSend:n,unsentEntries:s}=ok(this._heartbeatsCache.heartbeats),a=Md(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Vs.warn(e),""}}}function zw(){return new Date().toISOString().substring(0,10)}function ok(t,e=sk){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Fw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Fw(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yj()?Wj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ik(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Bw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Bw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fw(t){return Md(JSON.stringify({version:2,heartbeats:t})).length}function ck(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}function uk(t){Wo(new Da("platform-logger",e=>new _I(e),"PRIVATE")),Wo(new Da("heartbeat",e=>new ak(e),"PRIVATE")),kr(vg,Lw,t),kr(vg,Lw,"esm2020"),kr("fire-js","")}uk("");var hk="firebase",dk="12.9.0";kr(hk,dk,"app");function aE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fk=aE,oE=new cu("auth","Firebase",aE());const Od=new wy("@firebase/auth");function mk(t,...e){Od.logLevel<=Be.WARN&&Od.warn(`Auth (${ll}): ${t}`,...e)}function gd(t,...e){Od.logLevel<=Be.ERROR&&Od.error(`Auth (${ll}): ${t}`,...e)}function ls(t,...e){throw Sy(t,...e)}function ns(t,...e){return Sy(t,...e)}function Ey(t,e,n){const s={...fk(),[e]:n};return new cu("auth","Firebase",s).create(e,{appName:t.name})}function Dr(t){return Ey(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pk(t,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ls(t,"argument-error"),Ey(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sy(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return oE.create(t,...e)}function Ae(t,e,...n){if(!t)throw Sy(e,...n)}function ks(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function Os(t,e){t||ks(e)}function _g(){return typeof self<"u"&&self.location?.href||""}function gk(){return qw()==="http:"||qw()==="https:"}function qw(){return typeof self<"u"&&self.location?.protocol||null}function yk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gk()||Hj()||"connection"in navigator)?navigator.onLine:!0}function xk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Os(n>e,"Short delay should be less than long delay!"),this.isMobile=zj()||Gj()}get(){return yk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ay(t,e){Os(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wk=new hu(3e4,6e4);function Ny(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function cl(t,e,n,s,a={}){return cE(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=uu({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:p,...l};return qj()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&ol(t.emulatorConfig.host)&&(y.credentials="include"),lE.fetch()(await uE(t,t.config.apiHost,n,f),y)})}async function cE(t,e,n){t._canInitEmulator=!1;const s={...vk,...e};try{const a=new Tk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw td(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw td(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw td(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw td(t,"user-disabled",u);const x=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ey(t,x,y);ls(t,x)}}catch(a){if(a instanceof zs)throw a;ls(t,"network-request-failed",{message:String(a)})}}async function _k(t,e,n,s,a={}){const l=await cl(t,e,n,s,a);return"mfaPendingCredential"in l&&ls(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function uE(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?Ay(t.config,a):`${t.config.apiScheme}://${a}`;return bk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class Tk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ns(this.auth,"network-request-failed")),wk.get())})}}function td(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=ns(t,e,s);return a.customData._tokenResponse=n,a}async function Ek(t,e){return cl(t,"POST","/v1/accounts:delete",e)}async function Ld(t,e){return cl(t,"POST","/v1/accounts:lookup",e)}function Pc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sk(t,e=!1){const n=Yt(t),s=await n.getIdToken(e),a=Ry(s);Ae(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Pc(Gp(a.auth_time)),issuedAtTime:Pc(Gp(a.iat)),expirationTime:Pc(Gp(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Gp(t){return Number(t)*1e3}function Ry(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const a=YT(n);return a?JSON.parse(a):(gd("Failed to decode base64 JWT payload"),null)}catch(a){return gd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Hw(t){const e=Ry(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gc(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof zs&&Ak(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Ak({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Nk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Tg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ud(t){const e=t.auth,n=await t.getIdToken(),s=await Gc(t,Ld(e,{idToken:n}));Ae(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?hE(a.providerUserInfo):[],u=Ck(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,y=f?p:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,x)}async function Rk(t){const e=Yt(t);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ck(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function hE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jk(t,e){const n=await cE(t,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await uE(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return t.emulatorConfig&&ol(t.emulatorConfig.host)&&(p.credentials="include"),lE.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ik(t,e){return cl(t,"POST","/v2/accounts:revokeToken",Ny(t,e))}class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Hw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await jk(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new zo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ae(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ae(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return ks("not implemented")}}function Tr(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Tg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Gc(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sk(this,e)}reload(){return Rk(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ud(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Gc(this,Ek(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:I,providerData:D,stsTokenManager:B}=n;Ae(w&&B,e,"internal-error");const U=zo.fromJSON(this.name,B);Ae(typeof w=="string",e,"internal-error"),Tr(s,e.name),Tr(a,e.name),Ae(typeof T=="boolean",e,"internal-error"),Ae(typeof I=="boolean",e,"internal-error"),Tr(l,e.name),Tr(u,e.name),Tr(f,e.name),Tr(p,e.name),Tr(y,e.name),Tr(x,e.name);const G=new Ti({uid:w,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:U,createdAt:y,lastLoginAt:x});return D&&Array.isArray(D)&&(G.providerData=D.map($=>({...$}))),p&&(G._redirectEventId=p),G}static async _fromIdTokenResponse(e,n,s=!1){const a=new zo;a.updateFromServerResponse(n);const l=new Ti({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Ud(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Ae(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?hE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new zo;f.updateFromIdToken(s);const p=new Ti({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Tg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,y),p}}const Gw=new Map;function Ds(t){Os(t instanceof Function,"Expected a class definition");let e=Gw.get(t);return e?(Os(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gw.set(t,e),e)}class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dE.type="NONE";const $w=dE;function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=yd(this.userKey,a.apiKey,l),this.fullPersistenceKey=yd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ld(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Fo(Ds($w),e,s);const a=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||Ds($w);const u=yd(s,e.config.apiKey,e.name);let f=null;for(const y of n)try{const x=await y._get(u);if(x){let w;if(typeof x=="string"){const T=await Ld(e,{idToken:x}).catch(()=>{});if(!T)break;w=await Ti._fromGetAccountInfoResponse(e,T,x)}else w=Ti._fromJSON(e,x);y!==l&&(f=w),l=y;break}}catch{}const p=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Fo(l,e,s):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new Fo(l,e,s))}}function Kw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xE(e))return"Blackberry";if(vE(e))return"Webos";if(mE(e))return"Safari";if((e.includes("chrome/")||pE(e))&&!e.includes("edge/"))return"Chrome";if(yE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function fE(t=dn()){return/firefox\//i.test(t)}function mE(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pE(t=dn()){return/crios\//i.test(t)}function gE(t=dn()){return/iemobile/i.test(t)}function yE(t=dn()){return/android/i.test(t)}function xE(t=dn()){return/blackberry/i.test(t)}function vE(t=dn()){return/webos/i.test(t)}function Cy(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kk(t=dn()){return Cy(t)&&!!window.navigator?.standalone}function Dk(){return $j()&&document.documentMode===10}function bE(t=dn()){return Cy(t)||yE(t)||vE(t)||xE(t)||/windows phone/i.test(t)||gE(t)}function wE(t,e=[]){let n;switch(t){case"Browser":n=Kw(dn());break;case"Worker":n=`${Kw(dn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${s}`}class Pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Mk(t,e={}){return cl(t,"GET","/v2/passwordPolicy",Ny(t,e))}const Vk=6;class Ok{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Vk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Lk{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yw(this),this.idTokenSubscription=new Yw(this),this.beforeStateQueue=new Pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ds(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ld(this,{idToken:e}),s=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_i(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_i(this.app))return Promise.reject(Dr(this));const n=e?Yt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _i(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mk(this),n=new Ok(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Ik(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ds(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Fo.create(this,[Ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ul(t){return Yt(t)}class Yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=eI(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let jy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uk(t){jy=t}function Bk(t){return jy.loadJS(t)}function zk(){return jy.gapiScript}function Fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function qk(t,e){const n=Ty(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(ka(l,e??{}))return a;ls(a,"already-initialized")}return n.initialize({options:e})}function Hk(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ds);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function Gk(t,e,n){const s=ul(t);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=_E(e),{host:u,port:f}=$k(e),p=f===null?"":`:${f}`,y={url:`${l}//${u}${p}/`},x=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(ka(y,s.config.emulator)&&ka(x,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=x,s.settings.appVerificationDisabledForTesting=!0,ol(u)?(JT(`${l}//${u}${p}`),ZT("Auth",!0)):Kk()}function _E(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $k(t){const e=_E(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Ww(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:Ww(u)}}}function Ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class TE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ks("not implemented")}_getIdTokenResponse(e){return ks("not implemented")}_linkToIdToken(e,n){return ks("not implemented")}_getReauthenticationResolver(e){return ks("not implemented")}}async function qo(t,e){return _k(t,"POST","/v1/accounts:signInWithIdp",Ny(t,e))}const Yk="http://localhost";class Pa extends TE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new Pa(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return qo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,qo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qo(e,n)}buildRequest(){const e={requestUri:Yk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}class Iy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends Iy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sr extends du{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";class ts extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class Ar extends du{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ar.credential(e.oauthAccessToken)}catch{return null}}}Ar.GITHUB_SIGN_IN_METHOD="github.com";Ar.PROVIDER_ID="github.com";class Nr extends du{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";class Qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Ti._fromIdTokenResponse(e,s,a),u=Qw(s);return new Qo({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=Qw(s);return new Qo({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function Qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Bd extends zs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Bd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Bd(e,n,s,a)}}function EE(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Bd._fromErrorAndOperation(t,l,e,s):l})}async function Wk(t,e,n=!1){const s=await Gc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qo._forOperation(t,"link",s)}async function Qk(t,e,n=!1){const{auth:s}=t;if(_i(s.app))return Promise.reject(Dr(s));const a="reauthenticate";try{const l=await Gc(t,EE(s,a,e,t),n);Ae(l.idToken,s,"internal-error");const u=Ry(l.idToken);Ae(u,s,"internal-error");const{sub:f}=u;return Ae(t.uid===f,s,"user-mismatch"),Qo._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ls(s,"user-mismatch"),l}}async function SE(t,e,n=!1){if(_i(t.app))return Promise.reject(Dr(t));const s="signIn",a=await EE(t,s,e),l=await Qo._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function Xk(t,e){return SE(ul(t),e)}function AE(t,e){return Yt(t).setPersistence(e)}function Jk(t,e,n,s){return Yt(t).onIdTokenChanged(e,n,s)}function Zk(t,e,n){return Yt(t).beforeAuthStateChanged(e,n)}function NE(t,e,n,s){return Yt(t).onAuthStateChanged(e,n,s)}function eD(t){return Yt(t).signOut()}const zd="__sak";class RE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tD=1e3,nD=10;class CE extends RE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);Dk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nD):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},tD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CE.type="LOCAL";const ky=CE;class jE extends RE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jE.type="SESSION";const IE=jE;function iD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new df(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async y=>y(n.origin,l)),p=await iD(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}df.receivers=[];function Dy(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}class sD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const y=Dy("",20);a.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(w){const T=w;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(x),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function is(){return window}function rD(t){is().location.href=t}function kE(){return typeof is().WorkerGlobalScope<"u"&&typeof is().importScripts=="function"}async function aD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oD(){return navigator?.serviceWorker?.controller||null}function lD(){return kE()?self:null}const DE="firebaseLocalStorageDb",cD=1,Fd="firebaseLocalStorage",PE="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function uD(){const t=indexedDB.deleteDatabase(DE);return new fu(t).toPromise()}function Eg(){const t=indexedDB.open(DE,cD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Fd,{keyPath:PE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Fd)?e(s):(s.close(),await uD(),e(await Eg()))})})}async function Xw(t,e,n){const s=ff(t,!0).put({[PE]:e,value:n});return new fu(s).toPromise()}async function hD(t,e){const n=ff(t,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function Jw(t,e){const n=ff(t,!0).delete(e);return new fu(n).toPromise()}const dD=800,fD=3;class ME{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>fD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=df._getInstance(lD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aD(),!this.activeServiceWorker)return;this.sender=new sD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await Xw(e,zd,"1"),await Jw(e,zd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Xw(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>hD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=ff(a,!1).getAll();return new fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ME.type="LOCAL";const mD=ME;new hu(3e4,6e4);function VE(t,e){return e?Ds(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class Py extends TE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pD(t){return SE(t.auth,new Py(t),t.bypassAuthState)}function gD(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Qk(n,new Py(t),t.bypassAuthState)}async function yD(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Wk(n,new Py(t),t.bypassAuthState)}class OE{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pD;case"linkViaPopup":case"linkViaRedirect":return yD;case"reauthViaPopup":case"reauthViaRedirect":return gD;default:ls(this.auth,"internal-error")}}resolve(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xD=new hu(2e3,1e4);class Mo extends OE{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Mo.currentPopupAction&&Mo.currentPopupAction.cancel(),Mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const e=Dy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xD.get())};e()}}Mo.currentPopupAction=null;const vD="pendingRedirect",xd=new Map;class bD extends OE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const s=await wD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wD(t,e){const n=UE(e),s=LE(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}async function _D(t,e){return LE(t)._set(UE(e),"true")}function TD(t,e){xd.set(t._key(),e)}function LE(t){return Ds(t._redirectPersistence)}function UE(t){return yd(vD,t.config.apiKey,t.name)}function ED(t,e,n){return SD(t,e,n)}async function SD(t,e,n){if(_i(t.app))return Promise.reject(Dr(t));const s=ul(t);pk(t,e,Iy),await s._initializationPromise;const a=VE(s,n);return await _D(a,s),a._openRedirect(s,e,"signInViaRedirect")}async function AD(t,e){return await ul(t)._initializationPromise,BE(t,e,!1)}async function BE(t,e,n=!1){if(_i(t.app))return Promise.reject(Dr(t));const s=ul(t),a=VE(s,e),u=await new bD(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const ND=600*1e3;class RD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ns(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ND&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zw(e))}saveEventToCache(e){this.cachedEventUids.add(Zw(e)),this.lastProcessedEventTime=Date.now()}}function Zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function CD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(t);default:return!1}}async function jD(t,e={}){return cl(t,"GET","/v1/projects",e)}const ID=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kD=/^https?/;async function DD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jD(t);for(const n of e)try{if(PD(n))return}catch{}ls(t,"unauthorized-domain")}function PD(t){const e=_g(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!kD.test(n))return!1;if(ID.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const MD=new hu(3e4,6e4);function e_(){const t=is().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VD(t){return new Promise((e,n)=>{function s(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(ns(t,"network-request-failed"))},timeout:MD.get()})}if(is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(is().gapi?.load)s();else{const a=Fk("iframefcb");return is()[a]=()=>{gapi.load?s():n(ns(t,"network-request-failed"))},Bk(`${zk()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw vd=null,e})}let vd=null;function OD(t){return vd=vd||VD(t),vd}const LD=new hu(5e3,15e3),UD="__/auth/iframe",BD="emulator/auth/iframe",zD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qD(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ay(e,BD):`https://${t.config.authDomain}/${UD}`,s={apiKey:e.apiKey,appName:t.name,v:ll},a=FD.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${uu(s).slice(1)}`}async function HD(t){const e=await OD(t),n=is().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:qD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zD,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=ns(t,"network-request-failed"),f=is().setTimeout(()=>{l(u)},LD.get());function p(){is().clearTimeout(f),a(s)}s.ping(p).then(p,()=>{l(u)})}))}const GD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$D=500,KD=600,YD="_blank",WD="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QD(t,e,n,s=$D,a=KD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p={...GD,width:s.toString(),height:a.toString(),top:l,left:u},y=dn().toLowerCase();n&&(f=pE(y)?YD:n),fE(y)&&(e=e||WD,p.scrollbars="yes");const x=Object.entries(p).reduce((T,[I,D])=>`${T}${I}=${D},`,"");if(kk(y)&&f!=="_self")return XD(e||"",f),new t_(null);const w=window.open(e||"",f,x);Ae(w,t,"popup-blocked");try{w.focus()}catch{}return new t_(w)}function XD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const JD="__/auth/handler",ZD="emulator/auth/handler",eP=encodeURIComponent("fac");async function n_(t,e,n,s,a,l){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:ll,eventId:a};if(e instanceof Iy){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Zj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,w]of Object.entries({}))u[x]=w}if(e instanceof du){const x=e.getScopes().filter(w=>w!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const p=await t._getAppCheckToken(),y=p?`#${eP}=${encodeURIComponent(p)}`:"";return`${tP(t)}?${uu(f).slice(1)}${y}`}function tP({config:t}){return t.emulator?Ay(t,ZD):`https://${t.authDomain}/${JD}`}const $p="webStorageSupport";class nP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=BE,this._overrideRedirectResult=TD}async _openPopup(e,n,s,a){Os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await n_(e,n,s,_g(),a);return QD(e,l,Dy())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await n_(e,n,s,_g(),a);return rD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Os(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await HD(e),s=new RD(e);return n.register("authEvent",a=>(Ae(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($p,{type:$p},a=>{const l=a?.[0]?.[$p];l!==void 0&&n(!!l),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bE()||mE()||Cy()}}const iP=nP;var i_="@firebase/auth",s_="1.12.0";class sP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aP(t){Wo(new Da("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(t)},y=new Lk(s,a,l,p);return Hk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wo(new Da("auth-internal",e=>{const n=ul(e.getProvider("auth").getImmediate());return(s=>new sP(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(i_,s_,rP(t)),kr(i_,s_,"esm2020")}const oP=300,lP=XT("authIdTokenMaxAge")||oP;let r_=null;const cP=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>lP)return;const a=n?.token;r_!==a&&(r_=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function uP(t=iE()){const e=Ty(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qk(t,{popupRedirectResolver:iP,persistence:[mD,ky,IE]}),s=XT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=cP(l.toString());Zk(n,u,()=>u(n.currentUser)),Jk(n,f=>u(f))}}const a=WT("auth");return a&&Gk(n,`http://${a}`),n}function hP(){return document.getElementsByTagName("head")?.[0]??document}Uk({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=ns("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",hP().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aP("Browser");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Pr,FE;(function(){var t;function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(L,V,F){for(var O=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)O[xe-2]=arguments[xe];return A.prototype[V].apply(L,O)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,R){R||(R=0);const L=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)L[V]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(V=0;V<16;++V)L[V]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],V=N.g[2];let F=N.g[3],O;O=A+(F^R&(V^F))+L[0]+3614090360&4294967295,A=R+(O<<7&4294967295|O>>>25),O=F+(V^A&(R^V))+L[1]+3905402710&4294967295,F=A+(O<<12&4294967295|O>>>20),O=V+(R^F&(A^R))+L[2]+606105819&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(A^V&(F^A))+L[3]+3250441966&4294967295,R=V+(O<<22&4294967295|O>>>10),O=A+(F^R&(V^F))+L[4]+4118548399&4294967295,A=R+(O<<7&4294967295|O>>>25),O=F+(V^A&(R^V))+L[5]+1200080426&4294967295,F=A+(O<<12&4294967295|O>>>20),O=V+(R^F&(A^R))+L[6]+2821735955&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(A^V&(F^A))+L[7]+4249261313&4294967295,R=V+(O<<22&4294967295|O>>>10),O=A+(F^R&(V^F))+L[8]+1770035416&4294967295,A=R+(O<<7&4294967295|O>>>25),O=F+(V^A&(R^V))+L[9]+2336552879&4294967295,F=A+(O<<12&4294967295|O>>>20),O=V+(R^F&(A^R))+L[10]+4294925233&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(A^V&(F^A))+L[11]+2304563134&4294967295,R=V+(O<<22&4294967295|O>>>10),O=A+(F^R&(V^F))+L[12]+1804603682&4294967295,A=R+(O<<7&4294967295|O>>>25),O=F+(V^A&(R^V))+L[13]+4254626195&4294967295,F=A+(O<<12&4294967295|O>>>20),O=V+(R^F&(A^R))+L[14]+2792965006&4294967295,V=F+(O<<17&4294967295|O>>>15),O=R+(A^V&(F^A))+L[15]+1236535329&4294967295,R=V+(O<<22&4294967295|O>>>10),O=A+(V^F&(R^V))+L[1]+4129170786&4294967295,A=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(A^R))+L[6]+3225465664&4294967295,F=A+(O<<9&4294967295|O>>>23),O=V+(A^R&(F^A))+L[11]+643717713&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^A&(V^F))+L[0]+3921069994&4294967295,R=V+(O<<20&4294967295|O>>>12),O=A+(V^F&(R^V))+L[5]+3593408605&4294967295,A=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(A^R))+L[10]+38016083&4294967295,F=A+(O<<9&4294967295|O>>>23),O=V+(A^R&(F^A))+L[15]+3634488961&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^A&(V^F))+L[4]+3889429448&4294967295,R=V+(O<<20&4294967295|O>>>12),O=A+(V^F&(R^V))+L[9]+568446438&4294967295,A=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(A^R))+L[14]+3275163606&4294967295,F=A+(O<<9&4294967295|O>>>23),O=V+(A^R&(F^A))+L[3]+4107603335&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^A&(V^F))+L[8]+1163531501&4294967295,R=V+(O<<20&4294967295|O>>>12),O=A+(V^F&(R^V))+L[13]+2850285829&4294967295,A=R+(O<<5&4294967295|O>>>27),O=F+(R^V&(A^R))+L[2]+4243563512&4294967295,F=A+(O<<9&4294967295|O>>>23),O=V+(A^R&(F^A))+L[7]+1735328473&4294967295,V=F+(O<<14&4294967295|O>>>18),O=R+(F^A&(V^F))+L[12]+2368359562&4294967295,R=V+(O<<20&4294967295|O>>>12),O=A+(R^V^F)+L[5]+4294588738&4294967295,A=R+(O<<4&4294967295|O>>>28),O=F+(A^R^V)+L[8]+2272392833&4294967295,F=A+(O<<11&4294967295|O>>>21),O=V+(F^A^R)+L[11]+1839030562&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^A)+L[14]+4259657740&4294967295,R=V+(O<<23&4294967295|O>>>9),O=A+(R^V^F)+L[1]+2763975236&4294967295,A=R+(O<<4&4294967295|O>>>28),O=F+(A^R^V)+L[4]+1272893353&4294967295,F=A+(O<<11&4294967295|O>>>21),O=V+(F^A^R)+L[7]+4139469664&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^A)+L[10]+3200236656&4294967295,R=V+(O<<23&4294967295|O>>>9),O=A+(R^V^F)+L[13]+681279174&4294967295,A=R+(O<<4&4294967295|O>>>28),O=F+(A^R^V)+L[0]+3936430074&4294967295,F=A+(O<<11&4294967295|O>>>21),O=V+(F^A^R)+L[3]+3572445317&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^A)+L[6]+76029189&4294967295,R=V+(O<<23&4294967295|O>>>9),O=A+(R^V^F)+L[9]+3654602809&4294967295,A=R+(O<<4&4294967295|O>>>28),O=F+(A^R^V)+L[12]+3873151461&4294967295,F=A+(O<<11&4294967295|O>>>21),O=V+(F^A^R)+L[15]+530742520&4294967295,V=F+(O<<16&4294967295|O>>>16),O=R+(V^F^A)+L[2]+3299628645&4294967295,R=V+(O<<23&4294967295|O>>>9),O=A+(V^(R|~F))+L[0]+4096336452&4294967295,A=R+(O<<6&4294967295|O>>>26),O=F+(R^(A|~V))+L[7]+1126891415&4294967295,F=A+(O<<10&4294967295|O>>>22),O=V+(A^(F|~R))+L[14]+2878612391&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~A))+L[5]+4237533241&4294967295,R=V+(O<<21&4294967295|O>>>11),O=A+(V^(R|~F))+L[12]+1700485571&4294967295,A=R+(O<<6&4294967295|O>>>26),O=F+(R^(A|~V))+L[3]+2399980690&4294967295,F=A+(O<<10&4294967295|O>>>22),O=V+(A^(F|~R))+L[10]+4293915773&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~A))+L[1]+2240044497&4294967295,R=V+(O<<21&4294967295|O>>>11),O=A+(V^(R|~F))+L[8]+1873313359&4294967295,A=R+(O<<6&4294967295|O>>>26),O=F+(R^(A|~V))+L[15]+4264355552&4294967295,F=A+(O<<10&4294967295|O>>>22),O=V+(A^(F|~R))+L[6]+2734768916&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~A))+L[13]+1309151649&4294967295,R=V+(O<<21&4294967295|O>>>11),O=A+(V^(R|~F))+L[4]+4149444226&4294967295,A=R+(O<<6&4294967295|O>>>26),O=F+(R^(A|~V))+L[11]+3174756917&4294967295,F=A+(O<<10&4294967295|O>>>22),O=V+(A^(F|~R))+L[2]+718787259&4294967295,V=F+(O<<15&4294967295|O>>>17),O=R+(F^(V|~A))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(V+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+F&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,L=this.C;let V=this.h,F=0;for(;F<A;){if(V==0)for(;F<=R;)a(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<A;)if(L[V++]=N.charCodeAt(F++),V==this.blockSize){a(this,L),V=0;break}}else for(;F<A;)if(L[V++]=N[F++],V==this.blockSize){a(this,L),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let L=0;L<32;L+=8)N[A++]=this.g[R]>>>L&255;return N};function l(N,A){var R=f;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function u(N,A){this.h=A;const R=[];let L=!0;for(let V=N.length-1;V>=0;V--){const F=N[V]|0;L&&F==A||(R[V]=F,L=!1)}this.g=R}var f={};function p(N){return-128<=N&&N<128?l(N,function(A){return new u([A|0],A<0?-1:0)}):new u([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return U(y(-N));const A=[];let R=1;for(let L=0;N>=R;L++)A[L]=N/R|0,R*=4294967296;return new u(A,0)}function x(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return U(x(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let L=w;for(let F=0;F<N.length;F+=8){var V=Math.min(8,N.length-F);const O=parseInt(N.substring(F,F+V),A);V<8?(V=y(Math.pow(A,V)),L=L.j(V).add(y(O))):(L=L.j(R),L=L.add(y(O)))}return L}var w=p(0),T=p(1),I=p(16777216);t=u.prototype,t.m=function(){if(B(this))return-U(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const L=this.i(R);N+=(L>=0?L:4294967296+L)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(B(this))return"-"+U(this).toString(N);const A=y(Math.pow(N,6));var R=this;let L="";for(;;){const V=b(R,A).g;R=G(R,V.j(A));let F=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=V,D(R))return F+L;for(;F.length<6;)F="0"+F;L=F+L}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function B(N){return N.h==-1}t.l=function(N){return N=G(this,N),B(N)?-1:D(N)?0:1};function U(N){const A=N.g.length,R=[];for(let L=0;L<A;L++)R[L]=~N.g[L];return new u(R,~N.h).add(T)}t.abs=function(){return B(this)?U(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let L=0;for(let V=0;V<=A;V++){let F=L+(this.i(V)&65535)+(N.i(V)&65535),O=(F>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);L=O>>>16,F&=65535,O&=65535,R[V]=O<<16|F}return new u(R,R[R.length-1]&-2147483648?-1:0)};function G(N,A){return N.add(U(A))}t.j=function(N){if(D(this)||D(N))return w;if(B(this))return B(N)?U(this).j(U(N)):U(U(this).j(N));if(B(N))return U(this.j(U(N)));if(this.l(I)<0&&N.l(I)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var L=0;L<2*A;L++)R[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<N.g.length;V++){const F=this.i(L)>>>16,O=this.i(L)&65535,xe=N.i(V)>>>16,De=N.i(V)&65535;R[2*L+2*V]+=O*De,$(R,2*L+2*V),R[2*L+2*V+1]+=F*De,$(R,2*L+2*V+1),R[2*L+2*V+1]+=O*xe,$(R,2*L+2*V+1),R[2*L+2*V+2]+=F*xe,$(R,2*L+2*V+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new u(R,0)};function $(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function M(N,A){this.g=N,this.h=A}function b(N,A){if(D(A))throw Error("division by zero");if(D(N))return new M(w,w);if(B(N))return A=b(U(N),A),new M(U(A.g),U(A.h));if(B(A))return A=b(N,U(A)),new M(U(A.g),A.h);if(N.g.length>30){if(B(N)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,L=A;L.l(N)<=0;)R=E(R),L=E(L);var V=j(R,1),F=j(L,1);for(L=j(L,2),R=j(R,2);!D(L);){var O=F.add(L);O.l(N)<=0&&(V=V.add(R),F=O),L=j(L,1),R=j(R,1)}return A=G(N,V.j(A)),new M(V,A)}for(V=w;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),L=Math.ceil(Math.log(R)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),F=y(R),O=F.j(A);B(O)||O.l(N)>0;)R-=L,F=y(R),O=F.j(A);D(F)&&(F=T),V=V.add(F),N=G(N,O)}return new M(V,N)}t.B=function(N){return b(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)&N.i(L);return new u(R,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)|N.i(L);return new u(R,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let L=0;L<A;L++)R[L]=this.i(L)^N.i(L);return new u(R,this.h^N.h)};function E(N){const A=N.g.length+1,R=[];for(let L=0;L<A;L++)R[L]=N.i(L)<<1|N.i(L-1)>>>31;return new u(R,N.h)}function j(N,A){const R=A>>5;A%=32;const L=N.g.length-R,V=[];for(let F=0;F<L;F++)V[F]=A>0?N.i(F+R)>>>A|N.i(F+R+1)<<32-A:N.i(F+R);return new u(V,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,FE=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=x,Pr=u}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qE,Rc,HE,bd,Sg,GE,$E,KE;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof nd=="object"&&nd];for(var v=0;v<d.length;++v){var S=d[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=n(this);function a(d,v){if(v)e:{var S=s;d=d.split(".");for(var k=0;k<d.length-1;k++){var Y=d[k];if(!(Y in S))break e;S=S[Y]}d=d[d.length-1],k=S[d],v=v(k),v!=k&&v!=null&&e(S,d,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(v){var S=[],k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&S.push([k,v[k]]);return S}});var l=l||{},u=this||self;function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function p(d,v,S){return d.call.apply(d.bind,arguments)}function y(d,v,S){return y=p,y.apply(null,arguments)}function x(d,v){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function w(d,v){function S(){}S.prototype=v.prototype,d.Z=v.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(k,Y,Z){for(var he=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)he[Ie-2]=arguments[Ie];return v.prototype[Y].apply(k,he)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function I(d){const v=d.length;if(v>0){const S=Array(v);for(let k=0;k<v;k++)S[k]=d[k];return S}return[]}function D(d,v){for(let k=1;k<arguments.length;k++){const Y=arguments[k];var S=typeof Y;if(S=S!="object"?S:Y?Array.isArray(Y)?"array":S:"null",S=="array"||S=="object"&&typeof Y.length=="number"){S=d.length||0;const Z=Y.length||0;d.length=S+Z;for(let he=0;he<Z;he++)d[S+he]=Y[he]}else d.push(Y)}}class B{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(d){u.setTimeout(()=>{throw d},0)}function G(){var d=N;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,S){const k=M.get();k.set(v,S),this.h?this.h.next=k:this.g=k,this.h=k}}var M=new B(()=>new b,d=>d.reset());class b{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let E,j=!1,N=new $,A=()=>{const d=Promise.resolve(void 0);E=()=>{d.then(R)}};function R(){for(var d;d=G();){try{d.h.call(d.g)}catch(S){U(S)}var v=M;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}j=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function xe(d,v){V.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}w(xe,V),xe.prototype.init=function(d,v){const S=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(S=="mouseover"?v=d.fromElement:S=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&xe.Z.h.call(this)},xe.prototype.h=function(){xe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(d,v,S,k,Y){this.listener=d,this.proxy=null,this.src=v,this.type=S,this.capture=!!k,this.ha=Y,this.key=++J,this.da=this.fa=!1}function ue(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function we(d,v,S){for(const k in d)v.call(S,d[k],k,d)}function Ee(d,v){for(const S in d)v.call(void 0,d[S],S,d)}function q(d){const v={};for(const S in d)v[S]=d[S];return v}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(d,v){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)d[S]=k[S];for(let Z=0;Z<ne.length;Z++)S=ne[Z],Object.prototype.hasOwnProperty.call(k,S)&&(d[S]=k[S])}}function de(d){this.src=d,this.g={},this.h=0}de.prototype.add=function(d,v,S,k,Y){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const he=je(d,v,k,Y);return he>-1?(v=d[he],S||(v.fa=!1)):(v=new oe(v,this.src,Z,!!k,Y),v.fa=S,d.push(v)),v};function Se(d,v){const S=v.type;if(S in d.g){var k=d.g[S],Y=Array.prototype.indexOf.call(k,v,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(k,Y,1),Z&&(ue(v),d.g[S].length==0&&(delete d.g[S],d.h--))}}function je(d,v,S,k){for(let Y=0;Y<d.length;++Y){const Z=d[Y];if(!Z.da&&Z.listener==v&&Z.capture==!!S&&Z.ha==k)return Y}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),pt={};function st(d,v,S,k,Y){if(Array.isArray(v)){for(let Z=0;Z<v.length;Z++)st(d,v[Z],S,k,Y);return null}return S=xn(S),d&&d[De]?d.J(v,S,f(k)?!!k.capture:!1,Y):ds(d,v,S,!1,k,Y)}function ds(d,v,S,k,Y,Z){if(!v)throw Error("Invalid event type");const he=f(Y)?!!Y.capture:!!Y;let Ie=oi(d);if(Ie||(d[Oe]=Ie=new de(d)),S=Ie.add(v,S,k,he,Z),S.proxy)return S;if(k=Fn(),S.proxy=k,k.src=d,k.listener=S,d.addEventListener)F||(Y=he),Y===void 0&&(Y=!1),d.addEventListener(v.toString(),k,Y);else if(d.attachEvent)d.attachEvent(le(v.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Fn(){function d(S){return v.call(d.src,d.listener,S)}const v=gt;return d}function Fs(d,v,S,k,Y){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Fs(d,v[Z],S,k,Y);else k=f(k)?!!k.capture:!!k,S=xn(S),d&&d[De]?(d=d.i,Z=String(v).toString(),Z in d.g&&(v=d.g[Z],S=je(v,S,k,Y),S>-1&&(ue(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete d.g[Z],d.h--)))):d&&(d=oi(d))&&(v=d.g[v.toString()],d=-1,v&&(d=je(v,S,k,Y)),(S=d>-1?v[d]:null)&&qs(S))}function qs(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[De])Se(v.i,d);else{var S=d.type,k=d.proxy;v.removeEventListener?v.removeEventListener(S,k,d.capture):v.detachEvent?v.detachEvent(le(S),k):v.addListener&&v.removeListener&&v.removeListener(k),(S=oi(v))?(Se(S,d),S.h==0&&(S.src=null,v[Oe]=null)):ue(d)}}}function le(d){return d in pt?pt[d]:pt[d]="on"+d}function gt(d,v){if(d.da)d=!0;else{v=new xe(v,this);const S=d.listener,k=d.ha||d.src;d.fa&&qs(d),d=S.call(k,v)}return d}function oi(d){return d=d[Oe],d instanceof de?d:null}var Ii="__closure_events_fn_"+(Math.random()*1e9>>>0);function xn(d){return typeof d=="function"?d:(d[Ii]||(d[Ii]=function(v){return d.handleEvent(v)}),d[Ii])}function At(){L.call(this),this.i=new de(this),this.M=this,this.G=null}w(At,L),At.prototype[De]=!0,At.prototype.removeEventListener=function(d,v,S,k){Fs(this,d,v,S,k)};function Ut(d,v){var S,k=d.G;if(k)for(S=[];k;k=k.G)S.push(k);if(d=d.M,k=v.type||v,typeof v=="string")v=new V(v,d);else if(v instanceof V)v.target=v.target||d;else{var Y=v;v=new V(k,d),ce(v,Y)}Y=!0;let Z,he;if(S)for(he=S.length-1;he>=0;he--)Z=v.g=S[he],Y=Hs(Z,k,!0,v)&&Y;if(Z=v.g=d,Y=Hs(Z,k,!0,v)&&Y,Y=Hs(Z,k,!1,v)&&Y,S)for(he=0;he<S.length;he++)Z=v.g=S[he],Y=Hs(Z,k,!1,v)&&Y}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const S=d.g[v];for(let k=0;k<S.length;k++)ue(S[k]);delete d.g[v],d.h--}}this.G=null},At.prototype.J=function(d,v,S,k){return this.i.add(String(d),v,!1,S,k)},At.prototype.K=function(d,v,S,k){return this.i.add(String(d),v,!0,S,k)};function Hs(d,v,S,k){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let Y=!0;for(let Z=0;Z<v.length;++Z){const he=v[Z];if(he&&!he.da&&he.capture==S){const Ie=he.listener,_t=he.ha||he.src;he.fa&&Se(d.i,he),Y=Ie.call(_t,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function Df(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function Su(d){d.g=Df(()=>{d.g=null,d.i&&(d.i=!1,Su(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class fn extends L{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(d){L.call(this),this.h=d,this.g={}}w(Yr,L);var bl=[];function wl(d){we(d.g,function(v,S){this.g.hasOwnProperty(S)&&qs(v)},d),d.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),wl(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=u.JSON.stringify,Pf=u.JSON.parse,Au=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Nu(){}function Ru(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){V.call(this,"d")}w(Wt,V);function qn(){V.call(this,"c")}w(qn,V);var wt={},Cu=null;function Fa(){return Cu=Cu||new At}wt.Ia="serverreachability";function ju(d){V.call(this,wt.Ia,d)}w(ju,V);function ki(d){const v=Fa();Ut(v,new ju(v))}wt.STAT_EVENT="statevent";function Wr(d,v){V.call(this,wt.STAT_EVENT,d),this.stat=v}w(Wr,V);function Nt(d){const v=Fa();Ut(v,new Wr(v,d))}wt.Ja="timingevent";function Di(d,v){V.call(this,wt.Ja,d),this.size=v}w(Di,V);function Pi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function ci(){this.g=!0}ci.prototype.ua=function(){this.g=!1};function Mf(d,v,S,k,Y,Z){d.info(function(){if(d.g)if(Z){var he="",Ie=Z.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var _t=Ie[Ke].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const Kn=ut.split("_");he=Kn.length>=2&&Kn[1]=="type"?he+(ut+"="+_t+"&"):he+(ut+"=redacted&")}}}else he=null;else he=Z;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+v+`
`+S+`
`+he})}function Iu(d,v,S,k,Y,Z,he){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+v+`
`+S+`
`+Z+" "+he})}function Mi(d,v,S,k){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Vf(d,S)+(k?" "+k:"")})}function Qr(d,v){d.info(function(){return"TIMEOUT: "+v})}ci.prototype.info=function(){};function Vf(d,v){if(!d.g)return v;if(!v)return null;try{const Z=JSON.parse(v);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var S=Z[d];if(!(S.length<2)){var k=S[1];if(Array.isArray(k)&&!(k.length<1)){var Y=k[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let he=1;he<k.length;he++)k[he]=""}}}}return Gs(Z)}catch{return v}}var Xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tl;function Jr(){}w(Jr,Nu),Jr.prototype.g=function(){return new XMLHttpRequest},Tl=new Jr;function fs(d){return encodeURIComponent(String(d))}function ku(d){var v=1;d=d.split(":");const S=[];for(;v>0&&d.length;)S.push(d.shift()),v--;return d.length&&S.push(d.join(":")),S}function ui(d,v,S,k){this.j=d,this.i=v,this.l=S,this.S=k||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Rt={},Ht={};function Vi(d,v,S){d.M=1,d.A=Zr(jt(v)),d.u=S,d.R=!0,qa(d,null)}function qa(d,v){d.F=Date.now(),Oi(d),d.B=jt(d.A);var S=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),Ka(S.i,"t",k),d.C=0,S=d.j.L,d.h=new hi,d.g=Ku(d.j,S?v:null,!d.u),d.P>0&&(d.O=new fn(y(d.Y,d,d.g),d.P)),v=d.V,S=d.g,k=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(bl[0]=Y.toString()),Y=bl);for(let Z=0;Z<Y.length;Z++){const he=st(S,Y[Z],k||v.handleEvent,!1,v.h||v);if(!he)break;v.g[he.key]=he}v=d.J?q(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),ki(),Mf(d.i,d.v,d.B,d.l,d.S,d.u)}ui.prototype.ba=function(d){d=d.target;const v=this.O;v&&mi(d)==3?v.j():this.Y(d)},ui.prototype.Y=function(d){try{if(d==this.g)e:{const Ie=mi(this.g),_t=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||Ie!=4||_t==7||(_t==8||Ke<=0?ki(3):ki(2)),Li(this);var v=this.g.ca();this.X=v;var S=Of(this);if(this.o=v==200,Iu(this.i,this.v,this.B,this.l,this.S,Ie,v),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(k)){var Z=k;break t}}Z=null}if(d=Z)Mi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,d);else{this.o=!1,this.m=3,Nt(12),Cn(this),Hn(this);break e}}if(this.R){d=!0;let ut;for(;!this.K&&this.C<S.length;)if(ut=Pu(this,S),ut==Ht){Ie==4&&(this.m=4,Nt(14),d=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==Rt){this.m=4,Nt(15),Mi(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else Mi(this.i,this.l,ut,null),Ui(this,ut);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||S.length!=0||this.h.h||(this.m=1,Nt(16),d=!1),this.o=this.o&&d,!d)Mi(this.i,this.l,S,"[Invalid Chunked Response]"),Cn(this),Hn(this);else if(S.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Ll(he),he.P=!0,Nt(11))}}else Mi(this.i,this.l,S,null),Ui(this,S);Ie==4&&Cn(this),this.o&&!this.K&&(Ie==4?qu(this.j,this):(this.o=!1,Oi(this)))}else ps(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Cn(this),Hn(this)}}}catch{}};function Of(d){if(!Du(d))return d.g.la();const v=Qt(d.g);if(v==="")return"";let S="";const k=v.length,Y=mi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Cn(d),Hn(d),"";d.h.i=new u.TextDecoder}for(let Z=0;Z<k;Z++)d.h.h=!0,S+=d.h.i.decode(v[Z],{stream:!(Y&&Z==k-1)});return v.length=0,d.h.g+=S,d.C=0,d.h.g}function Du(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Pu(d,v){var S=d.C,k=v.indexOf(`
`,S);return k==-1?Ht:(S=Number(v.substring(S,k)),isNaN(S)?Rt:(k+=1,k+S>v.length?Ht:(v=v.slice(k,k+S),d.C=k+S,v)))}ui.prototype.cancel=function(){this.K=!0,Cn(this)};function Oi(d){d.T=Date.now()+d.H,Ha(d,d.H)}function Ha(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Pi(y(d.aa,d),v)}function Li(d){d.D&&(u.clearTimeout(d.D),d.D=null)}ui.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Qr(this.i,this.B),this.M!=2&&(ki(),Nt(17)),Cn(this),this.m=2,Hn(this)):Ha(this,this.T-d)};function Hn(d){d.j.I==0||d.K||qu(d.j,d)}function Cn(d){Li(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,wl(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ui(d,v){try{var S=d.j;if(S.I!=0&&(S.g==d||zi(S.h,d))){if(!d.L&&zi(S.h,d)&&S.I==3){try{var k=S.Ba.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)Ja(S),Zs(S);else break e;aa(S),Nt(18)}}else S.xa=Y[1],0<S.xa-S.K&&Y[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Pi(y(S.Va,S),6e3));Bi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ki(S,11)}else if((d.L||S.g==d)&&Ja(S),!O(v))for(Y=S.Ba.g.parse(v),v=0;v<Y.length;v++){let Ke=Y[v];const ut=Ke[0];if(!(ut<=S.K))if(S.K=ut,Ke=Ke[1],S.I==2)if(Ke[0]=="c"){S.M=Ke[1],S.ba=Ke[2];const Kn=Ke[3];Kn!=null&&(S.ka=Kn,S.j.info("VER="+S.ka));const Yi=Ke[4];Yi!=null&&(S.za=Yi,S.j.info("SVER="+S.za));const pi=Ke[5];pi!=null&&typeof pi=="number"&&pi>0&&(k=1.5*pi,S.O=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const gi=d.g;if(gi){const oa=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oa){var Z=k.h;Z.g||oa.indexOf("spdy")==-1&&oa.indexOf("quic")==-1&&oa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Al(Z,Z.h),Z.h=null))}if(k.G){const Za=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Za&&(k.wa=Za,Qe(k.J,k.G,Za))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),k=S;var he=d;if(k.na=$u(k,k.L?k.ba:null,k.W),he.L){Nl(k.h,he);var Ie=he,_t=k.O;_t&&(Ie.H=_t),Ie.D&&(Li(Ie),Oi(Ie)),k.g=he}else zu(k);S.i.length>0&&$i(S)}else Ke[0]!="stop"&&Ke[0]!="close"||Ki(S,7);else S.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ki(S,7):Vl(S):Ke[0]!="noop"&&S.l&&S.l.qa(Ke),S.A=0)}}ki(4)}catch{}}var Ct=class{constructor(d,v){this.g=d,this.map=v}};function El(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Bi(d){return d.h?1:d.g?d.g.size:0}function zi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Al(d,v){d.g?d.g.add(v):d.h=v}function Nl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}El.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const S of d.g.values())v=v.concat(S.G);return v}return I(d.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ga(d,v){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const k=d[S].indexOf("=");let Y,Z=null;k>=0?(Y=d[S].substring(0,k),Z=d[S].substring(k+1)):Y=d[S],v(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function jn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof jn?(this.l=d.l,Gt(this,d.j),this.o=d.o,this.g=d.g,$s(this,d.u),this.h=d.h,Cl(this,Uu(d.i)),this.m=d.m):d&&(v=String(d).match(Mu))?(this.l=!1,Gt(this,v[1]||"",!0),this.o=Fi(v[2]||""),this.g=Fi(v[3]||"",!0),$s(this,v[4]),this.h=Fi(v[5]||"",!0),Cl(this,v[6]||"",!0),this.m=Fi(v[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}jn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(ea(v,$a,!0),":");var S=this.g;return(S||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ea(v,$a,!0),"@"),d.push(fs(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(ea(S,S.charAt(0)=="/"?jl:Vu,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",ea(S,Ou)),d.join("")},jn.prototype.resolve=function(d){const v=jt(this);let S=!!d.j;S?Gt(v,d.j):S=!!d.o,S?v.o=d.o:S=!!d.g,S?v.g=d.g:S=d.u!=null;var k=d.h;if(S)$s(v,d.u);else if(S=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Y=v.h.lastIndexOf("/");Y!=-1&&(k=v.h.slice(0,Y+1)+k)}if(Y=k,Y==".."||Y==".")k="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){k=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let he=0;he<Y.length;){const Ie=Y[he++];Ie=="."?k&&he==Y.length&&Z.push(""):Ie==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),k&&he==Y.length&&Z.push("")):(Z.push(Ie),k=!0)}k=Z.join("/")}else k=Y}return S?v.h=k:S=d.i.toString()!=="",S?Cl(v,Uu(d.i)):S=!!d.m,S&&(v.m=d.m),v};function jt(d){return new jn(d)}function Gt(d,v,S){d.j=S?Fi(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function $s(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Cl(d,v,S){v instanceof Ys?(d.i=v,Ya(d.i,d.l)):(S||(v=ea(v,Ks)),d.i=new Ys(v,d.l))}function Qe(d,v,S){d.i.set(v,S)}function Zr(d){return Qe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Fi(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ea(d,v,S){return typeof d=="string"?(d=encodeURI(d).replace(v,vn),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var $a=/[#\/\?@]/g,Vu=/[#\?:]/g,jl=/[#\?]/g,Ks=/[#\?@]/g,Ou=/#/g;function Ys(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function bn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ga(d.i,function(v,S){d.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=Ys.prototype,t.add=function(d,v){bn(this),this.i=null,d=Ws(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(v),this.h+=1,this};function Lu(d,v){bn(d),v=Ws(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Il(d,v){return bn(d),v=Ws(d,v),d.g.has(v)}t.forEach=function(d,v){bn(this),this.g.forEach(function(S,k){S.forEach(function(Y){d.call(v,Y,k,this)},this)},this)};function kl(d,v){bn(d);let S=[];if(typeof v=="string")Il(d,v)&&(S=S.concat(d.g.get(Ws(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)S=S.concat(d[v]);return S}t.set=function(d,v){return bn(this),this.i=null,d=Ws(this,d),Il(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=kl(this,d),d.length>0?String(d[0]):v):v};function Ka(d,v,S){Lu(d,v),S.length>0&&(d.i=null,d.g.set(Ws(d,v),I(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let k=0;k<v.length;k++){var S=v[k];const Y=fs(S);S=kl(this,S);for(let Z=0;Z<S.length;Z++){let he=Y;S[Z]!==""&&(he+="="+fs(S[Z])),d.push(he)}}return this.i=d.join("&")};function Uu(d){const v=new Ys;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Ws(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Ya(d,v){v&&!d.j&&(bn(d),d.i=null,d.g.forEach(function(S,k){const Y=k.toLowerCase();k!=Y&&(Lu(this,k),Ka(this,Y,S))},d)),d.j=v}function di(d,v){const S=new ci;if(u.Image){const k=new Image;k.onload=x(Gn,S,"TestLoadImage: loaded",!0,v,k),k.onerror=x(Gn,S,"TestLoadImage: error",!1,v,k),k.onabort=x(Gn,S,"TestLoadImage: abort",!1,v,k),k.ontimeout=x(Gn,S,"TestLoadImage: timeout",!1,v,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else v(!1)}function Dl(d,v){const S=new ci,k=new AbortController,Y=setTimeout(()=>{k.abort(),Gn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:k.signal}).then(Z=>{clearTimeout(Y),Z.ok?Gn(S,"TestPingServer: ok",!0,v):Gn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),Gn(S,"TestPingServer: error",!1,v)})}function Gn(d,v,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function Qs(){this.g=new Au}function qi(d){this.i=d.Sb||null,this.h=d.ab||!1}w(qi,Nu),qi.prototype.g=function(){return new ta(this.i,this.h)};function ta(d,v){At.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(ta,At),t=ta.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,fi(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wa(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wa(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Xs(this):fi(this),this.readyState==3&&Wa(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Xs(this))},t.Na=function(d){this.g&&(this.response=d,Xs(this))},t.ga=function(){this.g&&Xs(this)};function Xs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,fi(d)}t.setRequestHeader=function(d,v){this.A.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=v.next();return d.join(`\r
`)};function fi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $n(d){let v="";return we(d,function(S,k){v+=k,v+=":",v+=S,v+=`\r
`}),v}function na(d,v,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=$n(S),typeof d=="string"?S!=null&&fs(S):Qe(d,v,S))}function Ze(d){At.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Ze,At);var Hi=/^https?$/i,Pl=["POST","PUT"];t=Ze.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,v,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tl.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Z){ia(this,Z);return}if(d=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Z of k.keys())S.set(Z,k.get(Z));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Pl,v,void 0)>=0)||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,he]of S)this.g.setRequestHeader(Z,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){ia(this,Z)}};function ia(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Ml(d),ms(d)}function Ml(d){d.A||(d.A=!0,Ut(d,"complete"),Ut(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ut(this,"complete"),Ut(this,"abort"),ms(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ms(this,!0)),Ze.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},t.Xa=function(){sa(this)};function sa(d){if(d.h&&typeof l<"u"){if(d.v&&mi(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ut(d,"readystatechange"),mi(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var k;if(k=Z===0){let he=String(d.D).match(Mu)[1]||null;!he&&u.self&&u.self.location&&(he=u.self.location.protocol.slice(0,-1)),k=!Hi.test(he?he.toLowerCase():"")}S=k}if(S)Ut(d,"complete"),Ut(d,"success");else{d.o=6;try{var Y=mi(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Ml(d)}}finally{ms(d)}}}}function ms(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,v||Ut(d,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mi(d){return d.g?d.g.readyState:0}t.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Pf(v)}};function Qt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ps(d){const v={};d=(d.g&&mi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(O(d[k]))continue;var S=ku(d[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Z=v[Y]||[];v[Y]=Z,Z.push(S)}Ee(v,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(d,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||v}function Js(d){this.za=0,this.i=[],this.j=new ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,d),this.Za=Gi("retryDelaySeedMs",1e4,d),this.Ta=Gi("forwardChannelMaxRetries",2,d),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new El(d&&d.concurrentRequestLimit),this.Ba=new Qs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Js.prototype,t.ka=8,t.I=1,t.connect=function(d,v,S,k){Nt(0),this.W=d,this.H=v||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.J=$u(this,null,this.W),$i(this)};function Vl(d){if(Qa(d),d.I==3){var v=d.V++,S=jt(d.J);if(Qe(S,"SID",d.M),Qe(S,"RID",v),Qe(S,"TYPE","terminate"),ra(d,S),v=new ui(d,d.j,v),v.M=2,v.A=Zr(jt(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.A,S=!0),S||(v.g=Ku(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Oi(v)}Gu(d)}function Zs(d){d.g&&(Ll(d),d.g.cancel(),d.g=null)}function Qa(d){Zs(d),d.v&&(u.clearTimeout(d.v),d.v=null),Ja(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function $i(d){if(!Sl(d.h)&&!d.m){d.m=!0;var v=d.Ea;E||A(),j||(E(),j=!0),N.add(v,d),d.D=0}}function Xa(d,v){return Bi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Pi(y(d.Ea,d,v),Hu(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new ui(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=q(Z),ce(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,v>4096){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Bu(this,Y,v),S=jt(this.J),Qe(S,"RID",d),Qe(S,"CVER",22),this.G&&Qe(S,"X-HTTP-Session-Id",this.G),ra(this,S),Z&&(this.R?v="headers="+fs($n(Z))+"&"+v:this.u&&na(S,this.u,Z)),Al(this.h,Y),this.Ra&&Qe(S,"TYPE","init"),this.S?(Qe(S,"$req",v),Qe(S,"SID","null"),Y.U=!0,Vi(Y,S,null)):Vi(Y,S,v),this.I=2}}else this.I==3&&(d?Ol(this,d):this.i.length==0||Sl(this.h)||Ol(this))};function Ol(d,v){var S;v?S=v.l:S=d.V++;const k=jt(d.J);Qe(k,"SID",d.M),Qe(k,"RID",S),Qe(k,"AID",d.K),ra(d,k),d.u&&d.o&&na(k,d.u,d.o),S=new ui(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Bu(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Al(d.h,S),Vi(S,k,v)}function ra(d,v){d.H&&we(d.H,function(S,k){Qe(v,k,S)}),d.l&&we({},function(S,k){Qe(v,k,S)})}function Bu(d,v,S){S=Math.min(d.i.length,S);const k=d.l?y(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Ie=-1;for(;;){const _t=["count="+S];Ie==-1?S>0?(Ie=Y[0].g,_t.push("ofs="+Ie)):Ie=0:_t.push("ofs="+Ie);let Ke=!0;for(let ut=0;ut<S;ut++){var Z=Y[ut].g;const Kn=Y[ut].map;if(Z-=Ie,Z<0)Ie=Math.max(0,Y[ut].g-100),Ke=!1;else try{Z="req"+Z+"_"||"";try{var he=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Yi,pi]of he){let gi=pi;f(pi)&&(gi=Gs(pi)),_t.push(Z+Yi+"="+encodeURIComponent(gi))}}catch(Yi){throw _t.push(Z+"type="+encodeURIComponent("_badmap")),Yi}}catch{k&&k(Kn)}}if(Ke){he=_t.join("&");break e}}he=void 0}return d=d.i.splice(0,S),v.G=d,he}function zu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;E||A(),j||(E(),j=!0),N.add(v,d),d.A=0}}function aa(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Pi(y(d.Da,d),Hu(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Pi(y(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Zs(this),Fu(this))};function Ll(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Fu(d){d.g=new ui(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=jt(d.na);Qe(v,"RID","rpc"),Qe(v,"SID",d.M),Qe(v,"AID",d.K),Qe(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Qe(v,"TO",d.ia),Qe(v,"TYPE","xmlhttp"),ra(d,v),d.u&&d.o&&na(v,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=Zr(jt(v)),S.u=null,S.R=!0,qa(S,d)}t.Va=function(){this.C!=null&&(this.C=null,Zs(this),aa(this),Nt(19))};function Ja(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function qu(d,v){var S=null;if(d.g==v){Ja(d),Ll(d),d.g=null;var k=2}else if(zi(d.h,v))S=v.G,Nl(d.h,v),k=1;else return;if(d.I!=0){if(v.o)if(k==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var Y=d.D;k=Fa(),Ut(k,new Di(k,S)),$i(d)}else zu(d);else if(Y=v.m,Y==3||Y==0&&v.X>0||!(k==1&&Xa(d,v)||k==2&&aa(d)))switch(S&&S.length>0&&(v=d.h,v.i=v.i.concat(S)),Y){case 1:Ki(d,5);break;case 4:Ki(d,10);break;case 3:Ki(d,6);break;default:Ki(d,2)}}}function Hu(d,v){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*v}function Ki(d,v){if(d.j.info("Error code "+v),v==2){var S=y(d.bb,d),k=d.Ua;const Y=!k;k=new jn(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Gt(k,"https"),Zr(k),Y?di(k.toString(),S):Dl(k.toString(),S)}else Nt(2);d.I=0,d.l&&d.l.pa(v),Gu(d),Qa(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Gu(d){if(d.I=0,d.ja=[],d.l){const v=Rl(d.h);(v.length!=0||d.i.length!=0)&&(D(d.ja,v),D(d.ja,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.oa()}}function $u(d,v,S){var k=S instanceof jn?jt(S):new jn(S);if(k.g!="")v&&(k.g=v+"."+k.g),$s(k,k.u);else{var Y=u.location;k=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new jn(null);k&&Gt(Z,k),v&&(Z.g=v),Y&&$s(Z,Y),S&&(Z.h=S),k=Z}return S=d.G,v=d.wa,S&&v&&Qe(k,S,v),Qe(k,"VER",d.ka),ra(d,k),k}function Ku(d,v,S){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new Ze(new qi({ab:S})):new Ze(d.ma),v.Fa(d.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}t=Yu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function er(){}er.prototype.g=function(d,v){return new mn(d,v)};function mn(d,v){At.call(this),this.g=new Js(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!O(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new gs(this)}w(mn,At),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Vl(this.g)},mn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=Gs(d),d=S);v.i.push(new Ct(v.Ya++,d)),v.I==3&&$i(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,mn.Z.N.call(this)};function Wu(d){Wt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const S in v){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}w(Wu,Wt);function Qu(){qn.call(this),this.status=1}w(Qu,qn);function gs(d){this.g=d}w(gs,Yu),gs.prototype.ra=function(){Ut(this.g,"a")},gs.prototype.qa=function(d){Ut(this.g,new Wu(d))},gs.prototype.pa=function(d){Ut(this.g,new Qu)},gs.prototype.oa=function(){Ut(this.g,"b")},er.prototype.createWebChannel=er.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,KE=function(){return new er},$E=function(){return Fa()},GE=wt,Sg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,bd=Xr,_l.COMPLETE="complete",HE=_l,Ru.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",At.prototype.listen=At.prototype.J,Rc=Ru,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,qE=Ze}).apply(typeof nd<"u"?nd:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let hl="12.9.0";function dP(t){hl=t}const Ma=new wy("@firebase/firestore");function jo(){return Ma.logLevel}function me(t,...e){if(Ma.logLevel<=Be.DEBUG){const n=e.map(My);Ma.debug(`Firestore (${hl}): ${t}`,...n)}}function Ls(t,...e){if(Ma.logLevel<=Be.ERROR){const n=e.map(My);Ma.error(`Firestore (${hl}): ${t}`,...n)}}function Va(t,...e){if(Ma.logLevel<=Be.WARN){const n=e.map(My);Ma.warn(`Firestore (${hl}): ${t}`,...n)}}function My(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Te(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,YE(t,s,n)}function YE(t,e,n){let s=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ls(s),new Error(s)}function We(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||YE(e,a,s)}function Ce(t,e){return t}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends zs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class WE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cn.UNAUTHENTICATED)))}shutdown(){}}class mP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pP{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let l=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string",31837,{l:s}),new WE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class gP{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yP{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new gP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const s=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}class Vy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=vP(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function ze(t,e){return t<e?-1:t>e?1:0}function Ag(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return Kp(a)===Kp(l)?ze(a,l):Kp(a)?1:-1}return ze(t.length,e.length)}const bP=55296,wP=57343;function Kp(t){const e=t.charCodeAt(0);return e>=bP&&e<=wP}function Xo(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}const l_="__name__";class es{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return es.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof es?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=es.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return ze(e.length,n.length)}static compareSegments(e,n){const s=es.isNumericId(e),a=es.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?es.extractNumericId(e).compare(es.extractNumericId(n)):Ag(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}}class rt extends es{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const _P=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends es{construct(e,n,s){return new sn(e,n,s)}static isValidIdentifier(e){return _P.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l_}static keyField(){return new sn([l_])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(rt.fromString(e))}static fromName(e){return new be(rt.fromString(e).popFirst(5))}static empty(){return new be(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new rt(e.slice()))}}function QE(t,e,n){if(!n)throw new fe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TP(t,e,n,s){if(e===!0&&s===!0)throw new fe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c_(t){if(!be.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u_(t){if(be.isDocumentKey(t))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Oa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(t);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function mu(t,e){if(!XE(t))throw new fe(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new fe(re.INVALID_ARGUMENT,n);return!0}const h_=-62135596800,d_=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*d_);return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h_)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d_}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-h_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Lt("string",ct._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new ct(0,0))}static max(){return new Ne(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $c=-1;function EP(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Ne.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new Lr(a,be.empty(),e)}function SP(t){return new Lr(t.readTime,t.key,$c)}class Lr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Lr(Ne.min(),be.empty(),$c)}static max(){return new Lr(Ne.max(),be.empty(),$c)}}function AP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:ze(t.largestBatchId,e.largestBatchId))}const NP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==NP)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,s)=>{n(e)}))}static reject(e){return new ae(((n,s)=>{s(e)}))}static waitFor(e){return new ae(((n,s)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>s(p)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const s of e)n=n.next((a=>a?ae.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new ae(((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;n(e[y]).next((x=>{u[y]=x,++f,f===l&&s(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new ae(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function CP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fl(t){return t.name==="IndexedDbTransactionError"}class pf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pf.ce=-1;const Oy=-1;function gf(t){return t==null}function qd(t){return t===0&&1/t==-1/0}function jP(t){return typeof t=="number"&&Number.isInteger(t)&&!qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const JE="";function IP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=f_(e)),e=kP(t.get(n),e);return f_(e)}function kP(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case JE:n+="";break;default:n+=l}}return n}function f_(t){return t+JE+""}function m_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new nn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class p_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new qt(sn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class eS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new eS("Invalid base64 string: "+l):l}})(e);return new rn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const DP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=DP.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Br(t){return typeof t=="string"?rn.fromBase64String(t):rn.fromUint8Array(t)}const tS="server_timestamp",nS="__type__",iS="__previous_value__",sS="__local_write_time__";function Ly(t){return(t?.mapValue?.fields||{})[nS]?.stringValue===tS}function yf(t){const e=t.mapValue.fields[iS];return Ly(e)?yf(e):e}function Kc(t){const e=Ur(t.mapValue.fields[sS].timestampValue);return new ct(e.seconds,e.nanos)}class PP{constructor(e,n,s,a,l,u,f,p,y,x,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=w}}const Hd="(default)";class Yc{constructor(e,n){this.projectId=e,this.database=n||Hd}static empty(){return new Yc("","")}get isDefaultDatabase(){return this.database===Hd}isEqual(e){return e instanceof Yc&&e.projectId===this.projectId&&e.database===this.database}}function MP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yc(t.options.projectId,e)}const rS="__type__",VP="__max__",sd={mapValue:{}},aS="__vector__",Gd="value";function zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ly(t)?4:LP(t)?9007199254740991:OP(t)?10:11:Te(28295,{value:t})}function cs(t,e){if(t===e)return!0;const n=zr(t);if(n!==zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Kc(t).isEqual(Kc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ur(a.timestampValue),f=Ur(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Br(a.bytesValue).isEqual(Br(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return St(a.geoPointValue.latitude)===St(l.geoPointValue.latitude)&&St(a.geoPointValue.longitude)===St(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return St(a.integerValue)===St(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=St(a.doubleValue),f=St(l.doubleValue);return u===f?qd(u)===qd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],cs);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(m_(u)!==m_(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!cs(u[p],f[p])))return!1;return!0})(t,e);default:return Te(52216,{left:t})}}function Wc(t,e){return(t.values||[]).find((n=>cs(n,e)))!==void 0}function Jo(t,e){if(t===e)return 0;const n=zr(t),s=zr(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=St(l.integerValue||l.doubleValue),p=St(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return g_(t.timestampValue,e.timestampValue);case 4:return g_(Kc(t),Kc(e));case 5:return Ag(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Br(l),p=Br(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let y=0;y<f.length&&y<p.length;y++){const x=ze(f[y],p[y]);if(x!==0)return x}return ze(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=ze(St(l.latitude),St(u.latitude));return f!==0?f:ze(St(l.longitude),St(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return y_(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},y=f[Gd]?.arrayValue,x=p[Gd]?.arrayValue,w=ze(y?.values?.length||0,x?.values?.length||0);return w!==0?w:y_(y,x)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===sd.mapValue&&u===sd.mapValue)return 0;if(l===sd.mapValue)return 1;if(u===sd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=u.fields||{},x=Object.keys(y);p.sort(),x.sort();for(let w=0;w<p.length&&w<x.length;++w){const T=Ag(p[w],x[w]);if(T!==0)return T;const I=Jo(f[p[w]],y[x[w]]);if(I!==0)return I}return ze(p.length,x.length)})(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function g_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ze(t,e);const n=Ur(t),s=Ur(e),a=ze(n.seconds,s.seconds);return a!==0?a:ze(n.nanos,s.nanos)}function y_(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=Jo(n[a],s[a]);if(l)return l}return ze(n.length,s.length)}function Zo(t){return Ng(t)}function Ng(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=Ur(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Br(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=Ng(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Ng(n.fields[u])}`;return a+"}"})(t.mapValue):Te(61005,{value:t})}function wd(t){switch(zr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yf(t);return e?16+wd(e):16;case 5:return 2*t.stringValue.length;case 6:return Br(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+wd(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Gr(s.fields,((l,u)=>{a+=l.length+wd(u)})),a})(t.mapValue);default:throw Te(13486,{value:t})}}function x_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Rg(t){return!!t&&"integerValue"in t}function Uy(t){return!!t&&"arrayValue"in t}function v_(t){return!!t&&"nullValue"in t}function b_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _d(t){return!!t&&"mapValue"in t}function OP(t){return(t?.mapValue?.fields||{})[rS]?.stringValue===aS}function Mc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Gr(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Mc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mc(t.arrayValue.values[n]);return e}return{...t}}function LP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VP}class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_d(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(n)}setAll(e){let n=sn.emptyPath(),s={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,a),s={},a=[],n=f.popLast()}u?s[f.lastSegment()]=Mc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());_d(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return cs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];_d(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Gr(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Rn(Mc(this.value))}}function oS(t){const e=[];return Gr(t.fields,((n,s)=>{const a=new sn([n]);if(_d(s)){const l=oS(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new Ln(e)}class un{constructor(e,n,s,a,l,u,f){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new un(e,0,Ne.min(),Ne.min(),Ne.min(),Rn.empty(),0)}static newFoundDocument(e,n,s,a){return new un(e,1,n,Ne.min(),s,a,0)}static newNoDocument(e,n){return new un(e,2,n,Ne.min(),Ne.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new un(e,3,n,Ne.min(),Ne.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $d{constructor(e,n){this.position=e,this.inclusive=n}}function w_(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(u.referenceValue),n.key):s=Jo(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function __(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!cs(t.position[n],e.position[n]))return!1;return!0}class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function UP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class lS{}class Ot extends lS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new zP(e,n,s):n==="array-contains"?new HP(e,s):n==="in"?new GP(e,s):n==="not-in"?new $P(e,s):n==="array-contains-any"?new KP(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new FP(e,s):new qP(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jo(n,this.value)):n!==null&&zr(this.value)===zr(n)&&this.matchesComparison(Jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends lS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ci(e,n)}matches(e){return cS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cS(t){return t.op==="and"}function uS(t){return BP(t)&&cS(t)}function BP(t){for(const e of t.filters)if(e instanceof Ci)return!1;return!0}function Cg(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Zo(t.value);if(uS(t))return t.filters.map((e=>Cg(e))).join(",");{const e=t.filters.map((n=>Cg(n))).join(",");return`${t.op}(${e})`}}function hS(t,e){return t instanceof Ot?(function(s,a){return a instanceof Ot&&s.op===a.op&&s.field.isEqual(a.field)&&cs(s.value,a.value)})(t,e):t instanceof Ci?(function(s,a){return a instanceof Ci&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,f)=>l&&hS(u,a.filters[f])),!0):!1})(t,e):void Te(19439)}function dS(t){return t instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Zo(n.value)}`})(t):t instanceof Ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(dS).join(" ,")+"}"})(t):"Filter"}class zP extends Ot{constructor(e,n,s){super(e,n,s),this.key=be.fromName(s.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class FP extends Ot{constructor(e,n){super(e,"in",n),this.keys=fS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qP extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=fS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fS(t,e){return(e.arrayValue?.values||[]).map((n=>be.fromName(n.referenceValue)))}class HP extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uy(n)&&Wc(n.arrayValue,this.value)}}class GP extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wc(this.value.arrayValue,n)}}class $P extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wc(this.value.arrayValue,n)}}class KP extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Wc(this.value.arrayValue,s)))}}class YP{constructor(e,n=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function T_(t,e=null,n=[],s=[],a=null,l=null,u=null){return new YP(t,e,n,s,a,l,u)}function By(t){const e=Ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Cg(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),gf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Zo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Zo(s))).join(",")),e.Te=n}return e.Te}function zy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!__(t.startAt,e.startAt)&&__(t.endAt,e.endAt)}function jg(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class ml{constructor(e,n=null,s=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function WP(t,e,n,s,a,l,u,f){return new ml(t,e,n,s,a,l,u,f)}function mS(t){return new ml(t)}function E_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QP(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pS(t){return t.collectionGroup!==null}function Vc(t){const e=Ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new qt(sn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Qc(l,s))})),n.has(sn.keyField().canonicalString())||e.Ie.push(new Qc(sn.keyField(),s))}return e.Ie}function ss(t){const e=Ce(t);return e.Ee||(e.Ee=XP(e,Vc(t))),e.Ee}function XP(t,e){if(t.limitType==="F")return T_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Qc(a.field,l)}));const n=t.endAt?new $d(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new $d(t.startAt.position,t.startAt.inclusive):null;return T_(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Ig(t,e){const n=t.filters.concat([e]);return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function JP(t,e){const n=t.explicitOrderBy.concat([e]);return new ml(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function kg(t,e,n){return new ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return zy(ss(t),ss(e))&&t.limitType===e.limitType}function gS(t){return`${By(ss(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>dS(a))).join(", ")}]`),gf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Zo(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Zo(a))).join(",")),`Target(${s})`})(ss(t))}; limitType=${t.limitType})`}function vf(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Vc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,f,p){const y=w_(u,f,p);return u.inclusive?y<=0:y<0})(s.startAt,Vc(s),a)||s.endAt&&!(function(u,f,p){const y=w_(u,f,p);return u.inclusive?y>=0:y>0})(s.endAt,Vc(s),a))})(t,e)}function ZP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yS(t){return(e,n)=>{let s=!1;for(const a of Vc(t)){const l=e4(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function e4(t,e,n){const s=t.field.isKeyField()?be.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Jo(p,y):Te(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:t.dir})}}class Ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Gr(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}const t4=new mt(be.comparator);function Us(){return t4}const xS=new mt(be.comparator);function Cc(...t){let e=xS;for(const n of t)e=e.insert(n.key,n);return e}function vS(t){let e=xS;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Na(){return Oc()}function bS(){return Oc()}function Oc(){return new Ua((t=>t.toString()),((t,e)=>t.isEqual(e)))}const n4=new mt(be.comparator),i4=new qt(be.comparator);function Fe(...t){let e=i4;for(const n of t)e=e.add(n);return e}const s4=new qt(ze);function r4(){return s4}function Fy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function wS(t){return{integerValue:""+t}}function a4(t,e){return jP(e)?wS(e):Fy(t,e)}class bf{constructor(){this._=void 0}}function o4(t,e,n){return t instanceof Xc?(function(a,l){const u={fields:{[nS]:{stringValue:tS},[sS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ly(l)&&(l=yf(l)),l&&(u.fields[iS]=l),{mapValue:u}})(n,e):t instanceof Jc?TS(t,e):t instanceof Zc?ES(t,e):(function(a,l){const u=_S(a,l),f=S_(u)+S_(a.Ae);return Rg(u)&&Rg(a.Ae)?wS(f):Fy(a.serializer,f)})(t,e)}function l4(t,e,n){return t instanceof Jc?TS(t,e):t instanceof Zc?ES(t,e):n}function _S(t,e){return t instanceof Kd?(function(s){return Rg(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Xc extends bf{}class Jc extends bf{constructor(e){super(),this.elements=e}}function TS(t,e){const n=SS(e);for(const s of t.elements)n.some((a=>cs(a,s)))||n.push(s);return{arrayValue:{values:n}}}class Zc extends bf{constructor(e){super(),this.elements=e}}function ES(t,e){let n=SS(e);for(const s of t.elements)n=n.filter((a=>!cs(a,s)));return{arrayValue:{values:n}}}class Kd extends bf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function S_(t){return St(t.integerValue||t.doubleValue)}function SS(t){return Uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class c4{constructor(e,n){this.field=e,this.transform=n}}function u4(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Jc&&a instanceof Jc||s instanceof Zc&&a instanceof Zc?Xo(s.elements,a.elements,cs):s instanceof Kd&&a instanceof Kd?cs(s.Ae,a.Ae):s instanceof Xc&&a instanceof Xc})(t.transform,e.transform)}class h4{constructor(e,n){this.version=e,this.transformResults=n}}class Ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ei}static exists(e){return new Ei(void 0,e)}static updateTime(e){return new Ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wf{}function AS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qy(t.key,Ei.none()):new pu(t.key,t.data,Ei.none());{const n=t.data,s=Rn.empty();let a=new qt(sn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new $r(t.key,s,new Ln(a.toArray()),Ei.none())}}function d4(t,e,n){t instanceof pu?(function(a,l,u){const f=a.value.clone(),p=N_(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof $r?(function(a,l,u){if(!Td(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=N_(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(NS(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Lc(t,e,n,s){return t instanceof pu?(function(l,u,f,p){if(!Td(l.precondition,u))return f;const y=l.value.clone(),x=R_(l.fieldTransforms,p,u);return y.setAll(x),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,s):t instanceof $r?(function(l,u,f,p){if(!Td(l.precondition,u))return f;const y=R_(l.fieldTransforms,p,u),x=u.data;return x.setAll(NS(l)),x.setAll(y),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(t,e,n,s):(function(l,u,f){return Td(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function f4(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=_S(s.transform,a||null);l!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,l))}return n||null}function A_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Xo(s,a,((l,u)=>u4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pu extends wf{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class $r extends wf{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function NS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function N_(t,e,n){const s=new Map;We(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,l4(u,f,n[a]))}return s}function R_(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,o4(l,u,e))}return s}class qy extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m4 extends wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p4{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&d4(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Lc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Lc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=bS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=AS(u,f);p!==null&&s.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ne.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,((n,s)=>A_(n,s)))&&Xo(this.baseMutations,e.baseMutations,((n,s)=>A_(n,s)))}}class Hy{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){We(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return n4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Hy(e,n,s,a)}}class g4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class y4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Mt,He;function x4(t){switch(t){case re.OK:return Te(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function RS(t){if(t===void 0)return Ls("GRPC error has no .code"),re.UNKNOWN;switch(t){case Mt.OK:return re.OK;case Mt.CANCELLED:return re.CANCELLED;case Mt.UNKNOWN:return re.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return re.INTERNAL;case Mt.UNAVAILABLE:return re.UNAVAILABLE;case Mt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Mt.NOT_FOUND:return re.NOT_FOUND;case Mt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Mt.ABORTED:return re.ABORTED;case Mt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Mt.DATA_LOSS:return re.DATA_LOSS;default:return Te(39323,{code:t})}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function v4(){return new TextEncoder}const b4=new Pr([4294967295,4294967295],0);function C_(t){const e=v4().encode(t),n=new FE;return n.update(e),new Uint8Array(n.digest())}function j_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Pr([n,s],0),new Pr([a,l],0)]}class Gy{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jc(`Invalid padding: ${n}`);if(s<0)throw new jc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Pr.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(Pr.fromNumber(s)));return a.compare(b4)===1&&(a=new Pr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=C_(e),[s,a]=j_(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Gy(l,a,n);return s.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=C_(e),[s,a]=j_(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _f{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _f(Ne.min(),a,new mt(ze),Us(),Fe())}}class gu{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new gu(s,n,Fe(),Fe(),Fe())}}class Ed{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=a}}class CS{constructor(e,n){this.targetId=e,this.Ce=n}}class jS{constructor(e,n,s=rn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class I_{constructor(){this.ve=0,this.Fe=k_(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Te(38017,{changeType:l})}})),new gu(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=k_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class w4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.He=rd(),this.Je=rd(),this.Ze=new mt(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(jg(l))if(s===0){const u=new be(l.path);this.et(n,u,un.newNoDocument(u,Ne.min()))}else We(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Br(s).toUint8Array()}catch(p){if(p instanceof eS)return Va("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Gy(u,a,l)}catch(p){return Va(p instanceof jc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&jg(f.target)){const p=new be(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,un.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let s=Fe();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new _f(e,n,this.Ze,this.je,s);return this.je=Us(),this.He=rd(),this.Je=rd(),this.Ze=new mt(ze),a}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new I_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new qt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new qt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rd(){return new mt(be.comparator)}function k_(){return new mt(be.comparator)}const _4={asc:"ASCENDING",desc:"DESCENDING"},T4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E4={and:"AND",or:"OR"};class S4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(t,e){return t.useProto3Json||gf(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A4(t,e){return Yd(t,e.toTimestamp())}function rs(t){return We(!!t,49232),Ne.fromTimestamp((function(n){const s=Ur(n);return new ct(s.seconds,s.nanos)})(t))}function $y(t,e){return Pg(t,e).canonicalString()}function Pg(t,e){const n=(function(a){return new rt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function kS(t){const e=rt.fromString(t);return We(OS(e),10190,{key:e.toString()}),e}function Mg(t,e){return $y(t.databaseId,e.path)}function Yp(t,e){const n=kS(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(PS(n))}function DS(t,e){return $y(t.databaseId,e)}function N4(t){const e=kS(t);return e.length===4?rt.emptyPath():PS(e)}function Vg(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PS(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function D_(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function R4(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(y,x){return y.useProto3Json?(We(x===void 0||typeof x=="string",58123),rn.fromBase64String(x||"")):(We(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),rn.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(y){const x=y.code===void 0?re.UNKNOWN:RS(y.code);return new fe(x,y.message||"")})(u);n=new jS(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Yp(t,s.document.name),l=rs(s.document.updateTime),u=s.document.createTime?rs(s.document.createTime):Ne.min(),f=new Rn({mapValue:{fields:s.document.fields}}),p=un.newFoundDocument(a,l,u,f),y=s.targetIds||[],x=s.removedTargetIds||[];n=new Ed(y,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Yp(t,s.document),l=s.readTime?rs(s.readTime):Ne.min(),u=un.newNoDocument(a,l),f=s.removedTargetIds||[];n=new Ed([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Yp(t,s.document),l=s.removedTargetIds||[];n=new Ed([],l,a,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new y4(a,l),f=s.targetId;n=new CS(f,u)}}return n}function C4(t,e){let n;if(e instanceof pu)n={update:D_(t,e.key,e.value)};else if(e instanceof qy)n={delete:Mg(t,e.key)};else if(e instanceof $r)n={update:D_(t,e.key,e.data),updateMask:L4(e.fieldMask)};else{if(!(e instanceof m4))return Te(16599,{dt:e.type});n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const f=u.transform;if(f instanceof Xc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Jc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Zc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Te(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:A4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)})(t,e.precondition)),n}function j4(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?rs(a.updateTime):rs(l);return u.isEqual(Ne.min())&&(u=rs(l)),new h4(u,a.transformResults||[])})(n,e)))):[]}function I4(t,e){return{documents:[DS(t,e.path)]}}function k4(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=DS(t,a);const l=(function(y){if(y.length!==0)return VS(Ci.create(y,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(y){if(y.length!==0)return y.map((x=>(function(T){return{field:ko(T.field),direction:M4(T.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Dg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:a}}function D4(t){let e=N4(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){We(s===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=(function(w){const T=MS(w);return T instanceof Ci&&uS(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(w){return w.map((T=>(function(D){return new Qc(Do(D.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(w){let T;return T=typeof w=="object"?w.value:w,gf(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(w){const T=!!w.before,I=w.values||[];return new $d(I,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const T=!w.before,I=w.values||[];return new $d(I,T)})(n.endAt)),WP(e,a,u,l,f,"F",p,y)}function P4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Do(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Do(n.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(n.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Do(n.unaryFilter.field);return Ot.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ot.create(Do(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ci.create(n.compositeFilter.filters.map((s=>MS(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(t):Te(30097,{filter:t})}function M4(t){return _4[t]}function V4(t){return T4[t]}function O4(t){return E4[t]}function ko(t){return{fieldPath:t.canonicalString()}}function Do(t){return sn.fromServerFormat(t.fieldPath)}function VS(t){return t instanceof Ot?(function(n){if(n.op==="=="){if(b_(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(v_(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b_(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(v_(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:V4(n.op),value:n.value}}})(t):t instanceof Ci?(function(n){const s=n.getFilters().map((a=>VS(a)));return s.length===1?s[0]:{compositeFilter:{op:O4(n.op),filters:s}}})(t):Te(54877,{filter:t})}function L4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function LS(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Rr{constructor(e,n,s,a,l=Ne.min(),u=Ne.min(),f=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class U4{constructor(e){this.yt=e}}function B4(t){const e=D4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kg(e,e.limit,"L"):e}class z4{constructor(){this.Sn=new F4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Lr.min())}updateCollectionGroup(e,n,s){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class F4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new qt(rt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new qt(rt.comparator)).toArray()}}const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},US=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(US,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class el{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}const M_="LruGarbageCollector",q4=1048576;function V_([t,e],[n,s]){const a=ze(t,n);return a===0?ze(e,s):a}class H4{constructor(e){this.Pr=e,this.buffer=new qt(V_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();V_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class G4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(M_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fl(n)?me(M_,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.Ar(3e5)}))}}class $4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(pf.ce);const s=new H4(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(P_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,a,l,u,f,p,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),a=this.params.maximumSequenceNumbersToCollect):a=w,u=Date.now(),this.nthSequenceNumber(e,a)))).next((w=>(s=w,f=Date.now(),this.removeTargets(e,s,n)))).next((w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(y=Date.now(),jo()<=Be.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-x}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:w}))))}}function K4(t,e){return new $4(t,e)}class Y4{constructor(){this.changes=new Ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ae.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class W4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Q4{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Lc(s.mutation,a,Ln.empty(),ct.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const a=Na();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Cc();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=Na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,s,a){let l=Us();const u=Oc(),f=(function(){return Oc()})();return n.forEach(((p,y)=>{const x=s.get(y.key);a.has(y.key)&&(x===void 0||x.mutation instanceof $r)?l=l.insert(y.key,y):x!==void 0?(u.set(y.key,x.mutation.getFieldMask()),Lc(x.mutation,y,x.mutation.getFieldMask(),ct.now())):u.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,x)=>u.set(y,x))),n.forEach(((y,x)=>f.set(y,new W4(x,u.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,n){const s=Oc();let a=new mt(((u,f)=>u-f)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let x=s.get(p)||Ln.empty();x=f.applyToLocalView(y,x),s.set(p,x);const w=(a.get(f.batchId)||Fe()).add(p);a=a.insert(f.batchId,w)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,x=p.value,w=bS();x.forEach((T=>{if(!l.has(T)){const I=AS(n.get(T),s.get(T));I!==null&&w.set(T,I),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ae.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return QP(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):ae.resolve(Na());let f=$c,p=l;return u.next((y=>ae.forEach(y,((x,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(x)?ae.resolve():this.remoteDocumentCache.getEntry(e,x).next((T=>{p=p.insert(x,T)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,Fe()))).next((x=>({batchId:f,changes:vS(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((s=>{let a=Cc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Cc();return this.indexManager.getCollectionParents(e,l).next((f=>ae.forEach(f,(p=>{const y=(function(w,T){return new ml(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,a).next((x=>{x.forEach(((w,T)=>{u=u.insert(w,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((p,y)=>{const x=y.getKey();u.get(x)===null&&(u=u.insert(x,un.newInvalidDocument(x)))}));let f=Cc();return u.forEach(((p,y)=>{const x=l.get(p);x!==void 0&&Lc(x.mutation,y,Ln.empty(),ct.now()),vf(n,y)&&(f=f.insert(p,y))})),f}))}}class X4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:rs(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:B4(a.bundledQuery),readTime:rs(a.readTime)}})(n)),ae.resolve()}}class J4{constructor(){this.overlays=new mt(be.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Na();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.bt(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ae.resolve()}getOverlaysForCollection(e,n,s){const a=Na(),l=n.length+1,u=new be(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new mt(((y,x)=>y-x));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let x=l.get(y.largestBatchId);x===null&&(x=Na(),l=l.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const f=Na(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,x)=>f.set(y,x))),!(f.size()>=a)););return ae.resolve(f)}bt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new g4(n,s));let l=this.Lr.get(n);l===void 0&&(l=Fe(),this.Lr.set(n,l)),this.Lr.set(n,l.add(s.key))}}class Z4{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Ky{constructor(){this.kr=new qt(Kt.Kr),this.qr=new qt(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Kt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Kt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new be(new rt([])),s=new Kt(n,e),a=new Kt(n,e+1),l=[];return this.qr.forEachInRange([s,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new rt([])),s=new Kt(n,e),a=new Kt(n,e+1);let l=Fe();return this.qr.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Kt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class e5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new qt(Kt.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new p4(l,n,s,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new Kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Oy:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Kt(n,0),a=new Kt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new qt(ze);return n.forEach((a=>{const l=new Kt(a,0),u=new Kt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{s=s.add(f.Hr)}))})),ae.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const u=new Kt(new be(l),0);let f=new qt(ze);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===a&&(f=f.add(p.Hr)),!0)}),u),ae.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){We(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ae.forEach(n.mutations,(a=>{const l=new Kt(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Kt(n,0),a=this.Jr.firstAfterOrEqual(s);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class t5{constructor(e){this.ti=e,this.docs=(function(){return new mt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ae.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(e,n){let s=Us();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():un.newInvalidDocument(a))})),ae.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=Us();const u=n.path,f=new be(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:x}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||AP(SP(x),s)<=0||(a.has(x.key)||vf(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Te(9500)}ni(e,n){return ae.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new n5(this)}getSize(e){return ae.resolve(this.size)}}class n5 extends Y4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class i5{constructor(e){this.persistence=e,this.ri=new Ua((n=>By(n)),zy),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.ii=0,this.si=new Ky,this.targetCount=0,this.oi=el._r()}forEachTarget(e,n){return this.ri.forEach(((s,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new el(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ae.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ae.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ae.resolve(s)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class BS{constructor(e,n){this._i={},this.overlays={},this.ai=new pf(0),this.ui=!1,this.ui=!0,this.ci=new Z4,this.referenceDelegate=e(this),this.li=new i5(this),this.indexManager=new z4,this.remoteDocumentCache=(function(a){return new t5(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new U4(n),this.Pi=new X4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new e5(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const a=new s5(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ae.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class s5 extends RP{constructor(e){super(),this.currentSequenceNumber=e}}class Yy{constructor(e){this.persistence=e,this.Ri=new Ky,this.Ai=null}static Vi(e){return new Yy(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ae.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(s=>{const a=be.fromPath(s);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ne.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Wd{constructor(e,n){this.persistence=e,this.fi=new Ua((s=>IP(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=K4(this,n)}static Vi(e,n){return new Wd(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(s++,l.removeEntry(u,Ne.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wd(e.data.value)),n}wr(e,n,s){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wy{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=a}static Es(e,n){let s=Fe(),a=Fe();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Wy(e,n.fromCache,s,a)}}class r5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class a5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Kj()?8:CP(dn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new r5;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,s,a){return s.documentReadCount<this.Vs?(jo()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(jo()<=Be.DEBUG&&me("QueryEngine","Query:",Io(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(jo()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ss(n))):ae.resolve())}gs(e,n){if(E_(n))return ae.resolve(null);let s=ss(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=kg(n,null,"F"),s=ss(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Fe(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.bs(n,f);return this.Ss(n,y,u,p.readTime)?this.gs(e,kg(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,s,a){return E_(n)||a.isEqual(Ne.min())?ae.resolve(null):this.fs.getDocuments(e,s).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,s,a)?ae.resolve(null):(jo()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Io(n)),this.Ds(e,u,n,EP(a,$c)).next((f=>f)))}))}bs(e,n){let s=new qt(yS(e));return n.forEach(((a,l)=>{vf(e,l)&&(s=s.add(l))})),s}Ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,s){return jo()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Io(n)),this.fs.getDocumentsMatchingQuery(e,n,Lr.min(),s)}Ds(e,n,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Qy="LocalStore",o5=3e8;class l5{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new mt(ze),this.Fs=new Ua((l=>By(l)),zy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function c5(t,e,n,s){return new l5(t,e,n,s)}async function zS(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],f=[];let p=Fe();for(const y of a){u.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}for(const y of l){f.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:u,addedBatchIds:f})))}))}))}function u5(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,p,y,x){const w=y.batch,T=w.keys();let I=ae.resolve();return T.forEach((D=>{I=I.next((()=>x.getEntry(p,D))).next((B=>{const U=y.docVersions.get(D);We(U!==null,48541),B.version.compareTo(U)<0&&(w.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),x.addEntry(B)))}))})),I.next((()=>f.mutationQueue.removeMutationBatch(p,w)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=Fe();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function FS(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function h5(t,e){const n=Ce(t),s=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((x,w)=>{const T=a.get(w);if(!T)return;f.push(n.li.removeMatchingKeys(l,x.removedDocuments,w).next((()=>n.li.addMatchingKeys(l,x.addedDocuments,w))));let I=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(rn.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):x.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(x.resumeToken,s)),a=a.insert(w,I),(function(B,U,G){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=o5?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(T,I,x)&&f.push(n.li.updateTargetData(l,I))}));let p=Us(),y=Fe();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))})),f.push(d5(l,u,e.documentUpdates).next((x=>{p=x.Bs,y=x.Ls}))),!s.isEqual(Ne.min())){const x=n.li.getLastRemoteSnapshotVersion(l).next((w=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(x)}return ae.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(n.vs=a,l)))}function d5(t,e,n){let s=Fe(),a=Fe();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=Us();return n.forEach(((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):me(Qy,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)})),{Bs:u,Ls:a}}))}function f5(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Oy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function m5(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.li.getTargetData(s,e).next((l=>l?(a=l,ae.resolve(a)):n.li.allocateTargetId(s).next((u=>(a=new Rr(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function Og(t,e,n){const s=Ce(t),a=s.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!fl(u))throw u;me(Qy,`Failed to update sequence numbers for target ${e}: ${u}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function O_(t,e,n){const s=Ce(t);let a=Ne.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,y,x){const w=Ce(p),T=w.Fs.get(x);return T!==void 0?ae.resolve(w.vs.get(T)):w.li.getTargetData(y,x)})(s,u,ss(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(u,e,n?a:Ne.min(),n?l:Fe()))).next((f=>(p5(s,ZP(e),f),{documents:f,ks:l})))))}function p5(t,e,n){let s=t.Ms.get(e)||Ne.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Ms.set(e,s)}class L_{constructor(){this.activeTargetIds=r4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g5{constructor(){this.vo=new L_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new L_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class y5{Mo(e){}shutdown(){}}const U_="ConnectivityMonitor";class B_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(U_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(U_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ad=null;function Lg(){return ad===null?ad=(function(){return 268435456+Math.round(2147483648*Math.random())})():ad++,"0x"+ad.toString(16)}const Wp="RestConnection",x5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class v5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===Hd?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,l){const u=Lg(),f=this.Qo(e,n.toUriEncodedString());me(Wp,`Sending RPC '${e}' ${u}:`,f,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:y}=new URL(f),x=ol(y);return this.zo(e,f,p,s,x).then((w=>(me(Wp,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Va(Wp,`RPC '${e}' ${u} failed with error: `,w,"url: ",f,"request:",s),w}))}jo(e,n,s,a,l,u){return this.Wo(e,n,s,a,l)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const s=x5[e];let a=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class b5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const on="WebChannelConnection",Ec=(t,e,n)=>{t.listen(e,(s=>{try{n(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Ho extends v5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ho.c_){const e=$E();Ec(e,GE.STAT_EVENT,(n=>{n.stat===Sg.PROXY?me(on,"STAT_EVENT: detected buffering proxy"):n.stat===Sg.NOPROXY&&me(on,"STAT_EVENT: detected no buffering proxy")})),Ho.c_=!0}}zo(e,n,s,a,l){const u=Lg();return new Promise(((f,p)=>{const y=new qE;y.setWithCredentials(!0),y.listenOnce(HE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case bd.NO_ERROR:const w=y.getResponseJson();me(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),f(w);break;case bd.TIMEOUT:me(on,`RPC '${e}' ${u} timed out`),p(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const T=y.getStatus();if(me(on,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const D=I?.error;if(D&&D.status&&D.message){const B=(function(G){const $=G.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN})(D.status);p(new fe(B,D.message))}else p(new fe(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(on,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);me(on,`RPC '${e}' ${u} sending request:`,a),y.send(n,"POST",x,s,15)}))}T_(e,n,s){const a=Lg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const y=l.join("");me(on,`Creating RPC '${e}' stream ${a}: ${y}`,f);const x=u.createWebChannel(y,f);this.I_(x);let w=!1,T=!1;const I=new b5({Ho:D=>{T?me(on,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(w||(me(on,`Opening RPC '${e}' stream ${a} transport.`),x.open(),w=!0),me(on,`RPC '${e}' stream ${a} sending:`,D),x.send(D))},Jo:()=>x.close()});return Ec(x,Rc.EventType.OPEN,(()=>{T||(me(on,`RPC '${e}' stream ${a} transport opened.`),I.i_())})),Ec(x,Rc.EventType.CLOSE,(()=>{T||(T=!0,me(on,`RPC '${e}' stream ${a} transport closed`),I.o_(),this.E_(x))})),Ec(x,Rc.EventType.ERROR,(D=>{T||(T=!0,Va(on,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),I.o_(new fe(re.UNAVAILABLE,"The operation could not be completed")))})),Ec(x,Rc.EventType.MESSAGE,(D=>{if(!T){const B=D.data[0];We(!!B,16349);const U=B,G=U?.error||U[0]?.error;if(G){me(on,`RPC '${e}' stream ${a} received error:`,G);const $=G.status;let M=(function(j){const N=Mt[j];if(N!==void 0)return RS(N)})($),b=G.message;$==="NOT_FOUND"&&b.includes("database")&&b.includes("does not exist")&&b.includes(this.databaseId.database)&&Va(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),M===void 0&&(M=re.INTERNAL,b="Unknown error status: "+$+" with message "+G.message),T=!0,I.o_(new fe(M,b)),x.close()}else me(on,`RPC '${e}' stream ${a} received:`,B),I.__(B)}})),Ho.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KE()}}function w5(t){return new Ho(t)}function Qp(){return typeof document<"u"?document:null}function Tf(t){return new S4(t,!0)}Ho.c_=!1;class qS{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const z_="PersistentStream";class HS{constructor(e,n,s,a,l,u,f,p){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ls(n.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new fe(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _5 extends HS{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=R4(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Ne.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ne.min():u.readTime?rs(u.readTime):Ne.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=Vg(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=jg(p)?{documents:I4(l,p)}:{query:k4(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=IS(l,u.resumeToken);const y=Dg(l,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ne.min())>0){f.readTime=Yd(l,u.snapshotVersion.toTimestamp());const y=Dg(l,u.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const s=P4(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=Vg(this.serializer),n.removeTarget=e,this.K_(n)}}class T5 extends HS{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=j4(e.writeResults,e.commitTime),s=rs(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Vg(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>C4(this.serializer,s)))};this.K_(n)}}class E5{}class S5 extends E5{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Pg(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(re.UNKNOWN,l.toString())}))}jo(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,Pg(n,s),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function A5(t,e,n,s){return new S5(t,e,n,s)}class N5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ls(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const La="RemoteStore";class R5{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{s.enqueueAndForget((async()=>{Ba(this)&&(me(La,"Restarting streams for network reachability change."),await(async function(p){const y=Ce(p);y.Ea.add(4),await yu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ef(y)})(this))}))})),this.Va=new N5(s,a)}}async function Ef(t){if(Ba(t))for(const e of t.Ra)await e(!0)}async function yu(t){for(const e of t.Ra)await e(!1)}function GS(t,e){const n=Ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),e0(n)?Zy(n):pl(n).O_()&&Jy(n,e))}function Xy(t,e){const n=Ce(t),s=pl(n);n.Ia.delete(e),s.O_()&&$S(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ba(n)&&n.Va.set("Unknown"))}function Jy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pl(t).Z_(e)}function $S(t,e){t.da.$e(e),pl(t).X_(e)}function Zy(t){t.da=new w4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),pl(t).start(),t.Va.ua()}function e0(t){return Ba(t)&&!pl(t).x_()&&t.Ia.size>0}function Ba(t){return Ce(t).Ea.size===0}function KS(t){t.da=void 0}async function C5(t){t.Va.set("Online")}async function j5(t){t.Ia.forEach(((e,n)=>{Jy(t,e)}))}async function I5(t,e){KS(t),e0(t)?(t.Va.ha(e),Zy(t)):t.Va.set("Unknown")}async function k5(t,e,n){if(t.Va.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(s){me(La,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Qd(t,s)}else if(e instanceof Ed?t.da.Xe(e):e instanceof CS?t.da.st(e):t.da.tt(e),!n.isEqual(Ne.min()))try{const s=await FS(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const x=l.Ia.get(y);x&&l.Ia.set(y,x.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,y)=>{const x=l.Ia.get(p);if(!x)return;l.Ia.set(p,x.withResumeToken(rn.EMPTY_BYTE_STRING,x.snapshotVersion)),$S(l,p);const w=new Rr(x.target,p,y,x.sequenceNumber);Jy(l,w)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(s){me(La,"Failed to raise snapshot:",s),await Qd(t,s)}}async function Qd(t,e,n){if(!fl(e))throw e;t.Ea.add(1),await yu(t),t.Va.set("Offline"),n||(n=()=>FS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(La,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ef(t)}))}function YS(t,e){return e().catch((n=>Qd(t,n,e)))}async function Sf(t){const e=Ce(t),n=Fr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Oy;for(;D5(e);)try{const a=await f5(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,P5(e,a)}catch(a){await Qd(e,a)}WS(e)&&QS(e)}function D5(t){return Ba(t)&&t.Ta.length<10}function P5(t,e){t.Ta.push(e);const n=Fr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function WS(t){return Ba(t)&&!Fr(t).x_()&&t.Ta.length>0}function QS(t){Fr(t).start()}async function M5(t){Fr(t).ra()}async function V5(t){const e=Fr(t);for(const n of t.Ta)e.ea(n.mutations)}async function O5(t,e,n){const s=t.Ta.shift(),a=Hy.from(s,e,n);await YS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Sf(t)}async function L5(t,e){e&&Fr(t).Y_&&await(async function(s,a){if((function(u){return x4(u)&&u!==re.ABORTED})(a.code)){const l=s.Ta.shift();Fr(s).B_(),await YS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Sf(s)}})(t,e),WS(t)&&QS(t)}async function F_(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),me(La,"RemoteStore received new credentials");const s=Ba(n);n.Ea.add(3),await yu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ef(n)}async function U5(t,e){const n=Ce(t);e?(n.Ea.delete(2),await Ef(n)):e||(n.Ea.add(2),await yu(n),n.Va.set("Unknown"))}function pl(t){return t.ma||(t.ma=(function(n,s,a){const l=Ce(n);return l.sa(),new _5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:C5.bind(null,t),Yo:j5.bind(null,t),t_:I5.bind(null,t),J_:k5.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),e0(t)?Zy(t):t.Va.set("Unknown")):(await t.ma.stop(),KS(t))}))),t.ma}function Fr(t){return t.fa||(t.fa=(function(n,s,a){const l=Ce(n);return l.sa(),new T5(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:M5.bind(null,t),t_:L5.bind(null,t),ta:V5.bind(null,t),na:O5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Sf(t)):(await t.fa.stop(),t.Ta.length>0&&(me(La,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class t0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,f=new t0(e,n,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n0(t,e){if(Ls("AsyncQueue",`${e}: ${t}`),fl(t))return new fe(re.UNAVAILABLE,`${e}: ${t}`);throw t}class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||be.comparator(n.key,s.key):(n,s)=>be.comparator(n.key,s.key),this.keyedMap=Cc(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class q_{constructor(){this.ga=new mt(be.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class tl{constructor(e,n,s,a,l,u,f,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new tl(e,n,Go.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}class B5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class z5{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ce(n),l=a.queries;a.queries=H_(),l.forEach(((u,f)=>{for(const p of f.ba)p.onError(s)}))})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function H_(){return new Ua((t=>gS(t)),xf)}async function F5(t,e){const n=Ce(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new B5,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=n0(u,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&i0(n)}async function q5(t,e){const n=Ce(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function H5(t,e){const n=Ce(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(s=!0);u.wa=a}}s&&i0(n)}function G5(t,e,n){const s=Ce(t),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(n);s.queries.delete(e)}function i0(t){t.Ca.forEach((e=>{e.next()}))}var Ug,G_;(G_=Ug||(Ug={})).Ma="default",G_.Cache="cache";class $5{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new tl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ug.Cache}}class XS{constructor(e){this.key=e}}class JS{constructor(e){this.key=e}}class K5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=yS(e),this.tu=new Go(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new q_,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,w)=>{const T=a.get(x),I=vf(this.query,w)?w:null,D=!!T&&this.mutatedKeys.has(T.key),B=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;T&&I?T.data.isEqual(I.data)?D!==B&&(s.track({type:3,doc:I}),U=!0):this.su(T,I)||(s.track({type:2,doc:I}),U=!0,(p&&this.eu(I,p)>0||y&&this.eu(I,y)<0)&&(f=!0)):!T&&I?(s.track({type:0,doc:I}),U=!0):T&&!I&&(s.track({type:1,doc:T}),U=!0,(p||y)&&(f=!0)),U&&(I?(u=u.add(I),l=B?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),s.track({type:1,doc:x})}return{tu:u,iu:s,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,w)=>(function(I,D){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:U})}};return B(I)-B(D)})(x.type,w.type)||this.eu(x.doc,w.doc))),this.ou(s),a=a??!1;const f=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,y=p!==this.Xa;return this.Xa=p,u.length!==0||y?{snapshot:new tl(this.query,e.tu,l,u,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new JS(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new XS(s))})),n}cu(e){this.Za=e.ks,this.Ya=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const s0="SyncEngine";class Y5{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class W5{constructor(e){this.key=e,this.hu=!1}}class Q5{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ua((f=>gS(f)),xf),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(be.comparator),this.Au=new Map,this.Vu=new Ky,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X5(t,e,n=!0){const s=sA(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ZS(s,e,n,!0),a}async function J5(t,e){const n=sA(t);await ZS(n,e,!0,!1)}async function ZS(t,e,n,s){const a=await m5(t.localStore,ss(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return s&&(f=await Z5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&GS(t.remoteStore,a),f}async function Z5(t,e,n,s,a){t.pu=(w,T,I)=>(async function(B,U,G,$){let M=U.view.ru(G);M.Ss&&(M=await O_(B.localStore,U.query,!1).then((({documents:N})=>U.view.ru(N,M))));const b=$&&$.targetChanges.get(U.targetId),E=$&&$.targetMismatches.get(U.targetId)!=null,j=U.view.applyChanges(M,B.isPrimaryClient,b,E);return K_(B,U.targetId,j.au),j.snapshot})(t,w,T,I);const l=await O_(t.localStore,e,!0),u=new K5(e,l.ks),f=u.ru(l.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),y=u.applyChanges(f,t.isPrimaryClient,p);K_(t,n,y.au);const x=new Y5(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function eM(t,e,n){const s=Ce(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!xf(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Og(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Xy(s.remoteStore,a.targetId),Bg(s,a.targetId)})).catch(dl)):(Bg(s,a.targetId),await Og(s.localStore,a.targetId,!0))}async function tM(t,e){const n=Ce(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xy(n.remoteStore,s.targetId))}async function nM(t,e,n){const s=cM(t);try{const a=await(function(u,f){const p=Ce(u),y=ct.now(),x=f.reduce(((I,D)=>I.add(D.key)),Fe());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let D=Us(),B=Fe();return p.xs.getEntries(I,x).next((U=>{D=U,D.forEach(((G,$)=>{$.isValidDocument()||(B=B.add(G))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,D))).next((U=>{w=U;const G=[];for(const $ of f){const M=f4($,w.get($.key).overlayedDocument);M!=null&&G.push(new $r($.key,M,oS(M.value.mapValue),Ei.exists(!0)))}return p.mutationQueue.addMutationBatch(I,y,G,f)})).next((U=>{T=U;const G=U.applyToLocalDocumentSet(w,B);return p.documentOverlayCache.saveOverlays(I,U.batchId,G)}))})).then((()=>({batchId:T.batchId,changes:vS(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let y=u.du[u.currentUser.toKey()];y||(y=new mt(ze)),y=y.insert(f,p),u.du[u.currentUser.toKey()]=y})(s,a.batchId,n),await xu(s,a.changes),await Sf(s.remoteStore)}catch(a){const l=n0(a,"Failed to persist write");n.reject(l)}}async function eA(t,e){const n=Ce(t);try{const s=await h5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?We(u.hu,14607):a.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))})),await xu(n,s,e)}catch(s){await dl(s)}}function $_(t,e,n){const s=Ce(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=Ce(u);p.onlineState=f;let y=!1;p.queries.forEach(((x,w)=>{for(const T of w.ba)T.va(f)&&(y=!0)})),y&&i0(p)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function iM(t,e,n){const s=Ce(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new mt(be.comparator);u=u.insert(l,un.newNoDocument(l,Ne.min()));const f=Fe().add(l),p=new _f(Ne.min(),new Map,new mt(ze),u,f);await eA(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(e),r0(s)}else await Og(s.localStore,e,!1).then((()=>Bg(s,e,n))).catch(dl)}async function sM(t,e){const n=Ce(t),s=e.batch.batchId;try{const a=await u5(n.localStore,e);nA(n,s,null),tA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await xu(n,a)}catch(a){await dl(a)}}async function rM(t,e,n){const s=Ce(t);try{const a=await(function(u,f){const p=Ce(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return p.mutationQueue.lookupMutationBatch(y,f).next((w=>(We(w!==null,37113),x=w.keys(),p.mutationQueue.removeMutationBatch(y,w)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,x,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>p.localDocuments.getDocuments(y,x)))}))})(s.localStore,e);nA(s,e,n),tA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await xu(s,a)}catch(a){await dl(a)}}function tA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nA(t,e,n){const s=Ce(t);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((s=>{t.Vu.containsKey(s)||iA(t,s)}))}function iA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Xy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),r0(t))}function K_(t,e,n){for(const s of n)s instanceof XS?(t.Vu.addReference(s.key,e),aM(t,s)):s instanceof JS?(me(s0,"Document no longer in limbo: "+s.key),t.Vu.removeReference(s.key,e),t.Vu.containsKey(s.key)||iA(t,s.key)):Te(19791,{wu:s})}function aM(t,e){const n=e.key,s=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(s)||(me(s0,"New document in limbo: "+n),t.Eu.add(s),r0(t))}function r0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new be(rt.fromString(e)),s=t.fu.next();t.Au.set(s,new W5(n)),t.Ru=t.Ru.insert(n,s),GS(t.remoteStore,new Rr(ss(mS(n.path)),s,"TargetPurposeLimboResolution",pf.ce))}}async function xu(t,e,n){const s=Ce(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((f,p)=>{u.push(s.pu(p,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(y){a.push(y);const x=Wy.Es(p.targetId,y);l.push(x)}})))})),await Promise.all(u),s.Pu.J_(a),await(async function(p,y){const x=Ce(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ae.forEach(y,(T=>ae.forEach(T.Ts,(I=>x.persistence.referenceDelegate.addReference(w,T.targetId,I))).next((()=>ae.forEach(T.Is,(I=>x.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))))))}catch(w){if(!fl(w))throw w;me(Qy,"Failed to update sequence numbers: "+w)}for(const w of y){const T=w.targetId;if(!w.fromCache){const I=x.vs.get(T),D=I.snapshotVersion,B=I.withLastLimboFreeSnapshotVersion(D);x.vs=x.vs.insert(T,B)}}})(s.localStore,l))}async function oM(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){me(s0,"User change. New user:",e.toKey());const s=await zS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new fe(re.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xu(n,s.Ns)}}function lM(t,e){const n=Ce(t),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let a=Fe();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function sA(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iM.bind(null,e),e.Pu.J_=H5.bind(null,e.eventManager),e.Pu.yu=G5.bind(null,e.eventManager),e}function cM(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rM.bind(null,e),e}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return c5(this.persistence,new a5,e.initialUser,this.serializer)}Cu(e){return new BS(Yy.Vi,this.serializer)}Du(e){return new g5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class uM extends Xd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Wd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new G4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new BS((s=>Wd.Vi(s,n)),this.serializer)}}class zg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oM.bind(null,this.syncEngine),await U5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new z5})()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),s=w5(e.databaseInfo);return A5(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,f){return new R5(s,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>$_(this.syncEngine,n,0)),(function(){return B_.v()?new B_:new y5})())}createSyncEngine(e,n){return(function(a,l,u,f,p,y,x){const w=new Q5(a,l,u,f,p,y);return x&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);me(La,"RemoteStore shutting down."),s.Ea.add(5),await yu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zg.provider={build:()=>new zg};class hM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const qr="FirestoreClient";class dM{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=Vy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{me(qr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(me(qr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=n0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Xp(t,e){t.asyncQueue.verifyOperationInProgress(),me(qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await zS(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fM(t);me(qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>F_(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>F_(e.remoteStore,a))),t._onlineComponents=e}async function fM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(qr,"Using user provided OfflineComponentProvider");try{await Xp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Va("Error using user provided cache. Falling back to memory cache: "+n),await Xp(t,new Xd)}}else me(qr,"Using default OfflineComponentProvider"),await Xp(t,new uM(void 0));return t._offlineComponents}async function rA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(qr,"Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(me(qr,"Using default OnlineComponentProvider"),await Y_(t,new zg))),t._onlineComponents}function mM(t){return rA(t).then((e=>e.syncEngine))}async function pM(t){const e=await rA(t),n=e.eventManager;return n.onListen=X5.bind(null,e.syncEngine),n.onUnlisten=eM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tM.bind(null,e.syncEngine),n}function gM(t,e,n={}){const s=new Mr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,y){const x=new hM({next:T=>{x.Nu(),u.enqueueAndForget((()=>q5(l,w))),T.fromCache&&p.source==="server"?y.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),w=new $5(f,x,{includeMetadataChanges:!0,Ka:!0});return F5(l,w)})(await pM(t),t.asyncQueue,e,n,s))),s.promise}function yM(t,e){const n=new Mr;return t.asyncQueue.enqueueAndForget((async()=>nM(await mM(t),e,n))),n.promise}function aA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const xM="ComponentProvider",W_=new Map;function vM(t,e,n,s,a){return new PP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,aA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const oA="firestore.googleapis.com",Q_=!0;class X_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oA,this.ssl=Q_}else this.host=e.host,this.ssl=e.ssl??Q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=US;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q4)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aA(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Af{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new fP;switch(s.type){case"firstParty":return new yP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=W_.get(n);s&&(me(xM,"Removing Datastore"),W_.delete(n),s.terminate())})(this),Promise.resolve()}}function bM(t,e,n,s={}){t=Oa(t,Af);const a=ol(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(JT(`https://${f}`),ZT("Firestore",!0)),l.host!==oA&&l.host!==f&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:s};if(!ka(p,u)&&(t._setSettings(p),s.mockUserToken)){let y,x;if(typeof s.mockUserToken=="string")y=s.mockUserToken,x=cn.MOCK_USER;else{y=Lj(s.mockUserToken,t._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new cn(w)}t._authCredentials=new mP(new WE(y,x))}}class za{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new za(this.firestore,e,this._query)}}class Ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(mu(n,Ft._jsonSchema))return new Ft(e,s||null,new be(rt.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Lt("string",Ft._jsonSchemaVersion),referencePath:Lt("string")};class Vr extends za{constructor(e,n,s){super(e,n,mS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new be(e))}withConverter(e){return new Vr(this.firestore,e,this._path)}}function J_(t,e,...n){if(t=Yt(t),QE("collection","path",e),t instanceof Af){const s=rt.fromString(e,...n);return u_(s),new Vr(t,null,s)}{if(!(t instanceof Ft||t instanceof Vr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return u_(s),new Vr(t.firestore,null,s)}}function Fg(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=Vy.newId()),QE("doc","path",e),t instanceof Af){const s=rt.fromString(e,...n);return c_(s),new Ft(t,null,new be(s))}{if(!(t instanceof Ft||t instanceof Vr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(rt.fromString(e,...n));return c_(s),new Ft(t.firestore,t instanceof Vr?t.converter:null,new be(s))}}const Z_="AsyncQueue";class e1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qS(this,"async_queue_retry"),this._c=()=>{const s=Qp();s&&me(Z_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Qp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fl(e))throw e;me(Z_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ls("INTERNAL UNHANDLED ERROR: ",t1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=t0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Te(47125,{Pc:t1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function t1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class vu extends Af{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new e1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e1(e),this._firestoreClient=void 0,await e}}}function wM(t,e){const n=typeof t=="object"?t:iE(),s=typeof t=="string"?t:Hd,a=Ty(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Vj("firestore");l&&bM(a,...l)}return a}function lA(t){if(t._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_M(t),t._firestoreClient}function _M(t){const e=t._freezeSettings(),n=vM(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(rn.fromBase64String(e))}catch(n){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ni(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Lt("string",ni._jsonSchemaVersion),bytes:Lt("string")};class a0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nf{constructor(e){this._methodName=e}}class as{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:as._jsonSchemaVersion}}static fromJSON(e){if(mu(e,as._jsonSchema))return new as(e.latitude,e.longitude)}}as._jsonSchemaVersion="firestore/geoPoint/1.0",as._jsonSchema={type:Lt("string",as._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class Si{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,Si._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Si(e.vectorValues);throw new fe(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Lt("string",Si._jsonSchemaVersion),vectorValues:Lt("object")};const TM=/^__.*__$/;class EM{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class cA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new $r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:t})}}class o0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new o0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Jd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uA(this.dataSource)&&TM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class SM{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Tf(e)}createContext(e,n,s,a=!1){return new o0({dataSource:e,methodName:n,targetDoc:s,path:sn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function l0(t){const e=t._freezeSettings(),n=Tf(t._databaseId);return new SM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AM(t,e,n,s,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);u0("Data must be an object, but it was:",u,s);const f=hA(s,u);let p,y;if(l.merge)p=new Ln(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const w of l.mergeFields){const T=nl(e,w,n);if(!u.contains(T))throw new fe(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);mA(x,T)||x.push(T)}p=new Ln(x),y=u.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,y=u.fieldTransforms;return new EM(new Rn(f),p,y)}class Rf extends Nf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rf}}class c0 extends Nf{_toFieldTransform(e){return new c4(e.path,new Xc)}isEqual(e){return e instanceof c0}}function NM(t,e,n,s){const a=t.createContext(1,e,n);u0("Data must be an object, but it was:",a,s);const l=[],u=Rn.empty();Gr(s,((p,y)=>{const x=fA(e,p,n);y=Yt(y);const w=a.childContextForFieldPath(x);if(y instanceof Rf)l.push(x);else{const T=bu(y,w);T!=null&&(l.push(x),u.set(x,T))}}));const f=new Ln(l);return new cA(u,f,a.fieldTransforms)}function RM(t,e,n,s,a,l){const u=t.createContext(1,e,n),f=[nl(e,s,n)],p=[a];if(l.length%2!=0)throw new fe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(nl(e,l[T])),p.push(l[T+1]);const y=[],x=Rn.empty();for(let T=f.length-1;T>=0;--T)if(!mA(y,f[T])){const I=f[T];let D=p[T];D=Yt(D);const B=u.childContextForFieldPath(I);if(D instanceof Rf)y.push(I);else{const U=bu(D,B);U!=null&&(y.push(I),x.set(I,U))}}const w=new Ln(y);return new cA(x,w,u.fieldTransforms)}function CM(t,e,n,s=!1){return bu(n,t.createContext(s?4:3,e))}function bu(t,e){if(dA(t=Yt(t)))return u0("Unsupported field value:",e,t),hA(t,e);if(t instanceof Nf)return(function(s,a){if(!uA(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const f of s){let p=bu(f,a.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return a4(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ct.fromDate(s);return{timestampValue:Yd(a.serializer,l)}}if(s instanceof ct){const l=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yd(a.serializer,l)}}if(s instanceof as)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ni)return{bytesValue:IS(a.serializer,s._byteString)};if(s instanceof Ft){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$y(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Si)return(function(u,f){const p=u instanceof Si?u.toArray():u;return{mapValue:{fields:{[rS]:{stringValue:aS},[Gd]:{arrayValue:{values:p.map((x=>{if(typeof x!="number")throw f.createError("VectorValues must only contain numeric values.");return Fy(f.serializer,x)}))}}}}}})(s,a);if(LS(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${mf(s)}`)})(t,e)}function hA(t,e){const n={};return ZE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gr(t,((s,a)=>{const l=bu(a,e.childContextForField(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function dA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof as||t instanceof ni||t instanceof Ft||t instanceof Nf||t instanceof Si||LS(t))}function u0(t,e,n){if(!dA(n)||!XE(n)){const s=mf(n);throw s==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+s)}}function nl(t,e,n){if((e=Yt(e))instanceof a0)return e._internalPath;if(typeof e=="string")return fA(t,e);throw Jd("Field path arguments must be of type string or ",t,!1,void 0,n)}const jM=new RegExp("[~\\*/\\[\\]]");function fA(t,e,n){if(e.search(jM)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new a0(...e.split("."))._internalPath}catch{throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jd(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${s}`),u&&(p+=` in document ${a}`),p+=")"),new fe(re.INVALID_ARGUMENT,f+t+p)}function mA(t,e){return t.some((n=>n.isEqual(e)))}class IM{convertValue(e,n="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Gr(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[Gd].arrayValue?.values?.map((s=>St(s.doubleValue)));return new Si(n)}convertGeoPoint(e){return new as(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=yf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const n=Ur(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);We(OS(s),9688,{name:e});const a=new Yc(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(n)||Ls(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class kM extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function n1(){return new c0("serverTimestamp")}const i1="@firebase/firestore",s1="4.11.0";class pA{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(nl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DM extends pA{data(){return super.data()}}function PM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class h0{}class gA extends h0{}function MM(t,e,...n){let s=[];e instanceof h0&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((p=>p instanceof f0)).length,f=l.filter((p=>p instanceof d0)).length;if(u>1||u>0&&f>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class d0 extends gA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new d0(e,n,s)}_apply(e){const n=this._parse(e);return yA(e._query,n),new za(e.firestore,e.converter,Ig(e._query,n))}_parse(e){const n=l0(e.firestore);return(function(l,u,f,p,y,x,w){let T;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){a1(w,x);const D=[];for(const B of w)D.push(r1(p,l,B));T={arrayValue:{values:D}}}else T=r1(p,l,w)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||a1(w,x),T=CM(f,u,w,x==="in"||x==="not-in");return Ot.create(y,x,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class f0 extends h0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new f0(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)yA(u,p),u=Ig(u,p)})(e._query,n),new za(e.firestore,e.converter,Ig(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class m0 extends gA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new m0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new fe(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(l,u)})(e._query,this._field,this._direction);return new za(e.firestore,e.converter,JP(e._query,n))}}function VM(t,e="asc"){const n=e,s=nl("orderBy",t);return m0._create(s,n)}function r1(t,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pS(e)&&n.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!be.isDocumentKey(s))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return x_(t,new be(s))}if(n instanceof Ft)return x_(t,n._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mf(n)}.`)}function a1(t,e){if(!Array.isArray(t)||t.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yA(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function OM(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class od{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $o extends pA{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(nl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$o._jsonSchemaVersion="firestore/documentSnapshot/1.0",$o._jsonSchema={type:Lt("string",$o._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Sd extends $o{data(e={}){return super.data(e)}}class Ko{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new od(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Sd(this._firestore,this._userDataWriter,s.key,s,new od(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new Sd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new od(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Sd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new od(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,x=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:LM(f.type),doc:p,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:Lt("string",Ko._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function UM(t){t=Oa(t,za);const e=Oa(t.firestore,vu),n=lA(e),s=new kM(e);return PM(t._query),gM(n,t._query).then((a=>new Ko(e,s,t,a)))}function BM(t,e,n,...s){t=Oa(t,Ft);const a=Oa(t.firestore,vu),l=l0(a);let u;return u=typeof(e=Yt(e))=="string"||e instanceof a0?RM(l,"updateDoc",t._key,e,n,s):NM(l,"updateDoc",t._key,e),p0(a,[u.toMutation(t._key,Ei.exists(!0))])}function zM(t){return p0(Oa(t.firestore,vu),[new qy(t._key,Ei.none())])}function FM(t,e){const n=Oa(t.firestore,vu),s=Fg(t),a=OM(t.converter,e),l=l0(t.firestore);return p0(n,[AM(l,"addDoc",s._key,a,t.converter!==null,{}).toMutation(s._key,Ei.exists(!1))]).then((()=>s))}function p0(t,e){const n=lA(t);return yM(n,e)}(function(e,n=!0){dP(ll),Wo(new Da("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new vu(new pP(s.getProvider("auth-internal")),new xP(u,s.getProvider("app-check-internal")),MP(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),kr(i1,s1,e),kr(i1,s1,"esm2020")})();const qM={apiKey:"AIzaSyDRenQjyt9gknve6tUItfUnaGjfoEZx-8s",authDomain:"book-site-123.web.app",projectId:"book-site-123",storageBucket:"book-site-123.firebasestorage.app",messagingSenderId:"176157090689",appId:"1:176157090689:web:107f25429239f25ffd7e80"},xA=nE(qM),Or=uP(xA),ld=wM(xA),HM=new ts;AE(Or,ky).catch(t=>console.error("Persistence error:",t));const GM=async()=>(await AE(Or,ky),ED(Or,HM)),$M=()=>eD(Or),ja=[{id:"bill-gates",name:"Bill Gates",role:"Technical Advisor",image:"/images/celebrities/bill-gates.jpg",readingNow:"The Song of the Cell",intro:"         .   50   ,      'GatesNotes'  .",quote:"     .",stats:{books:154,categories:12,time:"18h"},books:[{title:"",author:" ",cover:"/images/covers/sapiens.jpg",desc:"    .    .",review:`  <>         .         ,               .      ,  ,  ,         . 

   ' '    .  7  ,            .        '  ' . , , , , ...              .       ,      ,         .             .              .   '  '     .

      .   ' '   ' '     . , ,    , , ,        .           .         ,            .                  .         .

   ' '    .   ,    '  ' .         ,   ,     .    ,             .       ,          .        ,     .          ,       .   ,      .

    ,     .        ,       .      ,             .       ,        .  '  ' ' '     .                .

   ' ' , ,            .  ''   .             ,        .                .          .     ,            .         .

    ,         . , ,      ,  , ,      .       ,      .   .              .     ,          .

 ' '     .  ,        ,       ''     . , ,        ?  .   40      ' '   .    ,          ?  . "  ?" , "     ,         ?" .

    ''  .        ,          .       ,          .     ,      .         ?       ,         .

                   . <>   ,                  .          ,              .        ,              .

 ,       .      ,            ?          ,     .            .       ,            ''   .           ,              .

   ''    .    ,       .      .          ? <>    ,          .        ,            .

     '()'    .  ,  ,   ...         .         ?  , ,     ''    ?              .            .

     ,     .          ?      .       ,         .     ,                 .                 .

      , <>.        ,          . 7        ,        .       ,       . ,      .           ?        .`,source:"GatesNotes: Summer Reading 2016",price:"22,000",category:""},{title:"",author:" ",cover:"/images/covers/factfulness.jpg",desc:"     .",review:`  ''          .           ,               .          (Fact)       .

     10   .    ' '   ' ' ' '    .  4                .           .

  ' '          .    ,      .        .   ,    20  ,    . "  "        .

 ' ', ' ', ' '          .      ,        ,             .     ,      .

           .     ,          .         ,    ( ,  ,  )            .

         .   .  ,     .          '' .    ,              . ,      '  '   .

  ' '   .                .          ' '  ,  ''    ''        .         .

' ' '  '   .          .               .          .      ' '  .

 ' ' ' '          ,            .      ,            .       ,     .

 ''              .        ,        . 10,000       . "   .    ,        ."

     ,          .        e-book  .           .      ,     .        .`,source:"GatesNotes: Summer Reading 2018",price:"19,800",category:""},{title:" ",author:" ",cover:"/images/covers/b_03.jpg",desc:"    ?  .",source:"GatesNotes: Summer Reading 2017",price:"22,000",category:""},{title:"21  21 ",author:" ",cover:"/images/covers/b_04.jpg",desc:"      .",source:"GatesNotes: Summer Reading 2018",price:"22,000",category:""},{title:"  8 ",author:" ",cover:"/images/covers/b_06.jpg",desc:"     .",source:"GatesNotes: Recommended / Interviews",price:"22,000",category:""},{title:" ",author:" ",cover:"/images/covers/b_07.jpg",desc:"       .",source:"GatesNotes: Summer Reading 2019",price:"16,000",category:""},{title:"    ",author:" ",cover:"/images/covers/b_08.jpg",desc:"     .",source:"GatesNotes: Winter Reading 2019",price:"18,000",category:""},{title:" ",author:" ",cover:"/images/covers/b_09.jpg",desc:"AI      .",source:"GatesNotes: Summer Reading 2021",price:"17,000",category:""},{title:" ",author:" ",cover:"/images/covers/b_10.jpg",desc:"    .",source:"GatesNotes: Holiday Books 2021",price:"18,500",category:"SF"},{title:"",author:" ",cover:"/images/covers/rm_01.jpg",desc:"      .",review:`  ''      '     '    .           ,       .       ,              .

  ''    .     . "      ".    (Work Hard)   (Work Smart)   .           ,           .

   'V.V.I.P.' (Value, Vision, Income, Property)           .            ?         ?       .              .     ,           .

  ' '   .    ,     .       ,        .            . 800        ,    '',          .

       . (Compound Interest)       . , ,       .     '(Property)'      .  ,  , ,     ,          .

            .   '  ' ,          .          .     ,       .

  ''      .          .        .    .         .            .

,  ''   .          .        ,        .      ,       .

 e-book   ''    .    .        .       ,         .         ,     .

10,000         (Map)   .     ,    ''    .   ,    ?       .`,price:"18,000",category:"/"},{title:"",author:" ",cover:"/images/covers/one_01.jpg",desc:"       .",review:`  ''                  .       , ''          . "      ,             ?"          .

 ''     .    .  ,      .       ,   ' '      .         ,           .

   ' (Focusing Question)'     .    , ,  , ,      .   "     ?"  ,           . 800        ,           .

        . '   ', '  ', '   '           .       ,            .    4   ' '            .

''    ''    .    ,     ''  .           ,      .          ''   .

              .         ,        '' .      .        .        .

   '' '',  ''     .          ,        .    ' '  ,          .

 e-book  ''      .       .       ,            .

10,000          '  '  .   ,         .      ,   '' .         '  ' ?     .   .`,price:"16,000",category:""}]},{id:"elon-musk",name:"Elon Musk",role:"CEO of Tesla & SpaceX",image:"/images/celebrities/elon-musk.jpg",readingNow:"The Capitalist Manifesto",intro:"SpaceX Tesla CEO.   ,        .",quote:"  .     .",stats:{books:62,categories:5,time:"10h"},books:[{title:"",author:" ",cover:"/images/covers/e_01.jpg",desc:"      SF .",source:"Rolling Stone Interview (2017)",price:"18,000",category:"SF"},{title:"",author:" ",cover:"/images/covers/e_02.jpg",desc:"AI       .",source:"Twitter (@elonmusk) - 2014.08.03",price:"25,000",category:""},{title:"    ",author:" ",cover:"/images/covers/e_03.jpg",desc:"     SF.",source:"Fresh Air Interview (NPR) - 2013",price:"15,000",category:"SF"},{title:"  ",author:" ",cover:"/images/covers/e_05.jpg",desc:"  .  .",source:"Book Blurb ()",price:"16,000",category:""},{title:"   ",author:" ",cover:"/images/covers/e_06.jpg",desc:"    .",source:"Foundation 20 Interview (2012)",price:"25,000",category:""},{title:"   ",author:" ",cover:"/images/covers/e_07.jpg",desc:"  .    .",source:"Twitter (@elonmusk) - 2011.10.19",price:"45,000",category:""}]},{id:"rm-bts",name:" (RM)",role:"Artist (BTS)",image:"/images/celebrities/rm-bts.jpg",readingNow:"The Unbearable Lightness of Being",intro:"  BTS .      '', ''       .",quote:"        .",stats:{books:180,categories:8,time:"15h"},books:[{title:"",author:" ",cover:"/images/covers/demian.jpg",desc:"BTS '  '      .",review:`  ''     ,         . BTS RM        '     ' ,         .            ''     .

              .             ,        .       ,          .       ,        .

'    .  .       .'        .  ''           .                .  1            .

    ,         .       ,           .        ,           .

     ,                 .        ,        .              .

       '   ,     '      .     ,          .             .

        ''   .      .      ,          . RM         '  ,      '  ?

  ''              .         ,        .     ?      ,        ?      ,        .

 ,            .           ,        .       ,        .   ''   .

         .      ,    .           .     ,       ,      .

,       .       ,         .    ,                 . BTS             . 

            .              .     , ''    .            .`,source:"WINGS Album Concept (2016)",price:"8,000",category:""},{title:"",author:"",cover:"/images/covers/almond.jpg",desc:"      .",review:`  ''   ()     ,    '' ''    . RM                  .          ,        .

    ,  ''    .   '  '       ,       .      ,       .    '' ''      .

   ,      .         .            ,             .            ,       .

   ''    .     ''   .           .     . "  ?       ?" 800          .        ,        .

 (  )  '' ''  .     ,      .        .     ,      ''     .        ,          .

     ''    .      ,     .     ,    .          .        ,          .

  ''       .     ,           .   ,            .        .

 ,          .        ,      ' '    .             .         ,           .

      ,               '' ''  . 10,000        ,   ''         .

   ''   .      ,         .  e-book        .          .`,source:"JTBC 'In the SOOP' Season 1 (2020)",price:"12,000",category:""},{title:"    ",author:" ",cover:"/images/covers/lightness.jpg",desc:"     .",source:"V LIVE (2017.11.02)",price:"15,000",category:""},{title:"  ( )",author:" ",cover:"/images/covers/r_04.jpg",desc:"     .",source:"V LIVE (2017)",price:"16,800",category:""},{title:"",author:"",cover:"/images/covers/vegetarian.jpg",desc:" .    .",source:"V LIVE / Fancafe Recommendation",price:"13,500",category:""},{title:" ",author:"",cover:"/images/covers/human_acts.jpg",desc:" 5    .",source:"Fancafe Recommendation",price:"13,500",category:""},{title:"",author:" ",cover:"/images/covers/r_07.jpg",desc:"    .",source:"V LIVE (2016)",price:"9,000",category:""},{title:"1984",author:" ",cover:"/images/covers/1984.jpg",desc:"     .",review:`  '1984'        ,             .   ' '         ,           .        ,               .

  '' ''             . " ,  ,  "     ,          ' '   . (Newspeak)     .           ,             .

         . "  "    ,           .       ,            .        , '    ,     '   .

         ,    '' ''      .        ,  101       .          "   !"  ,      .             .

         ,            .            ,     .      '()'  .     ,           .

  ''       . 1984   ,             .                .          .       ,         .

    "   "            .     ''       .       ,   ,          .

      ,            .           (2  )       .            21      .

             .   "   "  ,               .               .

 '1984'            ''   .  ,  ,   .            .               . 70        ,     .          , '1984'      .

 1984    ,      '' ''     .            .           .    ,     .           .`,source:"Interview (KBS News 9, 2020)",price:"9,500",category:""},{title:" ",author:"J.D. ",cover:"/images/covers/catcher_in_the_rye.jpg",desc:"     .",source:"Fancafe Recommendation",price:"10,800",category:""}]},{id:"han-kang",name:"Han Kang",role:"Nobel Laureate Author",image:"/images/celebrities/han-kang.jpg",readingNow:"The White Book",intro:"2024   .            .",quote:"   .",stats:{books:1200,categories:3,time:"28h"},books:[{title:"",author:"",cover:"/images/covers/vegetarian.jpg",desc:"  .        .",review:`2024       ''     ,        .         ,           .      ,           .

 '', '', ' '         .             .         ,          .    ,    ,       .                .

          .         ,  ''       .       ,            .               .

           .             .   ,   ,             .            .

       ''   .    ?          ?            .            () .

 ''        .        ,     .          ,          .     ,      .

       ,          .   ''    ,      . ''            .       ,           .

    ,        .          .      .      ,        ?      ,          .

      ,               .         ,    ''     . 10,000               .      ,   .`,source:"The Vegetarian (Published 2007)",price:"13,500",category:""},{title:" ",author:"",cover:"/images/covers/human_acts.jpg",desc:"5.18       .",review:` ' ' 1980     ,         .       ,            . 

 '' ''     ,          .           ,        .         ,  ,    .     ''  .            ,                . ,             .`,source:"Human Acts (Published 2014)",price:"13,500",category:""},{title:"",author:"",cover:"/images/covers/h_02.jpg",desc:" ,     .",source:"The White Book (Published 2016)",price:"13,000",category:""},{title:" ",author:"",cover:"/images/covers/h_03.jpg",desc:" 4.3     .",source:"We Do Not Part (Published 2021)",price:"14,000",category:""}]},{id:"steve-jobs",name:"Steve Jobs",role:"Co-founder of Apple",image:"/images/celebrities/steve-jobs.jpg",readingNow:"Autobiography of a Yogi",intro:" .            .",quote:" ,  . (Stay Hungry, Stay Foolish)",stats:{books:55,categories:4,time:""},books:[{title:"",author:" ",cover:"/images/covers/s_01.jpg",desc:"       .",source:"Steve Jobs by Walter Isaacson",price:"12,000",category:""},{title:"  ",author:" ",cover:"/images/covers/s_02.jpg",desc:"    .",source:"Steve Jobs by Walter Isaacson",price:"18,000",category:""},{title:" ",author:" ",cover:"/images/covers/s_03.jpg",desc:"     .",source:"   (Walter Isaacson)",price:"22,000",category:""},{title:" ",author:" ",cover:"/images/covers/s_04.jpg",desc:"     .",source:"   (Walter Isaacson)",price:"8,000",category:""}]},{id:"mark-zuckerberg",name:"Mark Zuckerberg",role:"CEO of Meta",image:"/images/celebrities/mark-zuckerberg.jpg",readingNow:"The Beginning of Infinity",intro:"(Meta) . 2015 'A Year of Books'   2       .",quote:"          .",stats:{books:85,categories:9,time:"9h"},books:[{title:"   ",author:" ",cover:"/images/covers/ju_02.jpg",desc:"      .",source:"A Year of Books (2015)",price:"45,000",category:""},{title:"",author:" ",cover:"/images/covers/sapiens.jpg",desc:"   .",source:"A Year of Books (2015)",price:"22,000",category:""},{title:"  ",author:" ",cover:"/images/covers/ju_01.jpg",desc:"    .",source:"A Year of Books (2015)",price:"25,000",category:""}]},{id:"barack-obama",name:"Barack Obama",role:"44th U.S. President",image:"/images/celebrities/barack-obama.jpg",readingNow:"The Wager",intro:" 44 .         ,     .",quote:"   ,  .",stats:{books:320,categories:15,time:"12h"},books:[{title:" ",author:" ",cover:"/images/covers/bo_01.jpg",desc:"    .",source:"Authored by Barack Obama (2020)",price:"33,000",category:""},{title:"",author:"",cover:"/images/covers/bo_02.jpg",desc:"   SF  .",source:"New York Times Interview (2017)",price:"16,800",category:"SF"},{title:", ",author:" ",cover:"/images/covers/bo_03.jpg",desc:"   .",source:"Obama's Summer Reading List (2015)",price:"13,800",category:""},{title:"",author:" ",cover:"/images/covers/sapiens.jpg",desc:"     .",source:"CNN 'Fareed Zakaria GPS' Interview (2016)",price:"22,000",category:""}]},{id:"oprah-winfrey",name:"Oprah Winfrey",role:"Media Executive",image:"/images/celebrities/oprah-winfrey.jpg",readingNow:"The Covenant of Water",intro:"   ' '   .      ' ' .",quote:"           .",stats:{books:860,categories:8,time:"24h"},books:[{title:"",author:" ",cover:"/images/covers/o_01.jpg",desc:"    .",source:"Oprah's Book Club (Nov 2018)",price:"24,000",category:""},{title:" ",author:" ",cover:"/images/covers/o_02.jpg",desc:"  .  ,    .",source:"Oprah's Book Club (Aug 2016)",price:"16,500",category:""},{title:"   ",author:" ",cover:"/images/covers/o_03.jpg",desc:"    .",source:"Authored by Oprah Winfrey (2014)",price:"14,800",category:""},{title:"",author:" ",cover:"/images/covers/o_04.jpg",desc:"    PCT  .",source:"Oprah's Book Club (Jun 2012)",price:"15,000",category:""},{title:" ",author:" ",cover:"/images/covers/o_05.jpg",desc:"    .",source:"Oprah's Favorite Books (Essence Magazine)",price:"11,500",category:""}]},{id:"warren-buffett",name:"Warren Buffett",role:"CEO of Berkshire Hathaway",image:"/images/celebrities/warren-buffett.jpg",readingNow:"The Intelligent Investor",intro:" .   80%  ,     .",quote:"  .",stats:{books:500,categories:3,time:"16h"},books:[{title:" ",author:" ",cover:"/images/covers/w_01.jpg",desc:" '   '   .",source:" ",price:"25,000",category:""},{title:"",author:" ",cover:"/images/covers/w_02.jpg",desc:"    .",source:" ",price:"38,000",category:""}]},{id:"tim-cook",name:"Tim Cook",role:"CEO of Apple",image:"/images/celebrities/tim-cook.jpg",readingNow:"Trillion Dollar Coach",intro:"  CEO.        1   .     .",quote:"     .",stats:{books:90,categories:5,time:"6h"},books:[{title:" ",author:" ",cover:"/images/covers/c_01.jpg",desc:"       .",source:"GQ Interview (2016) / Independent",price:"11,500",category:""},{title:"",author:" ",cover:"/images/covers/c_02.jpg",desc:"     .",source:"Time 100 Summit (2019)",price:"19,800",category:""}]},{id:"stephen-king",name:"Stephen King",role:"Author",image:"/images/celebrities/stephen-king.jpg",readingNow:"The Passenger",intro:"   .     ,     .",quote:"  ,   ( )  .",stats:{books:2e3,categories:10,time:"30h"},books:[{title:"",author:" ",cover:"/images/covers/k_01.jpg",desc:"     .",source:"Top 10 Books List (Reddit AMA)",price:"10,000",category:""},{title:"1984",author:" ",cover:"/images/covers/1984.jpg",desc:"    .",source:"Top 10 Books List (Reddit AMA)",price:"9,500",category:""}]},{id:"haruki-murakami",name:"Haruki Murakami",role:"Author",image:"/images/celebrities/haruki-murakami.jpg",readingNow:"The Great Gatsby",intro:"   .  ,         .",quote:"      ,        .",stats:{books:1500,categories:5,time:"25h"},books:[{title:" ",author:"F.  ",cover:"/images/covers/m_01.jpg",desc:"       .",review:`  "   "  ' ',             .         ,                 .

      ' '    ,         .            ,      .  1920     , ' '      . 

       ,       '     '  .        ,            .    ,     ' ' ,          .`,source:"Essay: 'The Great Gatsby and I'",price:"11,000",category:""},{title:" ",author:"J.D. ",cover:"/images/covers/catcher_in_the_rye.jpg",desc:"   ,   .",source:"Essay: Translating Salinger",price:"10,800",category:""}]},{id:"brene-brown",name:"Bren Brown",role:"Researcher & Author",image:"/images/celebrities/brene-brown.jpg",readingNow:"Atlas of the Heart",intro:", , ,    . TED     ,     .",quote:"    ,      .",stats:{books:300,categories:4,time:"12h"},books:[{title:" ",author:" ",cover:"/images/covers/bb_01.jpg",desc:"      .",source:"Podcast: Unlocking Us (2020)",price:"14,400",category:""},{title:"",author:" ",cover:"/images/covers/bb_02.jpg",desc:"      .",source:"Tim Ferriss Show Interview (2015)",price:"12,000",category:""}]},{id:"michelle-obama",name:"Michelle Obama",role:"Former First Lady",image:"/images/celebrities/michelle-obama.jpg",readingNow:"The Light We Carry",intro:"   , . ''         .",quote:"     .",stats:{books:280,categories:6,time:"10h"},books:[{title:" ",author:" ",cover:"/images/covers/mo_01.jpg",desc:"     ,    .",source:"New York Times: By the Book (2018)",price:"16,000",category:""},{title:" ",author:" ",cover:"/images/covers/mo_02.jpg",desc:"      .",source:"New York Times: By the Book (2018)",price:"13,500",category:""}]},{id:"iu",name:" (IU)",role:"Singer & Actress",image:"/images/celebrities/iu.jpg",readingNow:"The Brothers Karamazov",intro:"   .   ,      .",quote:"    ,   .",stats:{books:140,categories:6,time:"7h"},books:[{title:" ",author:" ",cover:"/images/covers/i_01.jpg",desc:"        .",source:"JTBC 'Hyori's Homestay' (2017)",price:"9,000",category:""},{title:"  ",author:"",cover:"/images/covers/i_02.jpg",desc:"     .",source:"JTBC 'Hyori's Homestay' (2017)",price:"13,000",category:""},{title:"",author:" ",cover:"/images/covers/demian.jpg",desc:"    .",source:"KBS Drama 'The Producers' (2015)",price:"8,000",category:""},{title:" ...",author:" ",cover:"/images/covers/i_05.jpg",desc:"     .",source:"KBS Cool FM 'IU's Good Day' (2011)",price:"11,000",category:""},{title:" ",author:"",cover:"/images/covers/i_06.jpg",desc:"  .",source:"Instagram Story (2019)",price:"11,000",category:""},{title:" ",author:"",cover:"/images/covers/i_07.jpg",desc:"     .",source:"Instagram Story (2019)",price:"13,000",category:""}]},{id:"masayoshi-son",name:"Masayoshi Son",role:"CEO of SoftBank",image:"/images/celebrities/masayoshi-son.jpg",readingNow:"Ryoma ga Yuku",intro:"  .        ,     .",quote:"  .    .",stats:{books:1e3,categories:5,time:"5h"},books:[{title:" ",author:" ",cover:"/images/covers/sj_01.jpg",desc:"      .",source:"SoftBank Academia Lecture (2010)",price:"12,000",category:""},{title:" ",author:"",cover:"/images/covers/son_square_ok.jpg",desc:"     .",source:"Authored by Masayoshi Son",price:"14,000",category:""}]},{id:"jeff-bezos",name:"Jeff Bezos",role:"Founder of Amazon",image:"/images/celebrities/jeff-bezos.jpg",readingNow:"The Remains of the Day",intro:"    .          .",quote:"  3     .",stats:{books:42,categories:6,time:"11h"},books:[{title:"  ",author:" ",cover:"/images/covers/bj_01.jpg",desc:"   ,      .",source:"Newsweek Interview (2009)",price:"15,000",category:""},{title:"  8 ",author:" ",cover:"/images/covers/bj_02.jpg",desc:"   'Flywheel'   .",source:"Fast Company Interview (2001)",price:"22,000",category:""}]},{id:"emma-watson",name:"Emma Watson",role:"Actress & Activist",image:"/images/celebrities/emma-watson.jpg",readingNow:"A Thousand Splendid Suns",intro:"   UN  .  'Our Shared Shelf'       .",quote:"       .",stats:{books:210,categories:7,time:"14h"},books:[{title:" ",author:"",cover:"/images/covers/em_01.jpg",desc:"  ,    .",source:"Time Interview (2010)",price:"10,000",category:""},{title:"   ",author:" ",cover:"/images/covers/em_02.jpg",desc:"     .",source:"Our Shared Shelf (Jan 2018)",price:"16,000",category:""}]},{id:"friedrich-nietzsche",name:"Friedrich Nietzsche",role:"Philosopher",image:"https://images.unsplash.com/photo-1590086782957-93c06ef21604?q=80&w=2000&auto=format&fit=crop",readingNow:"The Will to Power",intro:"19     .       ''       .",quote:"       .",stats:{books:12,categories:1,time:""},books:[{id:"ubermensch",title:"",author:" ",cover:"/images/covers/wm_01.jpg",desc:"  ,    .",review:`         <(bermensch)>    ,               . ''    ,     '     '   .     <  >    10,000    ,              .

1.    
      ' '   .         .       ,  ,          .       (Nihilism). "   ?      ?"   ,       .         .     ,        .

2.   : , ,  
        .   '' .  "  "      .   , ,        .         . 
  '' .  "  "     .   '  '     .          . 
  ''.    .     .     ,        ,    .

3.  (Will to Power):   
    ' '.     ,        .         .    ,      ' '.     .     "    ?".        ,   ( )   ( )  .

4.  (Eternal Recurrence):   
      ' ' .      ,   ,           ?    "  " .     ",  !"       .         .      ,      .

5.  (Amor Fati):   
  ' ',  () .      .       ,      .         .       .           .           ,        .

6.    
   ,       .    ,      ,        ,        . "   .   .  !"  ,                . 

7.    
      <>       .      ,   .         ,          . 10,000      ,               ?  . "      .     ."         .  e-book      .`,source:"Friedrich Nietzsche, Thus Spoke Zarathustra",price:"18,000",category:""}]},{id:"archide-editors",name:"Archiview Editors",role:"Editorial Team",image:"https://images.unsplash.com/photo-1548048026-5a1a941d93d3?q=80&w=2000&auto=format&fit=crop",readingNow:" ",intro:"     .    ,        .",quote:"    .",stats:{books:120,categories:10,time:"24h"},books:[{title:" ",author:"",cover:"/images/covers/say_01.jpg",desc:"         .",review:`        < >,  '(Say No,      )'    20      .           .       ,            .    10,000    ,             .

1.   :   ?
       ,       '' .      ' '  .  ,  ,   ,           .  " " .    ,        .        ,      ' '    .      ' '   .             .

2.   :    
 '   '    '' .      ,          .           .     ,       ' '    .  " " .   ,          .  ,  ,               ,       .  '    '   ,            .

3.    : 1  ?
      .           . TV            .          .  ''    .      ,          .      .        5 , 10          .     ' '  .            .

4.   :      
     .       '  '  .   ,    ,       .  ''    .         .      .         ,          .    ,              . 1            .  ''        .

5.   :    
 ,    .  "  " .   ,   ,    .              .    ' '    .         .          ,      .   ,          .       ''   .

6.   :    
    , , ,       . "  "  ,        .          .          .         .  , ,      .        .    3         .        .

7.     :   ''
 < >     "   ?".             .           .  e-book       ,       .            .      ,             .     "Say No"  .  ,  ,     .             .      ,            .         .`,source:"Sayno's Private Archives",price:"0",category:""},{title:" ",author:" ",cover:"/images/covers/don_01.jpg",desc:"       20  .",review:`         < >,          .      ,     '(How)'     ,    '(Psychology)'     .      ,   ,           .   10,000   ,      ,              .

1.      :   
     .            ,            .          '(Behavior)'   .          '  '   .     , , ,     .        ,      '  '  .  ,       .

2.    :    
      ,    .        .           '',          ''  .        ,            .               .

3.    '' :  
     '    '.       .             .     "        " .         .  '(Enough)'            .               .

4.    :    
     90%   65  .          ,      ' '  .      .         .         '   ' ,            .     ,   .

5.    vs   :  
        .       ,     '  ' .   ' '  .             .      ,     ' '  .     ,        .          .

6.  :   
    .            .   ' (Margin of Safety)'. 100%      70%     ,          .       ,             .      ,     .

7.    :     
     '   ,    ,      '.     ,     .              .  e-book      ,               .          .        ,           .

8. :     
              .         .      ,     .     '' ,       .                 .   .`,source:"Morgan Housel, The Psychology of Money",price:"19,800",category:"/"}]}],g0=P.createContext({});function y0(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const vA=typeof window<"u",bA=vA?P.useLayoutEffect:P.useEffect,Cf=P.createContext(null);function x0(t,e){t.indexOf(e)===-1&&t.push(e)}function Zd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const us=(t,e,n)=>n>e?e:n<t?t:n;let v0=()=>{};const Bs={},wA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _A(t){return typeof t=="object"&&t!==null}const TA=t=>/^0[^.\s]+$/u.test(t);function EA(t){let e;return()=>(e===void 0&&(e=t()),e)}const si=t=>t,KM=(t,e)=>n=>e(t(n)),wu=(...t)=>t.reduce(KM),eu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class b0{constructor(){this.subscriptions=[]}add(e){return x0(this.subscriptions,e),()=>Zd(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ai=t=>t*1e3,ii=t=>t/1e3;function SA(t,e){return e?t*(1e3/e):0}const AA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,YM=1e-7,WM=12;function QM(t,e,n,s,a){let l,u,f=0;do u=e+(n-e)/2,l=AA(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>YM&&++f<WM);return u}function _u(t,e,n,s){if(t===e&&n===s)return si;const a=l=>QM(l,0,1,t,n);return l=>l===0||l===1?l:AA(a(l),e,s)}const NA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RA=t=>e=>1-t(1-e),CA=_u(.33,1.53,.69,.99),w0=RA(CA),jA=NA(w0),IA=t=>(t*=2)<1?.5*w0(t):.5*(2-Math.pow(2,-10*(t-1))),_0=t=>1-Math.sin(Math.acos(t)),kA=RA(_0),DA=NA(_0),XM=_u(.42,0,1,1),JM=_u(0,0,.58,1),PA=_u(.42,0,.58,1),ZM=t=>Array.isArray(t)&&typeof t[0]!="number",MA=t=>Array.isArray(t)&&typeof t[0]=="number",eV={linear:si,easeIn:XM,easeInOut:PA,easeOut:JM,circIn:_0,circInOut:DA,circOut:kA,backIn:w0,backInOut:jA,backOut:CA,anticipate:IA},tV=t=>typeof t=="string",o1=t=>{if(MA(t)){v0(t.length===4);const[e,n,s,a]=t;return _u(e,n,s,a)}else if(tV(t))return eV[t];return t},cd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nV(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(x){u.has(x)&&(y.schedule(x),t()),x(f)}const y={schedule:(x,w=!1,T=!1)=>{const D=T&&a?n:s;return w&&u.add(x),D.has(x)||D.add(x),x},cancel:x=>{s.delete(x),u.delete(x)},process:x=>{if(f=x,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,y.process(x))}};return y}const iV=40;function VA(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=cd.reduce((M,b)=>(M[b]=nV(l),M),{}),{setup:f,read:p,resolveKeyframes:y,preUpdate:x,update:w,preRender:T,render:I,postRender:D}=u,B=()=>{const M=Bs.useManualTiming?a.timestamp:performance.now();n=!1,Bs.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(M-a.timestamp,iV),1)),a.timestamp=M,a.isProcessing=!0,f.process(a),p.process(a),y.process(a),x.process(a),w.process(a),T.process(a),I.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(B))},U=()=>{n=!0,s=!0,a.isProcessing||t(B)};return{schedule:cd.reduce((M,b)=>{const E=u[b];return M[b]=(j,N=!1,A=!1)=>(n||U(),E.schedule(j,N,A)),M},{}),cancel:M=>{for(let b=0;b<cd.length;b++)u[cd[b]].cancel(M)},state:a,steps:u}}const{schedule:at,cancel:Hr,state:tn,steps:Jp}=VA(typeof requestAnimationFrame<"u"?requestAnimationFrame:si,!0);let Ad;function sV(){Ad=void 0}const gn={now:()=>(Ad===void 0&&gn.set(tn.isProcessing||Bs.useManualTiming?tn.timestamp:performance.now()),Ad),set:t=>{Ad=t,queueMicrotask(sV)}},OA=t=>e=>typeof e=="string"&&e.startsWith(t),LA=OA("--"),rV=OA("var(--"),T0=t=>rV(t)?aV.test(t.split("/*")[0].trim()):!1,aV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function l1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tu={...gl,transform:t=>us(0,1,t)},ud={...gl,default:1},Uc=t=>Math.round(t*1e5)/1e5,E0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oV(t){return t==null}const lV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,S0=(t,e)=>n=>!!(typeof n=="string"&&lV.test(n)&&n.startsWith(t)||e&&!oV(n)&&Object.prototype.hasOwnProperty.call(n,e)),UA=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,f]=s.match(E0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},cV=t=>us(0,255,t),Zp={...gl,transform:t=>Math.round(cV(t))},Ra={test:S0("rgb","red"),parse:UA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Zp.transform(t)+", "+Zp.transform(e)+", "+Zp.transform(n)+", "+Uc(tu.transform(s))+")"};function uV(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const qg={test:S0("#"),parse:uV,transform:Ra.transform},Tu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Er=Tu("deg"),os=Tu("%"),ge=Tu("px"),hV=Tu("vh"),dV=Tu("vw"),c1={...os,parse:t=>os.parse(t)/100,transform:t=>os.transform(t*100)},Vo={test:S0("hsl","hue"),parse:UA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+os.transform(Uc(e))+", "+os.transform(Uc(n))+", "+Uc(tu.transform(s))+")"},Vt={test:t=>Ra.test(t)||qg.test(t)||Vo.test(t),parse:t=>Ra.test(t)?Ra.parse(t):Vo.test(t)?Vo.parse(t):qg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ra.transform(t):Vo.transform(t),getAnimatableNone:t=>{const e=Vt.parse(t);return e.alpha=0,Vt.transform(e)}},fV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mV(t){return isNaN(t)&&typeof t=="string"&&(t.match(E0)?.length||0)+(t.match(fV)?.length||0)>0}const BA="number",zA="color",pV="var",gV="var(",u1="${}",yV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nu(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(yV,p=>(Vt.test(p)?(s.color.push(l),a.push(zA),n.push(Vt.parse(p))):p.startsWith(gV)?(s.var.push(l),a.push(pV),n.push(p)):(s.number.push(l),a.push(BA),n.push(parseFloat(p))),++l,u1)).split(u1);return{values:n,split:f,indexes:s,types:a}}function FA(t){return nu(t).values}function qA(t){const{split:e,types:n}=nu(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===BA?l+=Uc(a[u]):f===zA?l+=Vt.transform(a[u]):l+=a[u]}return l}}const xV=t=>typeof t=="number"?0:Vt.test(t)?Vt.getAnimatableNone(t):t;function vV(t){const e=FA(t);return qA(t)(e.map(xV))}const Ni={test:mV,parse:FA,createTransformer:qA,getAnimatableNone:vV};function eg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bV({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;a=eg(p,f,t+1/3),l=eg(p,f,t),u=eg(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function ef(t,e){return n=>n>0?e:t}const ft=(t,e,n)=>t+(e-t)*n,tg=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},wV=[qg,Ra,Vo],_V=t=>wV.find(e=>e.test(t));function h1(t){const e=_V(t);if(!e)return!1;let n=e.parse(t);return e===Vo&&(n=bV(n)),n}const d1=(t,e)=>{const n=h1(t),s=h1(e);if(!n||!s)return ef(t,e);const a={...n};return l=>(a.red=tg(n.red,s.red,l),a.green=tg(n.green,s.green,l),a.blue=tg(n.blue,s.blue,l),a.alpha=ft(n.alpha,s.alpha,l),Ra.transform(a))},Hg=new Set(["none","hidden"]);function TV(t,e){return Hg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function EV(t,e){return n=>ft(t,e,n)}function A0(t){return typeof t=="number"?EV:typeof t=="string"?T0(t)?ef:Vt.test(t)?d1:NV:Array.isArray(t)?HA:typeof t=="object"?Vt.test(t)?d1:SV:ef}function HA(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>A0(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function SV(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=A0(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function AV(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],f=t.values[u]??0;n[a]=f,s[l]++}return n}const NV=(t,e)=>{const n=Ni.createTransformer(e),s=nu(t),a=nu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Hg.has(t)&&!a.values.length||Hg.has(e)&&!s.values.length?TV(t,e):wu(HA(AV(s,a),a.values),n):ef(t,e)};function GA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ft(t,e,n):A0(t)(t,e)}const RV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>at.update(e,n),stop:()=>Hr(e),now:()=>tn.isProcessing?tn.timestamp:gn.now()}},$A=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},tf=2e4;function N0(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<tf;)e+=n,s=t.next(e);return e>=tf?1/0:e}function CV(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(N0(s),tf);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:ii(a)}}const jV=5;function KA(t,e,n){const s=Math.max(e-jV,0);return SA(n-t(s),e-s)}const vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ng=.001;function IV({duration:t=vt.duration,bounce:e=vt.bounce,velocity:n=vt.velocity,mass:s=vt.mass}){let a,l,u=1-e;u=us(vt.minDamping,vt.maxDamping,u),t=us(vt.minDuration,vt.maxDuration,ii(t)),u<1?(a=y=>{const x=y*u,w=x*t,T=x-n,I=Gg(y,u),D=Math.exp(-w);return ng-T/I*D},l=y=>{const w=y*u*t,T=w*n+n,I=Math.pow(u,2)*Math.pow(y,2)*t,D=Math.exp(-w),B=Gg(Math.pow(y,2),u);return(-a(y)+ng>0?-1:1)*((T-I)*D)/B}):(a=y=>{const x=Math.exp(-y*t),w=(y-n)*t+1;return-ng+x*w},l=y=>{const x=Math.exp(-y*t),w=(n-y)*(t*t);return x*w});const f=5/t,p=DV(a,l,f);if(t=Ai(t),isNaN(p))return{stiffness:vt.stiffness,damping:vt.damping,duration:t};{const y=Math.pow(p,2)*s;return{stiffness:y,damping:u*2*Math.sqrt(s*y),duration:t}}}const kV=12;function DV(t,e,n){let s=n;for(let a=1;a<kV;a++)s=s-t(s)/e(s);return s}function Gg(t,e){return t*Math.sqrt(1-e*e)}const PV=["duration","bounce"],MV=["stiffness","damping","mass"];function f1(t,e){return e.some(n=>t[n]!==void 0)}function VV(t){let e={velocity:vt.velocity,stiffness:vt.stiffness,damping:vt.damping,mass:vt.mass,isResolvedFromDuration:!1,...t};if(!f1(t,MV)&&f1(t,PV))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*us(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:vt.mass,stiffness:a,damping:l}}else{const n=IV(t);e={...e,...n,mass:vt.mass},e.isResolvedFromDuration=!0}return e}function nf(t=vt.visualDuration,e=vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:y,mass:x,duration:w,velocity:T,isResolvedFromDuration:I}=VV({...n,velocity:-ii(n.velocity||0)}),D=T||0,B=y/(2*Math.sqrt(p*x)),U=u-l,G=ii(Math.sqrt(p/x)),$=Math.abs(U)<5;s||(s=$?vt.restSpeed.granular:vt.restSpeed.default),a||(a=$?vt.restDelta.granular:vt.restDelta.default);let M;if(B<1){const E=Gg(G,B);M=j=>{const N=Math.exp(-B*G*j);return u-N*((D+B*G*U)/E*Math.sin(E*j)+U*Math.cos(E*j))}}else if(B===1)M=E=>u-Math.exp(-G*E)*(U+(D+G*U)*E);else{const E=G*Math.sqrt(B*B-1);M=j=>{const N=Math.exp(-B*G*j),A=Math.min(E*j,300);return u-N*((D+B*G*U)*Math.sinh(A)+E*U*Math.cosh(A))/E}}const b={calculatedDuration:I&&w||null,next:E=>{const j=M(E);if(I)f.done=E>=w;else{let N=E===0?D:0;B<1&&(N=E===0?Ai(D):KA(M,E,j));const A=Math.abs(N)<=s,R=Math.abs(u-j)<=a;f.done=A&&R}return f.value=f.done?u:j,f},toString:()=>{const E=Math.min(N0(b),tf),j=$A(N=>b.next(E*N).value,E,30);return E+"ms "+j},toTransition:()=>{}};return b}nf.applyToOptions=t=>{const e=CV(t,100,nf);return t.ease=e.ease,t.duration=Ai(e.duration),t.type="keyframes",t};function $g({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:y=.5,restSpeed:x}){const w=t[0],T={done:!1,value:w},I=A=>f!==void 0&&A<f||p!==void 0&&A>p,D=A=>f===void 0?p:p===void 0||Math.abs(f-A)<Math.abs(p-A)?f:p;let B=n*e;const U=w+B,G=u===void 0?U:u(U);G!==U&&(B=G-w);const $=A=>-B*Math.exp(-A/s),M=A=>G+$(A),b=A=>{const R=$(A),L=M(A);T.done=Math.abs(R)<=y,T.value=T.done?G:L};let E,j;const N=A=>{I(T.value)&&(E=A,j=nf({keyframes:[T.value,D(T.value)],velocity:KA(M,A,T.value),damping:a,stiffness:l,restDelta:y,restSpeed:x}))};return N(0),{calculatedDuration:null,next:A=>{let R=!1;return!j&&E===void 0&&(R=!0,b(A),N(A)),E!==void 0&&A>=E?j.next(A-E):(!R&&b(A),T)}}}function OV(t,e,n){const s=[],a=n||Bs.mix||GA,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||si:e;f=wu(p,f)}s.push(f)}return s}function LV(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(v0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=OV(e,s,a),p=f.length,y=x=>{if(u&&x<t[0])return e[0];let w=0;if(p>1)for(;w<t.length-2&&!(x<t[w+1]);w++);const T=eu(t[w],t[w+1],x);return f[w](T)};return n?x=>y(us(t[0],t[l-1],x)):y}function UV(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=eu(0,e,s);t.push(ft(n,1,a))}}function BV(t){const e=[0];return UV(e,t.length-1),e}function zV(t,e){return t.map(n=>n*e)}function FV(t,e){return t.map(()=>e||PA).splice(0,t.length-1)}function Bc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=ZM(s)?s.map(o1):o1(s),l={done:!1,value:e[0]},u=zV(n&&n.length===e.length?n:BV(e),t),f=LV(u,e,{ease:Array.isArray(a)?a:FV(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const qV=t=>t!==null;function R0(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(qV),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||s===void 0?l[f]:s}const HV={decay:$g,inertia:$g,tween:Bc,keyframes:Bc,spring:nf};function YA(t){typeof t.type=="string"&&(t.type=HV[t.type])}class C0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const GV=t=>t/100;class j0 extends C0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==gn.now()&&this.tick(gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;YA(e);const{type:n=Bc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const p=n||Bc;p!==Bc&&typeof f[0]!="number"&&(this.mixKeyframes=wu(GV,GA(f[0],f[1])),f=[0,100]);const y=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=N0(y));const{calculatedDuration:x}=y;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=y}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:y=0,keyframes:x,repeat:w,repeatType:T,repeatDelay:I,type:D,onUpdate:B,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const G=this.currentTime-y*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?G<0:G>a;this.currentTime=Math.max(G,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let M=this.currentTime,b=s;if(w){const A=Math.min(this.currentTime,a)/f;let R=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&R--,R=Math.min(R,w+1),R%2&&(T==="reverse"?(L=1-L,I&&(L-=I/f)):T==="mirror"&&(b=u)),M=us(0,1,L)*f}const E=$?{done:!1,value:x[0]}:b.next(M);l&&(E.value=l(E.value));let{done:j}=E;!$&&p!==null&&(j=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return N&&D!==$g&&(E.value=R0(x,this.options,U,this.speed)),B&&B(E.value),N&&this.finish(),E}then(e,n){return this.finished.then(e,n)}get duration(){return ii(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(this.currentTime)}set time(e){e=Ai(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(gn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RV,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function $V(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ca=t=>t*180/Math.PI,Kg=t=>{const e=Ca(Math.atan2(t[1],t[0]));return Yg(e)},KV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Kg,rotateZ:Kg,skewX:t=>Ca(Math.atan(t[1])),skewY:t=>Ca(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Yg=t=>(t=t%360,t<0&&(t+=360),t),m1=Kg,p1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),g1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),YV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:p1,scaleY:g1,scale:t=>(p1(t)+g1(t))/2,rotateX:t=>Yg(Ca(Math.atan2(t[6],t[5]))),rotateY:t=>Yg(Ca(Math.atan2(-t[2],t[0]))),rotateZ:m1,rotate:m1,skewX:t=>Ca(Math.atan(t[4])),skewY:t=>Ca(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Wg(t){return t.includes("scale")?1:0}function Qg(t,e){if(!t||t==="none")return Wg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=YV,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=KV,a=f}if(!a)return Wg(e);const l=s[e],u=a[1].split(",").map(QV);return typeof l=="function"?l(u):u[l]}const WV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qg(n,e)};function QV(t){return parseFloat(t.trim())}const yl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xl=new Set(yl),y1=t=>t===gl||t===ge,XV=new Set(["x","y","z"]),JV=yl.filter(t=>!XV.has(t));function ZV(t){const e=[];return JV.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Cr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qg(e,"x"),y:(t,{transform:e})=>Qg(e,"y")};Cr.translateX=Cr.x;Cr.translateY=Cr.y;const Ia=new Set;let Xg=!1,Jg=!1,Zg=!1;function WA(){if(Jg){const t=Array.from(Ia).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=ZV(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Jg=!1,Xg=!1,Ia.forEach(t=>t.complete(Zg)),Ia.clear()}function QA(){Ia.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Jg=!0)})}function eO(){Zg=!0,QA(),WA(),Zg=!1}class I0{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ia.add(this),Xg||(Xg=!0,at.read(QA),at.resolveKeyframes(WA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const f=s.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}$V(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ia.delete(this)}cancel(){this.state==="scheduled"&&(Ia.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tO=t=>t.startsWith("--");function nO(t,e,n){tO(e)?t.style.setProperty(e,n):t.style[e]=n}const iO={};function XA(t,e){const n=EA(t);return()=>iO[e]??n()}const sO=XA(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),JA=XA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ic=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,x1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ic([0,.65,.55,1]),circOut:Ic([.55,0,1,.45]),backIn:Ic([.31,.01,.66,-.59]),backOut:Ic([.33,1.53,.69,.99])};function ZA(t,e){if(t)return typeof t=="function"?JA()?$A(t,e):"ease-out":MA(t)?Ic(t):Array.isArray(t)?t.map(n=>ZA(n,e)||x1.easeOut):x1[t]}function rO(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:p}={},y=void 0){const x={[e]:n};p&&(x.offset=p);const w=ZA(f,a);Array.isArray(w)&&(x.easing=w);const T={delay:s,duration:a,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return y&&(T.pseudoElement=y),t.animate(x,T)}function e2(t){return typeof t=="function"&&"applyToOptions"in t}function aO({type:t,...e}){return e2(t)&&JA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class t2 extends C0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,v0(typeof e.type!="string");const y=aO(e);this.animation=rO(n,s,a,y,l),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const x=R0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(x):nO(n,s,x),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ii(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ii(e)}get time(){return ii(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ai(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&sO()?(this.animation.timeline=e,si):n(this)}}const n2={anticipate:IA,backInOut:jA,circInOut:DA};function oO(t){return t in n2}function lO(t){typeof t.ease=="string"&&oO(t.ease)&&(t.ease=n2[t.ease])}const ig=10;class cO extends t2{constructor(e){lO(e),YA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new j0({...u,autoplay:!1}),p=Math.max(ig,gn.now()-this.startTime),y=us(0,ig,p-ig);n.setWithVelocity(f.sample(Math.max(0,p-y)).value,f.sample(p).value,y),f.stop()}}const v1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ni.test(t)||t==="0")&&!t.startsWith("url("));function uO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hO(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=v1(a,e),f=v1(l,e);return!u||!f?!1:uO(t)||(n==="spring"||e2(n))&&s}function ey(t){t.duration=0,t.type="keyframes"}const dO=new Set(["opacity","clipPath","filter","transform"]),fO=EA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mO(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:y}=e.owner.getProps();return fO()&&n&&dO.has(n)&&(n!=="transform"||!y)&&!p&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const pO=40;class gO extends C0{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:p,motionValue:y,element:x,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=gn.now();const T={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:y,element:x,...w},I=x?.KeyframeResolver||I0;this.keyframeResolver=new I(f,(D,B,U)=>this.onKeyframesResolved(D,B,T,!U),p,y,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:p,isHandoff:y,onUpdate:x}=s;this.resolvedAt=gn.now(),hO(e,l,u,f)||((Bs.instantAnimations||!p)&&x?.(R0(e,s,n)),e[0]=e[e.length-1],ey(s),s.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>pO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},I=!y&&mO(T),D=T.motionValue?.owner?.current,B=I?new cO({...T,element:D}):new j0(T);B.finished.then(()=>{this.notifyFinished()}).catch(si),this.pendingTimeline&&(this.stopTimeline=B.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=B}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function i2(t,e,n,s=0,a=1){const l=Array.from(t).sort((y,x)=>y.sortNodePosition(x)).indexOf(e),u=t.size,f=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:f-l*s}const yO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xO(t){const e=yO.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function s2(t,e,n=1){const[s,a]=xO(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return wA(u)?parseFloat(u):u}return T0(a)?s2(a,e,n+1):a}const vO={type:"spring",stiffness:500,damping:25,restSpeed:10},bO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wO={type:"keyframes",duration:.8},_O={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TO=(t,{keyframes:e})=>e.length>2?wO:xl.has(t)?t.startsWith("scale")?bO(e[1]):vO:_O,EO=t=>t!==null;function SO(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(EO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function r2(t,e){if(t?.inherit&&e){const{inherit:n,...s}=t;return{...e,...s}}return t}function k0(t,e){const n=t?.[e]??t?.default??t;return n!==t?r2(n,t):n}function AO({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:y,...x}){return!!Object.keys(x).length}const D0=(t,e,n,s={},a,l)=>u=>{const f=k0(s,t)||{},p=f.delay||s.delay||0;let{elapsed:y=0}=s;y=y-Ai(p);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-y,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};AO(f)||Object.assign(x,TO(t,x)),x.duration&&(x.duration=Ai(x.duration)),x.repeatDelay&&(x.repeatDelay=Ai(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let w=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(ey(x),x.delay===0&&(w=!0)),(Bs.instantAnimations||Bs.skipAnimations||a?.shouldSkipAnimations)&&(w=!0,ey(x),x.delay=0),x.allowFlatten=!f.type&&!f.ease,w&&!l&&e.get()!==void 0){const T=SO(x.keyframes,f);if(T!==void 0){at.update(()=>{x.onUpdate(T),x.onComplete()});return}}return f.isSync?new j0(x):new gO(x)};function b1(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function P0(t,e,n,s){if(typeof e=="function"){const[a,l]=b1(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=b1(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function Yo(t,e,n){const s=t.getProps();return P0(s,e,n!==void 0?n:s.custom,t)}const a2=new Set(["width","height","top","left","right","bottom",...yl]),w1=30,NO=t=>!isNaN(parseFloat(t));class RO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=gn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new b0);const s=this.events[e].add(n);return e==="change"?()=>{s(),at.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>w1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,w1);return SA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function il(t,e){return new RO(t,e)}const ty=t=>Array.isArray(t);function CO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,il(n))}function jO(t){return ty(t)?t[t.length-1]||0:t}function IO(t,e){const n=Yo(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const f=jO(l[u]);CO(t,u,f)}}const hn=t=>!!(t&&t.getVelocity);function kO(t){return!!(hn(t)&&t.add)}function ny(t,e){const n=t.getValue("willChange");if(kO(n))return n.add(e);if(!n&&Bs.WillChange){const s=new Bs.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function M0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const DO="framerAppearId",o2="data-"+M0(DO);function l2(t){return t.props[o2]}function PO({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function c2(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:u,...f}=e;const p=t.getDefaultTransition();l=l?r2(l,p):p;const y=l?.reduceMotion;s&&(l=s);const x=[],w=a&&t.animationState&&t.animationState.getState()[a];for(const T in f){const I=t.getValue(T,t.latestValues[T]??null),D=f[T];if(D===void 0||w&&PO(w,T))continue;const B={delay:n,...k0(l||{},T)},U=I.get();if(U!==void 0&&!I.isAnimating&&!Array.isArray(D)&&D===U&&!B.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const b=l2(t);if(b){const E=window.MotionHandoffAnimation(b,T,at);E!==null&&(B.startTime=E,G=!0)}}ny(t,T);const $=y??t.shouldReduceMotion;I.start(D0(T,I,D,$&&a2.has(T)?{type:!1}:B,t,G));const M=I.animation;M&&x.push(M)}if(u){const T=()=>at.update(()=>{u&&IO(t,u)});x.length?Promise.all(x).then(T):T()}return x}function iy(t,e,n={}){const s=Yo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(c2(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:w}=a;return MO(t,e,p,y,x,w,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>y())}else return Promise.all([l(),u(n.delay)])}function MO(t,e,n=0,s=0,a=0,l=1,u){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(iy(p,e,{...u,delay:n+(typeof s=="function"?0:s)+i2(t.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function VO(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>iy(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=iy(t,e,n);else{const a=typeof e=="function"?Yo(t,e,n.custom):e;s=Promise.all(c2(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const OO={test:t=>t==="auto",parse:t=>t},u2=t=>e=>e.test(t),h2=[gl,ge,os,Er,dV,hV,OO],_1=t=>h2.find(u2(t));function LO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TA(t):!0}const UO=new Set(["brightness","contrast","saturate","opacity"]);function BO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(E0)||[];if(!s)return t;const a=n.replace(s,"");let l=UO.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const zO=/\b([a-z-]*)\(.*?\)/gu,sy={...Ni,getAnimatableNone:t=>{const e=t.match(zO);return e?e.map(BO).join(" "):t}},ry={...Ni,getAnimatableNone:t=>{const e=Ni.parse(t);return Ni.createTransformer(t)(e.map(s=>typeof s=="number"?0:typeof s=="object"?{...s,alpha:1}:s))}},T1={...gl,transform:Math.round},FO={rotate:Er,rotateX:Er,rotateY:Er,rotateZ:Er,scale:ud,scaleX:ud,scaleY:ud,scaleZ:ud,skew:Er,skewX:Er,skewY:Er,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:tu,originX:c1,originY:c1,originZ:ge},V0={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,fontSize:ge,backgroundPositionX:ge,backgroundPositionY:ge,...FO,zIndex:T1,fillOpacity:tu,strokeOpacity:tu,numOctaves:T1},qO={...V0,color:Vt,backgroundColor:Vt,outlineColor:Vt,fill:Vt,stroke:Vt,borderColor:Vt,borderTopColor:Vt,borderRightColor:Vt,borderBottomColor:Vt,borderLeftColor:Vt,filter:sy,WebkitFilter:sy,mask:ry,WebkitMask:ry},d2=t=>qO[t],HO=new Set([sy,ry]);function f2(t,e){let n=d2(t);return HO.has(n)||(n=Ni),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GO=new Set(["auto","none","0"]);function $O(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!GO.has(l)&&nu(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=f2(n,a)}class KO extends I0{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let x=0;x<e.length;x++){let w=e[x];if(typeof w=="string"&&(w=w.trim(),T0(w))){const T=s2(w,n.current);T!==void 0&&(e[x]=T),x===e.length-1&&(this.finalKeyframe=w)}}if(this.resolveNoneKeyframes(),!a2.has(s)||e.length!==2)return;const[a,l]=e,u=_1(a),f=_1(l),p=l1(a),y=l1(l);if(p!==y&&Cr[s]){this.needsMeasurement=!0;return}if(u!==f)if(y1(u)&&y1(f))for(let x=0;x<e.length;x++){const w=e[x];typeof w=="string"&&(e[x]=parseFloat(w))}else Cr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||LO(e[a]))&&s.push(a);s.length&&$O(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=Cr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const YO=new Set(["opacity","clipPath","filter","transform"]);function m2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(s=>s!=null)}const p2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function ay(t){return _A(t)&&"offsetHeight"in t}const{schedule:O0}=VA(queueMicrotask,!1),wi={x:!1,y:!1};function g2(){return wi.x||wi.y}function WO(t){return t==="x"||t==="y"?wi[t]?null:(wi[t]=!0,()=>{wi[t]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}function y2(t,e){const n=m2(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function QO(t){return!(t.pointerType==="touch"||g2())}function XO(t,e,n={}){const[s,a,l]=y2(t,n);return s.forEach(u=>{let f=!1,p=!1,y;const x=()=>{u.removeEventListener("pointerleave",D)},w=U=>{y&&(y(U),y=void 0),x()},T=U=>{f=!1,window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),p&&(p=!1,w(U))},I=()=>{f=!0,window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",T,a)},D=U=>{if(U.pointerType!=="touch"){if(f){p=!0;return}w(U)}},B=U=>{if(!QO(U))return;p=!1;const G=e(u,U);typeof G=="function"&&(y=G,u.addEventListener("pointerleave",D,a))};u.addEventListener("pointerenter",B,a),u.addEventListener("pointerdown",I,a)}),l}const x2=(t,e)=>e?t===e?!0:x2(t,e.parentElement):!1,L0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,JO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZO(t){return JO.has(t.tagName)||t.isContentEditable===!0}const e3=new Set(["INPUT","SELECT","TEXTAREA"]);function t3(t){return e3.has(t.tagName)||t.isContentEditable===!0}const Nd=new WeakSet;function E1(t){return e=>{e.key==="Enter"&&t(e)}}function sg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const n3=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=E1(()=>{if(Nd.has(n))return;sg(n,"down");const a=E1(()=>{sg(n,"up")}),l=()=>sg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function S1(t){return L0(t)&&!g2()}const A1=new WeakSet;function i3(t,e,n={}){const[s,a,l]=y2(t,n),u=f=>{const p=f.currentTarget;if(!S1(f)||A1.has(f))return;Nd.add(p),n.stopPropagation&&A1.add(f);const y=e(p,f),x=(I,D)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),Nd.has(p)&&Nd.delete(p),S1(I)&&typeof y=="function"&&y(I,{success:D})},w=I=>{x(I,p===window||p===document||n.useGlobalTarget||x2(p,I.target))},T=I=>{x(I,!1)};window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",T,a)};return s.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),ay(f)&&(f.addEventListener("focus",y=>n3(y,a)),!ZO(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function U0(t){return _A(t)&&"ownerSVGElement"in t}const Rd=new WeakMap;let Cd;const v2=(t,e,n)=>(s,a)=>a&&a[0]?a[0][t+"Size"]:U0(s)&&"getBBox"in s?s.getBBox()[e]:s[n],s3=v2("inline","width","offsetWidth"),r3=v2("block","height","offsetHeight");function a3({target:t,borderBoxSize:e}){Rd.get(t)?.forEach(n=>{n(t,{get width(){return s3(t,e)},get height(){return r3(t,e)}})})}function o3(t){t.forEach(a3)}function l3(){typeof ResizeObserver>"u"||(Cd=new ResizeObserver(o3))}function c3(t,e){Cd||l3();const n=m2(t);return n.forEach(s=>{let a=Rd.get(s);a||(a=new Set,Rd.set(s,a)),a.add(e),Cd?.observe(s)}),()=>{n.forEach(s=>{const a=Rd.get(s);a?.delete(e),a?.size||Cd?.unobserve(s)})}}const jd=new Set;let Oo;function u3(){Oo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};jd.forEach(e=>e(t))},window.addEventListener("resize",Oo)}function h3(t){return jd.add(t),Oo||u3(),()=>{jd.delete(t),!jd.size&&typeof Oo=="function"&&(window.removeEventListener("resize",Oo),Oo=void 0)}}function N1(t,e){return typeof t=="function"?h3(t):c3(t,e)}function d3(t){return U0(t)&&t.tagName==="svg"}const f3=[...h2,Vt,Ni],m3=t=>f3.find(u2(t)),R1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lo=()=>({x:R1(),y:R1()}),C1=()=>({min:0,max:0}),zt=()=>({x:C1(),y:C1()}),p3=new WeakMap;function jf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function iu(t){return typeof t=="string"||Array.isArray(t)}const B0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z0=["initial",...B0];function If(t){return jf(t.animate)||z0.some(e=>iu(t[e]))}function b2(t){return!!(If(t)||t.variants)}function g3(t,e,n){for(const s in e){const a=e[s],l=n[s];if(hn(a))t.addValue(s,a);else if(hn(l))t.addValue(s,il(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,il(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const oy={current:null},w2={current:!1},y3=typeof window<"u";function x3(){if(w2.current=!0,!!y3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>oy.current=t.matches;t.addEventListener("change",e),e()}else oy.current=!1}const j1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let sf={};function _2(t){sf=t}function v3(){return sf}class b3{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=I0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=gn.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,at.render(this.render,!1,!0))};const{latestValues:y,renderState:x}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=x,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=If(n),this.isVariantNode=b2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const I in T){const D=T[I];y[I]!==void 0&&hn(D)&&D.set(y[I])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,p3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(w2.current||x3(),this.shouldReduceMotion=oy.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Hr(this.notifyUpdate),Hr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&YO.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:f,times:p,ease:y,duration:x}=n.accelerate,w=new t2({element:this.current,name:e,keyframes:f,times:p,ease:y,duration:Ai(x)}),T=u(w);this.valueSubscriptions.set(e,()=>{T(),w.cancel()});return}const s=xl.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&at.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sf){const n=sf[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<j1.length;s++){const a=j1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=g3(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=il(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(wA(s)||TA(s))?s=parseFloat(s):!m3(s)&&Ni.test(n)&&(s=f2(e,n)),this.setBaseTarget(e,hn(s)?s.get():s)),hn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=P0(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!hn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new b0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){O0.render(this.render)}}class T2 extends b3{constructor(){super(...arguments),this.KeyframeResolver=KO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const s=e.style;return s?s[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Kr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function E2({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function w3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function rg(t){return t===void 0||t===1}function ly({scale:t,scaleX:e,scaleY:n}){return!rg(t)||!rg(e)||!rg(n)}function Sa(t){return ly(t)||S2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S2(t){return I1(t.x)||I1(t.y)}function I1(t){return t&&t!=="0%"}function rf(t,e,n){const s=t-n,a=e*s;return n+a}function k1(t,e,n,s,a){return a!==void 0&&(t=rf(t,a,s)),rf(t,n,s)+e}function cy(t,e=0,n=1,s,a){t.min=k1(t.min,e,n,s,a),t.max=k1(t.max,e,n,s,a)}function A2(t,{x:e,y:n}){cy(t.x,e.translate,e.scale,e.originPoint),cy(t.y,n.translate,n.scale,n.originPoint)}const D1=.999999999999,P1=1.0000000000001;function T3(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Bo(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,A2(t,u)),s&&Sa(l.latestValues)&&Bo(t,l.latestValues))}e.x<P1&&e.x>D1&&(e.x=1),e.y<P1&&e.y>D1&&(e.y=1)}function Uo(t,e){t.min=t.min+e,t.max=t.max+e}function M1(t,e,n,s,a=.5){const l=ft(t.min,t.max,a);cy(t,e,n,l,s)}function Bo(t,e){M1(t.x,e.x,e.scaleX,e.scale,e.originX),M1(t.y,e.y,e.scaleY,e.scale,e.originY)}function N2(t,e){return E2(_3(t.getBoundingClientRect(),e))}function E3(t,e,n){const s=N2(t,n),{scroll:a}=e;return a&&(Uo(s.x,a.offset.x),Uo(s.y,a.offset.y)),s}const S3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A3=yl.length;function N3(t,e,n){let s="",a=!0;for(let l=0;l<A3;l++){const u=yl[l],f=t[u];if(f===void 0)continue;let p=!0;if(typeof f=="number")p=f===(u.startsWith("scale")?1:0);else{const y=parseFloat(f);p=u.startsWith("scale")?y===1:y===0}if(!p||n){const y=p2(f,V0[u]);if(!p){a=!1;const x=S3[u]||u;s+=`${x}(${y}) `}n&&(e[u]=y)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function F0(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const p in e){const y=e[p];if(xl.has(p)){u=!0;continue}else if(LA(p)){a[p]=y;continue}else{const x=p2(y,V0[p]);p.startsWith("origin")?(f=!0,l[p]=x):s[p]=x}}if(e.transform||(u||n?s.transform=N3(e,t.transform,n):s.transform&&(s.transform="none")),f){const{originX:p="50%",originY:y="50%",originZ:x=0}=l;s.transformOrigin=`${p} ${y} ${x}`}}function R2(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function V1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=V1(t,e.target.x),s=V1(t,e.target.y);return`${n}% ${s}%`}},R3={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Ni.parse(t);if(a.length>5)return s;const l=Ni.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=p;const y=ft(f,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=y),typeof a[3+u]=="number"&&(a[3+u]/=y),l(a)}},uy={borderRadius:{...Sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sc,borderTopRightRadius:Sc,borderBottomLeftRadius:Sc,borderBottomRightRadius:Sc,boxShadow:R3};function C2(t,{layout:e,layoutId:n}){return xl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uy[t]||t==="opacity")}function q0(t,e,n){const s=t.style,a=e?.style,l={};if(!s)return l;for(const u in s)(hn(s[u])||a&&hn(a[u])||C2(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=s[u]);return l}function C3(t){return window.getComputedStyle(t)}class j3 extends T2{constructor(){super(...arguments),this.type="html",this.renderInstance=R2}readValueFromInstance(e,n){if(xl.has(n))return this.projection?.isProjecting?Wg(n):WV(e,n);{const s=C3(e),a=(LA(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return N2(e,n)}build(e,n,s){F0(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return q0(e,n,s)}}const I3={offset:"stroke-dashoffset",array:"stroke-dasharray"},k3={offset:"strokeDashoffset",array:"strokeDasharray"};function D3(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?I3:k3;t[l.offset]=`${-s}`,t[l.array]=`${e} ${n}`}const P3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function j2(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},p,y,x){if(F0(t,f,y),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:T}=t;w.transform&&(T.transform=w.transform,delete w.transform),(T.transform||w.transformOrigin)&&(T.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),T.transform&&(T.transformBox=x?.transformBox??"fill-box",delete w.transformBox);for(const I of P3)w[I]!==void 0&&(T[I]=w[I],delete w[I]);e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),s!==void 0&&(w.scale=s),a!==void 0&&D3(w,a,l,u,!1)}const I2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),k2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function M3(t,e,n,s){R2(t,e,void 0,s);for(const a in e.attrs)t.setAttribute(I2.has(a)?a:M0(a),e.attrs[a])}function D2(t,e,n){const s=q0(t,e,n);for(const a in t)if(hn(t[a])||hn(e[a])){const l=yl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}class V3 extends T2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xl.has(n)){const s=d2(n);return s&&s.default||0}return n=I2.has(n)?n:M0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return D2(e,n,s)}build(e,n,s){j2(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){M3(e,n,s,a)}mount(e){this.isSVGTag=k2(e.tagName),super.mount(e)}}const O3=z0.length;function P2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?P2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<O3;n++){const s=z0[n],a=t.props[s];(iu(a)||a===!1)&&(e[s]=a)}return e}function M2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const L3=[...B0].reverse(),U3=B0.length;function B3(t){return e=>Promise.all(e.map(({animation:n,options:s})=>VO(t,n,s)))}function z3(t){let e=B3(t),n=O1(),s=!0;const a=p=>(y,x)=>{const w=Yo(t,x,p==="exit"?t.presenceContext?.custom:void 0);if(w){const{transition:T,transitionEnd:I,...D}=w;y={...y,...D,...I}}return y};function l(p){e=p(t)}function u(p){const{props:y}=t,x=P2(t.parent)||{},w=[],T=new Set;let I={},D=1/0;for(let U=0;U<U3;U++){const G=L3[U],$=n[G],M=y[G]!==void 0?y[G]:x[G],b=iu(M),E=G===p?$.isActive:null;E===!1&&(D=U);let j=M===x[G]&&M!==y[G]&&b;if(j&&s&&t.manuallyAnimateOnMount&&(j=!1),$.protectedKeys={...I},!$.isActive&&E===null||!M&&!$.prevProp||jf(M)||typeof M=="boolean")continue;if(G==="exit"&&$.isActive&&E!==!0){$.prevResolvedValues&&(I={...I,...$.prevResolvedValues});continue}const N=F3($.prevProp,M);let A=N||G===p&&$.isActive&&!j&&b||U>D&&b,R=!1;const L=Array.isArray(M)?M:[M];let V=L.reduce(a(G),{});E===!1&&(V={});const{prevResolvedValues:F={}}=$,O={...F,...V},xe=oe=>{A=!0,T.has(oe)&&(R=!0,T.delete(oe)),$.needsAnimating[oe]=!0;const ue=t.getValue(oe);ue&&(ue.liveStyle=!1)};for(const oe in O){const ue=V[oe],we=F[oe];if(I.hasOwnProperty(oe))continue;let Ee=!1;ty(ue)&&ty(we)?Ee=!M2(ue,we):Ee=ue!==we,Ee?ue!=null?xe(oe):T.add(oe):ue!==void 0&&T.has(oe)?xe(oe):$.protectedKeys[oe]=!0}$.prevProp=M,$.prevResolvedValues=V,$.isActive&&(I={...I,...V}),s&&t.blockInitialAnimation&&(A=!1);const De=j&&N;A&&(!De||R)&&w.push(...L.map(oe=>{const ue={type:G};if(typeof oe=="string"&&s&&!De&&t.manuallyAnimateOnMount&&t.parent){const{parent:we}=t,Ee=Yo(we,oe);if(we.enteringChildren&&Ee){const{delayChildren:q}=Ee.transition||{};ue.delay=i2(we.enteringChildren,t,q)}}return{animation:oe,options:ue}}))}if(T.size){const U={};if(typeof y.initial!="boolean"){const G=Yo(t,Array.isArray(y.initial)?y.initial[0]:y.initial);G&&G.transition&&(U.transition=G.transition)}T.forEach(G=>{const $=t.getBaseTarget(G),M=t.getValue(G);M&&(M.liveStyle=!0),U[G]=$??null}),w.push({animation:U})}let B=!!w.length;return s&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(B=!1),s=!1,B?e(w):Promise.resolve()}function f(p,y){if(n[p].isActive===y)return Promise.resolve();t.variantChildren?.forEach(w=>w.animationState?.setActive(p,y)),n[p].isActive=y;const x=u(p);for(const w in n)n[w].protectedKeys={};return x}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=O1()}}}function F3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!M2(e,t):!1}function Ta(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O1(){return{animate:Ta(!0),whileInView:Ta(),whileHover:Ta(),whileTap:Ta(),whileDrag:Ta(),whileFocus:Ta(),exit:Ta()}}function L1(t,e){t.min=e.min,t.max=e.max}function bi(t,e){L1(t.x,e.x),L1(t.y,e.y)}function U1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const V2=1e-4,q3=1-V2,H3=1+V2,O2=.01,G3=0-O2,$3=0+O2;function yn(t){return t.max-t.min}function K3(t,e,n){return Math.abs(t-e)<=n}function B1(t,e,n,s=.5){t.origin=s,t.originPoint=ft(e.min,e.max,t.origin),t.scale=yn(n)/yn(e),t.translate=ft(n.min,n.max,t.origin)-t.originPoint,(t.scale>=q3&&t.scale<=H3||isNaN(t.scale))&&(t.scale=1),(t.translate>=G3&&t.translate<=$3||isNaN(t.translate))&&(t.translate=0)}function zc(t,e,n,s){B1(t.x,e.x,n.x,s?s.originX:void 0),B1(t.y,e.y,n.y,s?s.originY:void 0)}function z1(t,e,n){t.min=n.min+e.min,t.max=t.min+yn(e)}function Y3(t,e,n){z1(t.x,e.x,n.x),z1(t.y,e.y,n.y)}function F1(t,e,n){t.min=e.min-n.min,t.max=t.min+yn(e)}function af(t,e,n){F1(t.x,e.x,n.x),F1(t.y,e.y,n.y)}function q1(t,e,n,s,a){return t-=e,t=rf(t,1/n,s),a!==void 0&&(t=rf(t,1/a,s)),t}function W3(t,e=0,n=1,s=.5,a,l=t,u=t){if(os.test(e)&&(e=parseFloat(e),e=ft(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=ft(l.min,l.max,s);t===l&&(f-=e),t.min=q1(t.min,e,n,f,a),t.max=q1(t.max,e,n,f,a)}function H1(t,e,[n,s,a],l,u){W3(t,e[n],e[s],e[a],e.scale,l,u)}const Q3=["x","scaleX","originX"],X3=["y","scaleY","originY"];function G1(t,e,n,s){H1(t.x,e,Q3,n?n.x:void 0,s?s.x:void 0),H1(t.y,e,X3,n?n.y:void 0,s?s.y:void 0)}function $1(t){return t.translate===0&&t.scale===1}function L2(t){return $1(t.x)&&$1(t.y)}function K1(t,e){return t.min===e.min&&t.max===e.max}function J3(t,e){return K1(t.x,e.x)&&K1(t.y,e.y)}function Y1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function U2(t,e){return Y1(t.x,e.x)&&Y1(t.y,e.y)}function W1(t){return yn(t.x)/yn(t.y)}function Q1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Zi(t){return[t("x"),t("y")]}function Z3(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:y,rotate:x,rotateX:w,rotateY:T,skewX:I,skewY:D}=n;y&&(s=`perspective(${y}px) ${s}`),x&&(s+=`rotate(${x}deg) `),w&&(s+=`rotateX(${w}deg) `),T&&(s+=`rotateY(${T}deg) `),I&&(s+=`skewX(${I}deg) `),D&&(s+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(s+=`scale(${f}, ${p})`),s||"none"}const B2=["TopLeft","TopRight","BottomLeft","BottomRight"],eL=B2.length,X1=t=>typeof t=="string"?parseFloat(t):t,J1=t=>typeof t=="number"||ge.test(t);function tL(t,e,n,s,a,l){a?(t.opacity=ft(0,n.opacity??1,nL(s)),t.opacityExit=ft(e.opacity??1,0,iL(s))):l&&(t.opacity=ft(e.opacity??1,n.opacity??1,s));for(let u=0;u<eL;u++){const f=`border${B2[u]}Radius`;let p=Z1(e,f),y=Z1(n,f);if(p===void 0&&y===void 0)continue;p||(p=0),y||(y=0),p===0||y===0||J1(p)===J1(y)?(t[f]=Math.max(ft(X1(p),X1(y),s),0),(os.test(y)||os.test(p))&&(t[f]+="%")):t[f]=y}(e.rotate||n.rotate)&&(t.rotate=ft(e.rotate||0,n.rotate||0,s))}function Z1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nL=z2(0,.5,kA),iL=z2(.5,.95,si);function z2(t,e,n){return s=>s<t?0:s>e?1:n(eu(t,e,s))}function sL(t,e,n){const s=hn(t)?t:il(t);return s.start(D0("",s,e,n)),s.animation}function su(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}const rL=(t,e)=>t.depth-e.depth;class aL{constructor(){this.children=[],this.isDirty=!1}add(e){x0(this.children,e),this.isDirty=!0}remove(e){Zd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rL),this.isDirty=!1,this.children.forEach(e)}}function oL(t,e){const n=gn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(Hr(s),t(l-e))};return at.setup(s,!0),()=>Hr(s)}function Id(t){return hn(t)?t.get():t}class lL{constructor(){this.members=[]}add(e){x0(this.members,e);for(let n=this.members.length-1;n>=0;n--){const s=this.members[n];if(s===e||s===this.lead||s===this.prevLead)continue;const a=s.instance;a&&a.isConnected===!1&&s.isPresent!==!1&&!s.snapshot&&Zd(this.members,s)}e.scheduleRender()}remove(e){if(Zd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const p=s.instance;p&&p.isConnected===!1&&!s.snapshot||(e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:f}=e.options;f===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ag=["","X","Y","Z"],cL=1e3;let uL=0;function og(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function F2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=l2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",at,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&F2(s)}function q2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=uL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fL),this.nodes.forEach(yL),this.nodes.forEach(xL),this.nodes.forEach(mL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new aL)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new b0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=U0(u)&&!d3(u),this.instance=u;const{layoutId:f,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let x,w=0;const T=()=>this.root.updateBlockedByResize=!1;at.read(()=>{w=window.innerWidth}),t(u,()=>{const I=window.innerWidth;I!==w&&(w=I,this.root.updateBlockedByResize=!0,x&&x(),x=oL(T,250),kd.hasAnimatedSinceResize&&(kd.hasAnimatedSinceResize=!1,this.nodes.forEach(nT)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:w,hasRelativeLayoutChanged:T,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||y.getDefaultTransition()||TL,{onLayoutAnimationStart:B,onLayoutAnimationComplete:U}=y.getProps(),G=!this.targetLayout||!U2(this.targetLayout,I),$=!w&&T;if(this.options.layoutRoot||this.resumeFrom||$||w&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...k0(D,"layout"),onPlay:B,onComplete:U};(y.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(x,$)}else w||nT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&F2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const w=this.path[x];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gL),this.nodes.forEach(hL),this.nodes.forEach(dL)):this.nodes.forEach(tT),this.clearAllSnapshots();const f=gn.now();tn.delta=us(0,1e3/60,f-tn.timestamp),tn.timestamp=f,tn.isProcessing=!0,Jp.update.process(tn),Jp.preRender.process(tn),Jp.render.process(tn),tn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,O0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pL),this.sharedNodes.forEach(bL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!L2(this.projectionDelta),p=this.getTransformTemplate(),y=p?p(this.latestValues,""):void 0,x=y!==this.prevTransformTemplateValue;u&&this.instance&&(f||Sa(this.latestValues)||x)&&(a(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),EL(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return zt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(SL))){const{scroll:y}=this.root;y&&(Uo(f.x,y.offset.x),Uo(f.y,y.offset.y))}return f}removeElementScroll(u){const f=zt();if(bi(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:x,options:w}=y;y!==this.root&&x&&w.layoutScroll&&(x.wasRoot&&bi(f,u),Uo(f.x,x.offset.x),Uo(f.y,x.offset.y))}return f}applyTransform(u,f=!1){const p=zt();bi(p,u);for(let y=0;y<this.path.length;y++){const x=this.path[y];!f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Bo(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),Sa(x.latestValues)&&Bo(p,x.latestValues)}return Sa(this.latestValues)&&Bo(p,this.latestValues),p}removeTransform(u){const f=zt();bi(f,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];if(!y.instance||!Sa(y.latestValues))continue;ly(y.latestValues)&&y.updateSnapshot();const x=zt(),w=y.measurePageBox();bi(x,w),G1(f,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,x)}return Sa(this.latestValues)&&G1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:w}=this.options;if(!this.layout||!(x||w))return;this.resolvedRelativeTargetAt=tn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bi(this.target,this.layout.layoutBox),A2(this.target,this.targetDelta)):bi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ly(this.parent.latestValues)||S2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),af(this.relativeTargetOrigin,f,p),bi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===tn.timestamp&&(p=!1),p)return;const{layout:y,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||x))return;bi(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;T3(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=zt());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(U1(this.prevProjectionDelta.x,this.projectionDelta.x),U1(this.prevProjectionDelta.y,this.projectionDelta.y)),zc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!Q1(this.projectionDelta.x,this.prevProjectionDelta.x)||!Q1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Lo(),this.projectionDelta=Lo(),this.projectionDeltaWithTransform=Lo()}setAnimationOrigin(u,f=!1){const p=this.snapshot,y=p?p.latestValues:{},x={...this.latestValues},w=Lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=zt(),I=p?p.source:void 0,D=this.layout?this.layout.source:void 0,B=I!==D,U=this.getStack(),G=!U||U.members.length<=1,$=!!(B&&!G&&this.options.crossfade===!0&&!this.path.some(_L));this.animationProgress=0;let M;this.mixTargetDelta=b=>{const E=b/1e3;iT(w.x,u.x,E),iT(w.y,u.y,E),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(af(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wL(this.relativeTarget,this.relativeTargetOrigin,T,E),M&&J3(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=zt()),bi(M,this.relativeTarget)),B&&(this.animationValues=x,tL(x,y,this.latestValues,E,$,G)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{kd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=il(0)),this.motionValue.jump(0,!1),this.currentAnimation=sL(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:y,latestValues:x}=u;if(!(!f||!p||!y)){if(this!==u&&this.layout&&y&&H2(this.options.animationType,this.layout.layoutBox,y.layoutBox)){p=this.target||zt();const w=yn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+w;const T=yn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+T}bi(f,p),Bo(f,x),zc(this.projectionDeltaWithTransform,this.layoutCorrected,f,x)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new lL),this.sharedNodes.get(u).add(f);const y=f.options.initialPromotionConfig;f.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const y=this.getStack();y&&y.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const y={};p.z&&og("z",u,y,this.animationValues);for(let x=0;x<ag.length;x++)og(`rotate${ag[x]}`,u,y,this.animationValues),og(`skew${ag[x]}`,u,y,this.animationValues);u.render();for(const x in y)u.setStaticValue(x,y[x]),this.animationValues&&(this.animationValues[x]=y[x]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Id(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Id(f?.pointerEvents)||""),this.hasProjected&&!Sa(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=y.animationValues||y.latestValues;this.applyTransformsToTarget();let w=Z3(this.projectionDeltaWithTransform,this.treeScale,x);p&&(w=p(x,w)),u.transform=w;const{x:T,y:I}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${I.origin*100}% 0`,y.animationValues?u.opacity=y===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=y===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const D in uy){if(x[D]===void 0)continue;const{correct:B,applyTo:U,isCSSVariable:G}=uy[D],$=w==="none"?x[D]:B(x[D],y);if(U){const M=U.length;for(let b=0;b<M;b++)u[U[b]]=$}else G?this.options.visualElement.renderState.vars[D]=$:u[D]=$}this.options.layoutId&&(u.pointerEvents=y===this?Id(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(eT),this.root.sharedNodes.clear()}}}function hL(t){t.updateLayout()}function dL(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Zi(x=>{const w=l?e.measuredBox[x]:e.layoutBox[x],T=yn(w);w.min=n[x].min,w.max=w.min+T}):H2(a,e.layoutBox,n)&&Zi(x=>{const w=l?e.measuredBox[x]:e.layoutBox[x],T=yn(n[x]);w.max=w.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+T)});const u=Lo();zc(u,n,e.layoutBox);const f=Lo();l?zc(f,t.applyTransform(s,!0),e.measuredBox):zc(f,n,e.layoutBox);const p=!L2(u);let y=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:w,layout:T}=x;if(w&&T){const I=zt();af(I,e.layoutBox,w.layoutBox);const D=zt();af(D,n,T.layoutBox),U2(I,D)||(y=!0),x.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=I,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function fL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pL(t){t.clearSnapshot()}function eT(t){t.clearMeasurements()}function tT(t){t.isLayoutDirty=!1}function gL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yL(t){t.resolveTargetDelta()}function xL(t){t.calcProjection()}function vL(t){t.resetSkewAndRotation()}function bL(t){t.removeLeadSnapshot()}function iT(t,e,n){t.translate=ft(e.translate,0,n),t.scale=ft(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sT(t,e,n,s){t.min=ft(e.min,n.min,s),t.max=ft(e.max,n.max,s)}function wL(t,e,n,s){sT(t.x,e.x,n.x,s),sT(t.y,e.y,n.y,s)}function _L(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TL={duration:.45,ease:[.4,0,.1,1]},rT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aT=rT("applewebkit/")&&!rT("chrome/")?Math.round:si;function oT(t){t.min=aT(t.min),t.max=aT(t.max)}function EL(t){oT(t.x),oT(t.y)}function H2(t,e,n){return t==="position"||t==="preserve-aspect"&&!K3(W1(e),W1(n),.2)}function SL(t){return t!==t.root&&t.scroll?.wasRoot}const AL=q2({attachResizeListener:(t,e)=>su(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),lg={current:void 0},G2=q2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lg.current){const t=new AL({});t.mount(window),t.setOptions({layoutScroll:!0}),lg.current=t}return lg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),H0=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function lT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NL(...t){return e=>{let n=!1;const s=t.map(a=>{const l=lT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():lT(t[a],null)}}}}function RL(...t){return P.useCallback(NL(...t),t)}class CL extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=n.offsetParent,a=ay(s)&&s.offsetWidth||0,l=ay(s)&&s.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function jL({children:t,isPresent:e,anchorX:n,anchorY:s,root:a,pop:l}){const u=P.useId(),f=P.useRef(null),p=P.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:y}=P.useContext(H0),x=t.props?.ref??t?.ref,w=RL(f,x);return P.useInsertionEffect(()=>{const{width:T,height:I,top:D,left:B,right:U,bottom:G}=p.current;if(e||l===!1||!f.current||!T||!I)return;const $=n==="left"?`left: ${B}`:`right: ${U}`,M=s==="bottom"?`bottom: ${G}`:`top: ${D}`;f.current.dataset.motionPopId=u;const b=document.createElement("style");y&&(b.nonce=y);const E=a??document.head;return E.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${I}px !important;
            ${$}px !important;
            ${M}px !important;
          }
        `),()=>{E.contains(b)&&E.removeChild(b)}},[e]),h.jsx(CL,{isPresent:e,childRef:f,sizeRef:p,pop:l,children:l===!1?t:P.cloneElement(t,{ref:w})})}const IL=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:p,root:y})=>{const x=y0(kL),w=P.useId();let T=!0,I=P.useMemo(()=>(T=!1,{id:w,initial:e,isPresent:n,custom:a,onExitComplete:D=>{x.set(D,!0);for(const B of x.values())if(!B)return;s&&s()},register:D=>(x.set(D,!1),()=>x.delete(D))}),[n,x,s]);return l&&T&&(I={...I}),P.useMemo(()=>{x.forEach((D,B)=>x.set(B,!1))},[n]),P.useEffect(()=>{!n&&!x.size&&s&&s()},[n]),t=h.jsx(jL,{pop:u==="popLayout",isPresent:n,anchorX:f,anchorY:p,root:y,children:t}),h.jsx(Cf.Provider,{value:I,children:t})};function kL(){return new Map}function $2(t=!0){const e=P.useContext(Cf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=P.useId();P.useEffect(()=>{if(t)return a(l)},[t]);const u=P.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const hd=t=>t.key||"";function cT(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const DL=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:p="top",root:y})=>{const[x,w]=$2(u),T=P.useMemo(()=>cT(t),[t]),I=u&&!x?[]:T.map(hd),D=P.useRef(!0),B=P.useRef(T),U=y0(()=>new Map),G=P.useRef(new Set),[$,M]=P.useState(T),[b,E]=P.useState(T);bA(()=>{D.current=!1,B.current=T;for(let A=0;A<b.length;A++){const R=hd(b[A]);I.includes(R)?(U.delete(R),G.current.delete(R)):U.get(R)!==!0&&U.set(R,!1)}},[b,I.length,I.join("-")]);const j=[];if(T!==$){let A=[...T];for(let R=0;R<b.length;R++){const L=b[R],V=hd(L);I.includes(V)||(A.splice(R,0,L),j.push(L))}return l==="wait"&&j.length&&(A=j),E(cT(A)),M(T),null}const{forceRender:N}=P.useContext(g0);return h.jsx(h.Fragment,{children:b.map(A=>{const R=hd(A),L=u&&!x?!1:T===b||I.includes(R),V=()=>{if(G.current.has(R))return;if(G.current.add(R),U.has(R))U.set(R,!0);else return;let F=!0;U.forEach(O=>{O||(F=!1)}),F&&(N?.(),E(B.current),u&&w?.(),s&&s())};return h.jsx(IL,{isPresent:L,initial:!D.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:y,onExitComplete:L?void 0:V,anchorX:f,anchorY:p,children:A},R)})})},K2=P.createContext({strict:!1}),uT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let hT=!1;function PL(){if(hT)return;const t={};for(const e in uT)t[e]={isEnabled:n=>uT[e].some(s=>!!n[s])};_2(t),hT=!0}function Y2(){return PL(),v3()}function ML(t){const e=Y2();for(const n in t)e[n]={...e[n],...t[n]};_2(e)}const VL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function of(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VL.has(t)}let W2=t=>!of(t);function OL(t){typeof t=="function"&&(W2=e=>e.startsWith("on")?!of(e):t(e))}try{OL(require("@emotion/is-prop-valid").default)}catch{}function LL(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(W2(a)||n===!0&&of(a)||!e&&!of(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const kf=P.createContext({});function UL(t,e){if(If(t)){const{initial:n,animate:s}=t;return{initial:n===!1||iu(n)?n:void 0,animate:iu(s)?s:void 0}}return t.inherit!==!1?e:{}}function BL(t){const{initial:e,animate:n}=UL(t,P.useContext(kf));return P.useMemo(()=>({initial:e,animate:n}),[dT(e),dT(n)])}function dT(t){return Array.isArray(t)?t.join(" "):t}const G0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Q2(t,e,n){for(const s in e)!hn(e[s])&&!C2(s,n)&&(t[s]=e[s])}function zL({transformTemplate:t},e){return P.useMemo(()=>{const n=G0();return F0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function FL(t,e){const n=t.style||{},s={};return Q2(s,n,t),Object.assign(s,zL(t,e)),s}function qL(t,e){const n={},s=FL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const X2=()=>({...G0(),attrs:{}});function HL(t,e,n,s){const a=P.useMemo(()=>{const l=X2();return j2(l,e,k2(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Q2(l,t.style,t),a.style={...l,...a.style}}return a}const GL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $0(t){return typeof t!="string"||t.includes("-")?!1:!!(GL.indexOf(t)>-1||/[A-Z]/u.test(t))}function $L(t,e,n,{latestValues:s},a,l=!1,u){const p=(u??$0(t)?HL:qL)(e,s,a,t),y=LL(e,typeof t=="string",l),x=t!==P.Fragment?{...y,...p,ref:n}:{},{children:w}=e,T=P.useMemo(()=>hn(w)?w.get():w,[w]);return P.createElement(t,{...x,children:T})}function KL({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:YL(n,s,a,t),renderState:e()}}function YL(t,e,n,s){const a={},l=s(t,{});for(const T in l)a[T]=Id(l[T]);let{initial:u,animate:f}=t;const p=If(t),y=b2(t);e&&y&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const w=x?f:u;if(w&&typeof w!="boolean"&&!jf(w)){const T=Array.isArray(w)?w:[w];for(let I=0;I<T.length;I++){const D=P0(t,T[I]);if(D){const{transitionEnd:B,transition:U,...G}=D;for(const $ in G){let M=G[$];if(Array.isArray(M)){const b=x?M.length-1:0;M=M[b]}M!==null&&(a[$]=M)}for(const $ in B)a[$]=B[$]}}}return a}const J2=t=>(e,n)=>{const s=P.useContext(kf),a=P.useContext(Cf),l=()=>KL(t,e,s,a);return n?l():y0(l)},WL=J2({scrapeMotionValuesFromProps:q0,createRenderState:G0}),QL=J2({scrapeMotionValuesFromProps:D2,createRenderState:X2}),XL=Symbol.for("motionComponentSymbol");function JL(t,e,n){const s=P.useRef(n);P.useInsertionEffect(()=>{s.current=n});const a=P.useRef(null);return P.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=s.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const Z2=P.createContext({});function Po(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZL(t,e,n,s,a,l){const{visualElement:u}=P.useContext(kf),f=P.useContext(K2),p=P.useContext(Cf),y=P.useContext(H0),x=y.reducedMotion,w=y.skipAnimations,T=P.useRef(null),I=P.useRef(!1);s=s||f.renderer,!T.current&&s&&(T.current=s(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:x,skipAnimations:w,isSVG:l}),I.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const D=T.current,B=P.useContext(Z2);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&e6(T.current,n,a,B);const U=P.useRef(!1);P.useInsertionEffect(()=>{D&&U.current&&D.update(n,p)});const G=n[o2],$=P.useRef(!!G&&!window.MotionHandoffIsComplete?.(G)&&window.MotionHasOptimisedAnimation?.(G));return bA(()=>{I.current=!0,D&&(U.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),$.current&&D.animationState&&D.animationState.animateChanges())}),P.useEffect(()=>{D&&(!$.current&&D.animationState&&D.animationState.animateChanges(),$.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(G)}),$.current=!1),D.enteringChildren=void 0)}),D}function e6(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:y,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eN(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Po(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:x,layoutScroll:p,layoutRoot:y})}function eN(t){if(t)return t.options.allowProjection!==!1?t.projection:eN(t.parent)}function cg(t,{forwardMotionProps:e=!1,type:n}={},s,a){s&&ML(s);const l=n?n==="svg":$0(t),u=l?QL:WL;function f(y,x){let w;const T={...P.useContext(H0),...y,layoutId:t6(y)},{isStatic:I}=T,D=BL(y),B=u(y,I);if(!I&&vA){n6();const U=i6(T);w=U.MeasureLayout,D.visualElement=ZL(t,B,T,a,U.ProjectionNode,l)}return h.jsxs(kf.Provider,{value:D,children:[w&&D.visualElement?h.jsx(w,{visualElement:D.visualElement,...T}):null,$L(t,y,JL(B,D.visualElement,x),B,I,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=P.forwardRef(f);return p[XL]=t,p}function t6({layoutId:t}){const e=P.useContext(g0).id;return e&&t!==void 0?e+"-"+t:t}function n6(t,e){P.useContext(K2).strict}function i6(t){const e=Y2(),{drag:n,layout:s}=e;if(!n&&!s)return{};const a={...n,...s};return{MeasureLayout:n?.isEnabled(t)||s?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function s6(t,e){if(typeof Proxy>"u")return cg;const n=new Map,s=(l,u)=>cg(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,cg(u,void 0,t,e)),n.get(u))})}const r6=(t,e)=>e.isSVG??$0(t)?new V3(e):new j3(e,{allowProjection:t!==P.Fragment});class a6 extends Kr{constructor(e){super(e),e.animationState||(e.animationState=z3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let o6=0;class l6 extends Kr{constructor(){super(...arguments),this.id=o6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const c6={animation:{Feature:a6},exit:{Feature:l6}};function Eu(t){return{point:{x:t.pageX,y:t.pageY}}}const u6=t=>e=>L0(e)&&t(e,Eu(e));function Fc(t,e,n,s){return su(t,e,u6(n),s)}const tN=({current:t})=>t?t.ownerDocument.defaultView:null,fT=(t,e)=>Math.abs(t-e);function h6(t,e){const n=fT(t.x,e.x),s=fT(t.y,e.y);return Math.sqrt(n**2+s**2)}const mT=new Set(["auto","scroll"]);class nN{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=hg(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,B=h6(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!B)return;const{point:U}=I,{timestamp:G}=tn;this.history.push({...U,timestamp:G});const{onStart:$,onMove:M}=this.handlers;D||($&&$(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,I)},this.handlePointerMove=(I,D)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=ug(D,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(I,D)=>{this.end();const{onEnd:B,onSessionEnd:U,resumeAnimation:G}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&G&&G(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=hg(I.type==="pointercancel"?this.lastMoveEventInfo:ug(D,this.transformPagePoint),this.history);this.startEvent&&B&&B(I,$),U&&U(I,$)},!L0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const p=Eu(e),y=ug(p,this.transformPagePoint),{point:x}=y,{timestamp:w}=tn;this.history=[{...x,timestamp:w}];const{onSessionStart:T}=n;T&&T(e,hg(y,this.history)),this.removeListeners=wu(Fc(this.contextWindow,"pointermove",this.handlePointerMove),Fc(this.contextWindow,"pointerup",this.handlePointerUp),Fc(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const s=getComputedStyle(n);(mT.has(s.overflowX)||mT.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),at.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Hr(this.updatePoint)}}function ug(t,e){return e?{point:e(t.point)}:t}function pT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hg({point:t},e){return{point:t,delta:pT(t,iN(e)),offset:pT(t,d6(e)),velocity:f6(e,.1)}}function d6(t){return t[0]}function iN(t){return t[t.length-1]}function f6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=iN(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>Ai(e)));)n--;if(!s)return{x:0,y:0};s===t[0]&&t.length>2&&a.timestamp-s.timestamp>Ai(e)*2&&(s=t[1]);const l=ii(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function m6(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?ft(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?ft(n,t,s.max):Math.min(t,n)),t}function gT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function p6(t,{top:e,left:n,bottom:s,right:a}){return{x:gT(t.x,n,a),y:gT(t.y,e,s)}}function yT(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function g6(t,e){return{x:yT(t.x,e.x),y:yT(t.y,e.y)}}function y6(t,e){let n=.5;const s=yn(t),a=yn(e);return a>s?n=eu(e.min,e.max-s,t.min):s>a&&(n=eu(t.min,t.max-a,e.min)),us(0,1,n)}function x6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hy=.35;function v6(t=hy){return t===!1?t=0:t===!0&&(t=hy),{x:xT(t,"left","right"),y:xT(t,"top","bottom")}}function xT(t,e,n){return{min:vT(t,e),max:vT(t,n)}}function vT(t,e){return typeof t=="number"?t:t[e]||0}const b6=new WeakMap;class w6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=w=>{n&&this.snapToCursor(Eu(w).point),this.stopAnimation()},u=(w,T)=>{const{drag:I,dragPropagation:D,onDragStart:B}=this.getProps();if(I&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WO(I),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zi(G=>{let $=this.getAxisMotionValue(G).get()||0;if(os.test($)){const{projection:M}=this.visualElement;if(M&&M.layout){const b=M.layout.layoutBox[G];b&&($=yn(b)*(parseFloat($)/100))}}this.originPoint[G]=$}),B&&at.update(()=>B(w,T),!1,!0),ny(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},f=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T;const{dragPropagation:I,dragDirectionLock:D,onDirectionLock:B,onDrag:U}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:G}=T;if(D&&this.currentDirection===null){this.currentDirection=T6(G),this.currentDirection!==null&&B&&B(this.currentDirection);return}this.updateAxis("x",T.point,G),this.updateAxis("y",T.point,G),this.visualElement.render(),U&&at.update(()=>U(w,T),!1,!0)},p=(w,T)=>{this.latestPointerEvent=w,this.latestPanInfo=T,this.stop(w,T),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>{const{dragSnapToOrigin:w}=this.getProps();(w||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:x}=this.getProps();this.panSession=new nN(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:s,contextWindow:tN(this.visualElement),element:this.visualElement.current})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&at.postRender(()=>f(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!dd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=m6(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Po(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=p6(s.layoutBox,e):this.constraints=!1,this.elastic=v6(n),a!==this.constraints&&!Po(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&Zi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=x6(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Po(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=E3(s,a.root,this.visualElement.getTransformPagePoint());let u=g6(a.layout.layoutBox,l);if(n){const f=n(w3(u));this.hasMutatedConstraints=!!f,f&&(u=E2(f))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},y=Zi(x=>{if(!dd(x,n,this.currentDirection))return;let w=p&&p[x]||{};u&&(w={min:0,max:0});const T=a?200:1e6,I=a?40:1e7,D={type:"inertia",velocity:s?e[x]:0,bounceStiffness:T,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(x,D)});return Promise.all(y).then(f)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ny(this.visualElement,e),s.start(D0(e,s,0,n,this.visualElement,!1))}stopAnimation(){Zi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Zi(n=>{const{drag:s}=this.getProps();if(!dd(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],p=l.get()||0;l.set(e[n]-ft(u,f,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Po(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Zi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();a[u]=y6({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),Zi(u=>{if(!dd(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:y}=this.constraints[u];f.set(ft(p,y,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;b6.set(this.visualElement,this);const e=this.visualElement.current,n=Fc(e,"pointerdown",y=>{const{drag:x,dragListener:w=!0}=this.getProps(),T=y.target,I=T!==e&&t3(T);x&&w&&!I&&this.start(y)});let s;const a=()=>{const{dragConstraints:y}=this.getProps();Po(y)&&y.current&&(this.constraints=this.resolveRefConstraints(),s||(s=_6(e,y.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),at.read(a);const f=su(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:x})=>{this.isDragging&&x&&(Zi(w=>{const T=this.getAxisMotionValue(w);T&&(this.originPoint[w]+=y[w].translate,T.set(T.get()+y[w].translate))}),this.visualElement.render())}));return()=>{f(),n(),u(),p&&p(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=hy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function bT(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function _6(t,e,n){const s=N1(t,bT(n)),a=N1(e,bT(n));return()=>{s(),a()}}function dd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function T6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class E6 extends Kr{constructor(e){super(e),this.removeGroupControls=si,this.removeListeners=si,this.controls=new w6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||si}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const dg=t=>(e,n)=>{t&&at.update(()=>t(e,n),!1,!0)};class S6 extends Kr{constructor(){super(...arguments),this.removePointerDownListener=si}onPointerDown(e){this.session=new nN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:dg(e),onStart:dg(n),onMove:dg(s),onEnd:(l,u)=>{delete this.session,a&&at.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Fc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let fg=!1;class A6 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),fg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),fg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||at.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),O0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;fg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sN(t){const[e,n]=$2(),s=P.useContext(g0);return h.jsx(A6,{...t,layoutGroup:s,switchLayoutGroup:P.useContext(Z2),isPresent:e,safeToRemove:n})}const N6={pan:{Feature:S6},drag:{Feature:E6,ProjectionNode:G2,MeasureLayout:sN}};function wT(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&at.postRender(()=>l(e,Eu(e)))}class R6 extends Kr{mount(){const{current:e}=this.node;e&&(this.unmount=XO(e,(n,s)=>(wT(this.node,s,"Start"),a=>wT(this.node,a,"End"))))}unmount(){}}class C6 extends Kr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wu(su(this.node.current,"focus",()=>this.onFocus()),su(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _T(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&at.postRender(()=>l(e,Eu(e)))}class j6 extends Kr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:s}=this.node.props;this.unmount=i3(e,(a,l)=>(_T(this.node,l,"Start"),(u,{success:f})=>_T(this.node,u,f?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:s?.tap===!1})}unmount(){}}const dy=new WeakMap,mg=new WeakMap,I6=t=>{const e=dy.get(t.target);e&&e(t)},k6=t=>{t.forEach(I6)};function D6({root:t,...e}){const n=t||document;mg.has(n)||mg.set(n,{});const s=mg.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(k6,{root:t,...e})),s[a]}function P6(t,e,n){const s=D6(e);return dy.set(t,n),s.observe(t),()=>{dy.delete(t),s.unobserve(t)}}const M6={some:0,all:1};class V6 extends Kr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:M6[a]},f=p=>{const{isIntersecting:y}=p;if(this.isInView===y||(this.isInView=y,l&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:x,onViewportLeave:w}=this.node.getProps(),T=y?x:w;T&&T(p)};return P6(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O6(e,n))&&this.startObserver()}unmount(){}}function O6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const L6={inView:{Feature:V6},tap:{Feature:j6},focus:{Feature:C6},hover:{Feature:R6}},U6={layout:{ProjectionNode:G2,MeasureLayout:sN}},B6={...c6,...L6,...N6,...U6},z6=s6(B6,r6),K0={growth:{title:"   (Premium Collection)",desc:"       5 ",books:[{title:"",author:" ",cover:"/images/covers/sapiens.jpg",desc:"    .   .",link:"https://www.coupang.com/np/search?component=&q="},{title:"  ",author:" ",cover:"/images/covers/e_05.jpg",desc:"  .   .",link:"https://www.coupang.com/np/search?component=&q="},{title:"",author:" ",cover:"/images/covers/c_02.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q="},{title:"  8 ",author:" ",cover:"/images/covers/b_06.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20%208%20"},{title:"  ",author:" ",cover:"/images/covers/ju_01.jpg",desc:"        .",link:"https://www.coupang.com/np/search?component=&q=%20%20"},{title:" ",author:"",cover:"/images/covers/say_01.jpg",desc:"     .    .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:" ",author:" ",cover:"/images/covers/don_01.jpg",desc:"   20  .     .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:"",author:" ",cover:"/images/covers/factfulness.jpg",desc:"    .    .",link:"https://www.coupang.com/np/search?component=&q="},{title:"",author:" ",cover:"/images/covers/rm_01.jpg",desc:"     .   .",link:"https://www.coupang.com/np/search?component=&q="},{title:"",author:" ",cover:"/images/covers/one_01.jpg",desc:"     .    .",link:"https://www.coupang.com/np/search?component=&q="}],travelTitle:"    (Travel Curation)",travelDesc:"       Top 5",travel:[{place:"",country:"",image:"https://images.unsplash.com/photo-1501594907352-04cda38ebc29?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1496442226666-8d4a0e62e6e9?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1525625293386-3f8f99389edd?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1599946347371-68eb71b16afc?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea936a7d40c?q=80&w=800&auto=format&fit=crop",desc:"     ,   "}]},entertainment:{title:"  (Premium Collection)",desc:"     5",books:[{title:" ",author:" ",cover:"/images/covers/b_10.jpg",desc:"    .   .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:"    ",author:" ",cover:"/images/covers/e_03.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20%20%20%20"},{title:" ",author:" ",cover:"/images/covers/mo_02.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:" ",author:" ",cover:"/images/covers/b_09.jpg",desc:"AI      .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:"",author:" ",cover:"/images/covers/e_01.jpg",desc:"    .",link:"https://www.coupang.com/np/search?component=&q="}],travelTitle:"    (Travel Curation)",travelDesc:"       Top 5",travel:[{place:"",country:"",image:"https://images.unsplash.com/photo-1605810230434-7631ac76ec81?q=80&w=800&auto=format&fit=crop",desc:"24      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1551641506-ee5bf4cb45f1?q=80&w=800&auto=format&fit=crop",desc:"        "},{place:"",country:"",image:"https://images.unsplash.com/photo-1511527661048-7fe73d85e9a4?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1508009603885-50cf7c579365?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1589802829985-817e51171b92?q=80&w=800&auto=format&fit=crop",desc:" ,     "}]},empathy:{title:"   (Premium Collection)",desc:"     5",books:[{title:"",author:"",cover:"/images/covers/almond.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q="},{title:" ",author:"",cover:"/images/covers/human_acts.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:"",author:"",cover:"/images/covers/vegetarian.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q="},{title:" ",author:"",cover:"/images/covers/i_07.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:" ",author:" ",cover:"/images/covers/o_05.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q=%20"}],travelTitle:"    (Travel Curation)",travelDesc:" ,      Top 5",travel:[{place:"",country:"",image:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1534429776-27727e242d33?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1546708973-b339540b5104?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1592906209472-a36b1f3782ef?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?q=80&w=800&auto=format&fit=crop",desc:"   ,      "}]},mindfulness:{title:"  (Premium Collection)",desc:"      5",books:[{title:"",author:" ",cover:"/images/covers/demian.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q="},{title:"    ",author:" ",cover:"/images/covers/lightness.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20%20%20%20"},{title:"",author:" ",cover:"/images/covers/r_07.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q="},{title:"1984",author:" ",cover:"/images/covers/1984.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q=1984"},{title:"  ",author:"",cover:"/images/covers/i_02.jpg",desc:"  ,     .",link:"https://www.coupang.com/np/search?component=&q=%20%20"},{title:"",author:" ",cover:"/images/covers/wm_01.jpg",desc:"     .     .",link:"https://www.coupang.com/np/search?component=&q="}],travelTitle:"     (Travel Curation)",travelDesc:"       Top 5",travel:[{place:"",country:" ",image:"https://images.unsplash.com/photo-1537996194471-e657df975ab4?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1587595431973-160d0d94add1?q=80&w=800&auto=format&fit=crop",desc:" ,     "},{place:"",country:"",image:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1499678329028-101435549a4e?q=80&w=800&auto=format&fit=crop",desc:"        "},{place:"",country:"",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=800&auto=format&fit=crop",desc:" ,  (Zen Garden)   "}]}},rN=P.createContext(),Y0=()=>P.useContext(rN),F6=({children:t})=>{const[e,n]=P.useState(!1),[s,a]=P.useState(null),l=P.useRef(null),u=P.useRef(null),f=P.useRef(null),p=P.useRef(null),y=P.useRef(null),x=P.useRef(!1),w=P.useRef(null),T=P.useRef(null);P.useEffect(()=>{l.current=new Audio,u.current=new Audio,(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&(u.current.crossOrigin="anonymous");const b=()=>{if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)try{if(f.current)return;const N=window.AudioContext||window.webkitAudioContext;if(!N)return;f.current=new N,p.current=f.current.createGain(),y.current=f.current.createMediaElementSource(u.current),y.current.connect(p.current),p.current.connect(f.current.destination),p.current.gain.value=.01}catch(N){console.error("Web Audio Init Failed:",N)}},E=()=>{try{b(),f.current&&f.current.state==="suspended"&&f.current.resume(),l.current&&(l.current.play().catch(()=>{}),l.current.pause()),u.current&&(u.current.play().catch(()=>{}),u.current.pause())}catch(j){console.error("Unlock error:",j)}document.removeEventListener("touchstart",E),document.removeEventListener("click",E)};return document.addEventListener("touchstart",E),document.addEventListener("click",E),()=>{w.current&&URL.revokeObjectURL(w.current),T.current&&clearInterval(T.current)}},[]);const I=M=>new Promise(b=>{if(!l.current)return b();w.current&&URL.revokeObjectURL(w.current);const E=URL.createObjectURL(M);w.current=E,l.current.src=E,l.current.onended=()=>b(),l.current.onerror=()=>b(),l.current.play().catch(()=>b());const j=setInterval(()=>{x.current&&(l.current.pause(),clearInterval(j),b())},50)}),D=M=>{p.current&&f.current?(p.current.gain.value=M,u.current&&(u.current.volume=1)):u.current&&(u.current.volume=Math.min(1,M))},B=(M,b=.1)=>new Promise(E=>{if(!u.current)return E();T.current&&clearInterval(T.current);const j=Array.isArray(M)?M:[M];let N=0;const A=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,R=A?.12:.25,L=A?.01:.015,V=()=>{if(x.current||N>=j.length)return E();f.current&&f.current.state==="suspended"&&f.current.resume(),u.current.src=j[N],u.current.load(),D(.01),u.current.loop=!0,u.current.play().then(()=>{if(E(),x.current){u.current.pause(),u.current.src="",D(0);return}let O=.01;const xe=setInterval(()=>{if(x.current){clearInterval(xe),D(0);return}O<R?(O=Math.min(R,O+L),D(O)):clearInterval(xe)},100)}).catch(O=>{if(console.error("Play error:",O),x.current)return E();j.length>1?(N++,V()):E()})};u.current.onerror=()=>{x.current||(N++,V())},V();const F=()=>{if(x.current){u.current?.removeEventListener("timeupdate",F);return}if(u.current&&u.current.currentTime>=10){u.current.removeEventListener("timeupdate",F),u.current.onerror=null;let O=R;T.current=setInterval(()=>{if(x.current){clearInterval(T.current),D(0);return}O>1e-5?(O-=1e-4,D(Math.max(0,O))):(u.current&&(u.current.pause(),u.current.src=""),D(0),T.current&&(clearInterval(T.current),T.current=null))},50)}};u.current.addEventListener("timeupdate",F),setTimeout(E,3500)}),U=()=>{x.current=!0,D(0),l.current&&(l.current.pause(),l.current.src=""),u.current&&(u.current.pause(),u.current.src="",u.current.onended=null,u.current.onerror=null),T.current&&(clearInterval(T.current),T.current=null),n(!1),a(null),setTimeout(()=>{x.current=!1},200)},G=async(M,b="podcast")=>{if(e)return U();n(!0),a(b),x.current=!1,await B(["/music/carefree.mp3"]);const N=`/audio/${b.replace("pick-","").replace("weekly-","")}.mp3`;try{if((await fetch(N,{method:"HEAD"})).ok){x.current||await new Promise(F=>{if(!l.current)return F();l.current.src=N;const O=()=>{l.current.removeEventListener("ended",O),l.current.removeEventListener("error",xe),F()},xe=J=>{console.error("Audio playback error:",J),l.current.removeEventListener("ended",O),l.current.removeEventListener("error",xe),F()};l.current.addEventListener("ended",O),l.current.addEventListener("error",xe),l.current.play().catch(J=>{console.error("Play failed:",J),F()});const De=setInterval(()=>{x.current&&(l.current.pause(),clearInterval(De),F())},50)}),n(!1),a(null);return}}catch(V){console.log("Static audio check failed, falling back to TTS:",V)}const A=async(V,F)=>{const O="AIzaSyA_IW1ltZSZM9RxVi7xBRgRtK4O1anVGVU",De=`<speak><p>${V.replace(/~/g,"").trim()}</p></speak>`;try{const oe=await(await fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${O}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{ssml:De},voice:{languageCode:"ko-KR",name:F},audioConfig:{audioEncoding:"MP3",pitch:0,speakingRate:1.02}})})).json();if(!oe.audioContent)return null;const ue=atob(oe.audioContent),we=new Uint8Array(ue.length);for(let Ee=0;Ee<ue.length;Ee++)we[Ee]=ue.charCodeAt(Ee);return new Blob([we],{type:"audio/mp3"})}catch(J){return console.error("Premium TTS Fetch Error:",J),null}},R=V=>V==="A"?"ko-KR-Chirp3-HD-Achird":"ko-KR-Chirp3-HD-Leda";let L=A(M[0].text,R(M[0].role));for(let V=0;V<M.length&&!x.current;V++){const F=await L;if(x.current||(V<M.length-1&&(L=A(M[V+1].text,R(M[V+1].role))),F&&await I(F),x.current))break;await new Promise(O=>setTimeout(O,600))}n(!1),a(null)},$=async(M,b="review")=>{if(e)return U();n(!0),a(b),x.current=!1,await B(["/music/carefree.mp3"]);const N={sapiens:"",1984:"1984",demian:"",vegetarian:"",factfulness:"",almond:"",leverage:"","one-thing":"",ubermensch:""}[b.replace("pick-","")]||" ",A=[{role:"A",text:`?   .       , ${N}    .`},{role:"B",text:`. . ${N}       .`}],R=M.split(`

`).filter(xe=>xe.trim().length>5),L=[...A];let V="A";R.forEach((xe,De)=>{if(De%2===0){const J=xe.split(new RegExp("(?<=[.!?])\\s+")).filter(ue=>ue.trim().length>5),oe=2;for(let ue=0;ue<J.length;ue+=oe){const we=J.slice(ue,ue+oe).join(" ").trim();we&&(L.push({role:V,text:we}),V=V==="A"?"B":"A")}}}),L.push({role:"A",text:` ${N}     .`}),L.push({role:"B",text:"           . ."});const F=async(xe,De)=>{const J="AIzaSyA_IW1ltZSZM9RxVi7xBRgRtK4O1anVGVU",ue=`<speak><p>${xe.replace(/~/g,"").trim()}</p></speak>`;try{const Ee=await(await fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${J}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{ssml:ue},voice:{languageCode:"ko-KR",name:De},audioConfig:{audioEncoding:"MP3",pitch:0,speakingRate:1.02}})})).json();if(!Ee.audioContent)return null;const q=atob(Ee.audioContent),ne=new Uint8Array(q.length);for(let ce=0;ce<q.length;ce++)ne[ce]=q.charCodeAt(ce);return new Blob([ne],{type:"audio/mp3"})}catch(we){return console.error("TTS Fetch Error:",we),null}};let O=F(L[0].text,"ko-KR-Chirp3-HD-Achird");for(let xe=0;xe<L.length&&!x.current;xe++){const De=await O;if(x.current)break;if(xe<L.length-1){const J=L[xe+1].role==="A"?"ko-KR-Chirp3-HD-Achird":"ko-KR-Chirp3-HD-Leda";O=F(L[xe+1].text,J)}if(De&&await I(De),x.current)break;await new Promise(J=>setTimeout(J,600))}n(!1),a(null)};return h.jsx(rN.Provider,{value:{isSpeaking:e,activeAudioId:s,playPodcast:G,speakReview:$,stopAll:U},children:t})},An={sayno:[{role:"A",text:"  ,   ?  ' '."},{role:"B",text:".  .     .   20    ."},{role:"A",text:"     .    .      ."},{role:"B",text:"  ''  .   .      ."},{role:"A",text:"   . '   .'       ."},{role:"B",text:"  .       .       ."},{role:"A",text:" '  ?'   .      ."},{role:"B",text:".    ''  ."},{role:"A",text:"  ,"},{role:"B",text:".  ."}],psychology:[{role:"A",text:"   , ?   ' '   ."},{role:"B",text:"   ,    '' .       ."},{role:"A",text:"     ?    .     ."},{role:"B",text:"  ''   .   ,      ."},{role:"A",text:" ''    .      ."},{role:"B",text:"  ,      .       ?"},{role:"A",text:"        ."},{role:"B",text:"  , . ,"},{role:"A",text:". ."}],ubermensch:[{role:"A",text:"   , ''     ."},{role:"B",text:".   '' .      ."},{role:"A",text:"   .  ,  ,   '' ."},{role:"B",text:" .       .       ."},{role:"A",text:" ' ' .    .       ."},{role:"B",text:"    ' !'   .    ."},{role:"A",text:"    .      ."},{role:"B",text:"     .    ."},{role:"A",text:"    .  ,"},{role:"B",text:". ."}],1984:[{role:"A",text:" '1984'    .        ."},{role:"B",text:".    .        ."},{role:"A",text:" .         . ''  ."},{role:"B",text:"  .     .      ."},{role:"A",text:"    .    ."},{role:"B",text:"            ."},{role:"A",text:"     .        ."},{role:"B",text:"    .  ,"},{role:"A",text:". ."}],demian:[{role:"A",text:"RM     .   ''."},{role:"B",text:"'     .'        ."},{role:"A",text:"        .       ."},{role:"B",text:"       .     ."},{role:"A",text:"        .     ."},{role:"B",text:"     .      ."},{role:"A",text:"     ?      ."},{role:"B",text:"     . ,"},{role:"A",text:". ."}],vegetarian:[{role:"A",text:"     .     '' ."},{role:"B",text:".       .       ."},{role:"A",text:"    ,     .      ."},{role:"B",text:"       .       ."},{role:"A",text:"        .       ."},{role:"B",text:"       .      ."},{role:"A",text:"     .         ."},{role:"B",text:"     .  ,"},{role:"A",text:". ."}],factfulness:[{role:"A",text:"      ?   ''   ."},{role:"B",text:".        .     ."},{role:"A",text:" 10  .    ,     .     ."},{role:"B",text:" .      .       ."},{role:"A",text:"      .      ."},{role:"B",text:"   .  ,       ."},{role:"A",text:"        ."},{role:"B",text:"    . ,"},{role:"A",text:". ."}],almond:[{role:"A",text:"    .   ''      ."},{role:"B",text:"   .        ."},{role:"A",text:"     .         ."},{role:"B",text:"     .         ."},{role:"A",text:"     .       ."},{role:"B",text:"  .     ''     ."},{role:"A",text:"          ."},{role:"B",text:"    ,  . ,"},{role:"A",text:". ."}],leverage:[{role:"A",text:"    ?   ''      ."},{role:"B",text:".   .        .   ."},{role:"A",text:"V.V.I.P.  .       .      ."},{role:"B",text:"     .     .     ."},{role:"A",text:"  '   '  .       ."},{role:"B",text:"     .        ."},{role:"A",text:"    .        ."},{role:"B",text:"      . ,"},{role:"A",text:". ."}],"one-thing":[{role:"A",text:"      ?   ''    ."},{role:"B",text:"        .       ."},{role:"A",text:"  .    .       ."},{role:"B",text:"      .   .        ."},{role:"A",text:"    .         ."},{role:"B",text:".    .          ."},{role:"A",text:"          ."},{role:"B",text:"     .  ,"},{role:"A",text:". ."}],sapiens:[{role:"A",text:"   .   ''.      ."},{role:"B",text:"  '  '. , ,      ."},{role:"A",text:".       .        ."},{role:"B",text:"   .         ."},{role:"A",text:"   .       .      ."},{role:"B",text:"     .         ."},{role:"A",text:"         ."},{role:"B",text:"     . ,"},{role:"A",text:". ."}]};function Bn(){const t=hs(),e=ri(),n=t.pathname,[s,a]=P.useState(!1),[l,u]=P.useState(1),[f,p]=P.useState({gender:"",age:"",job:"",interest:""}),[y,x]=P.useState([]),{isSpeaking:w,activeAudioId:T,playPodcast:I,stopAll:D}=Y0(),B={" ":"sayno"," ":"psychology",:"ubermensch",1984:"1984",:"demian",:"vegetarian",:"factfulness",:"almond",:"leverage",:"one-thing",:"sapiens"},U=()=>{if(!f.gender||!f.age||!f.job||!f.interest){alert("  !");return}u(2),setTimeout(()=>{const E=[];Object.values(K0).forEach(N=>{E.push(...N.books)});const j=[...E].sort(()=>.5-Math.random());x(j.slice(0,5)),u(3)},1500)},G=()=>{a(!1),u(1),p({gender:"",age:"",job:"",interest:""}),x([]),D()},$=E=>{const j=JSON.parse(localStorage.getItem("savedBooks")||"[]");if(j.some(A=>A.title===E.title)){alert("   .");return}const N=[...j,{title:E.title,author:E.author,cover:E.cover}];localStorage.setItem("savedBooks",JSON.stringify(N)),alert(" .")},M=()=>{localStorage.setItem("finderRecommendations",JSON.stringify(y)),G(),e("/library")},b=[{path:"/",label:"",icon:"home"},{path:"/editorial",label:"",icon:"auto_awesome"},{path:"/library",label:"",icon:"auto_stories"},{path:"/reading-notes",label:"",icon:"edit_note"},{path:"/profile",label:"",icon:"person"}];return h.jsx("nav",{className:"fixed bottom-0 left-1/2 z-50 w-full max-w-[430px] -translate-x-1/2 border-t border-gold/20 bg-[#090b10]/95 backdrop-blur-2xl transition-all duration-300 pb-safe shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:h.jsxs("div",{className:"flex justify-around items-center px-4 pt-4 pb-6 relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-gold/10 to-transparent"}),b.map(E=>{const j=n===E.path;return h.jsxs(bt,{to:E.path,className:`flex flex-col items-center justify-center gap-1.5 transition-all duration-500 active:scale-95 ${j?"text-gold":"text-slate-600 hover:text-slate-400"}`,children:[h.jsxs("div",{className:"relative group/nav",children:[j&&h.jsx("div",{className:"absolute inset-0 bg-gold/10 blur-xl rounded-full scale-150 animate-pulse"}),h.jsx("div",{className:`flex size-11 items-center justify-center rounded-2xl transition-all duration-500 relative z-10 ${j?"bg-gold/10 border border-gold/20 shadow-[inset_0_0_15px_rgba(212,175,55,0.2)]":""}`,children:h.jsx("span",{className:`material-symbols-outlined text-[24px] transition-all duration-500 ${j?"fill-1 scale-110":"scale-100"}`,children:E.icon})})]}),h.jsx("p",{className:`text-[10px] font-black uppercase tracking-[0.2em] transition-all duration-500 -translate-y-0.5 ${j?"opacity-100":"opacity-30"}`,children:E.label})]},E.path)}),h.jsxs("div",{className:"absolute -top-20 right-6",children:[n==="/reading-notes"?h.jsxs("button",{onClick:()=>window.dispatchEvent(new CustomEvent("open-reading-note-form")),className:"h-14 pl-5 pr-7 rounded-full bg-gold text-primary shadow-[0_15px_35px_rgba(212,175,55,0.3)] flex items-center gap-3 active:scale-90 transition-all font-bold group/note animate-in zoom-in duration-500",children:[h.jsx("span",{className:"material-symbols-outlined text-xl group-hover/note:rotate-12 transition-transform",children:"edit_note"}),h.jsx("span",{className:"text-[14px]",children:""})]}):h.jsx("button",{onClick:()=>a(!s),className:`size-14 rounded-full flex items-center justify-center shadow-2xl transition-all duration-500 active:scale-90 ${s?"bg-white text-[#090b10] rotate-45":"bg-gold text-[#090b10] rotate-0"} hover:shadow-gold/40`,children:h.jsx("span",{className:"material-symbols-outlined text-[32px] font-bold",children:"add"})}),h.jsx(DL,{children:s&&h.jsxs(z6.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"absolute bottom-20 right-0 w-[280px] bg-[#1a1c23]/95 backdrop-blur-3xl border border-white/10 rounded-3xl p-5 shadow-[0_20px_50px_rgba(0,0,0,0.5)] z-[60]",children:[h.jsx("div",{className:"absolute -bottom-2 right-10 w-4 h-4 bg-[#1a1c23] border-r border-b border-white/10 rotate-45 translate-x-1/2"}),l===1&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-white text-base font-black tracking-tighter italic",children:"  BOOK "}),h.jsx("button",{onClick:G,className:"text-white/30 hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest mb-2",children:""}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:["",""].map(E=>h.jsx("button",{onClick:()=>p({...f,gender:E}),className:`py-1.5 rounded-xl text-[13px] font-bold transition-all border ${f.gender===E?"bg-gold border-gold text-primary":"bg-white/5 border-white/10 text-slate-400"}`,children:E},E))})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest mb-2",children:""}),h.jsxs("select",{value:f.age,onChange:E=>p({...f,age:E.target.value}),className:"w-full bg-[#1a1c23] border border-white/10 rounded-xl px-4 py-2 text-white text-[13px] outline-none focus:border-gold/50 transition-all font-bold appearance-none cursor-pointer",children:[h.jsx("option",{value:"",disabled:!0,className:"bg-[#1a1c23]",children:" "}),Array.from({length:61},(E,j)=>j+10).map(E=>h.jsxs("option",{value:E,className:"bg-[#1a1c23]",children:[E,""]},E))]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest mb-2",children:""}),h.jsxs("select",{value:f.job,onChange:E=>p({...f,job:E.target.value}),className:"w-full bg-[#1a1c23] border border-white/10 rounded-xl px-4 py-2 text-white text-[13px] outline-none focus:border-gold/50 transition-all font-bold appearance-none cursor-pointer",children:[h.jsx("option",{value:"",disabled:!0,className:"bg-[#1a1c23]",children:" "}),["","","","",""].map(E=>h.jsx("option",{value:E,className:"bg-[#1a1c23]",children:E},E))]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest mb-2",children:""}),h.jsxs("select",{value:f.interest,onChange:E=>p({...f,interest:E.target.value}),className:"w-full bg-[#1a1c23] border border-white/10 rounded-xl px-4 py-2 text-white text-[13px] outline-none focus:border-gold/50 transition-all font-bold appearance-none cursor-pointer",children:[h.jsx("option",{value:"",disabled:!0,className:"bg-[#1a1c23]",children:" "}),["","","","",""].map(E=>h.jsx("option",{value:E,className:"bg-[#1a1c23]",children:E},E))]})]}),h.jsx("button",{onClick:U,className:"w-full h-12 bg-gradient-to-r from-gold to-[#c5a040] rounded-2xl text-primary font-black uppercase tracking-widest shadow-lg shadow-gold/20 active:scale-95 transition-all mt-1",children:""})]})]}),l===2&&h.jsxs("div",{className:"h-[300px] flex flex-col items-center justify-center space-y-4",children:[h.jsx("div",{className:"size-16 border-4 border-gold/20 border-t-gold rounded-full animate-spin"}),h.jsx("p",{className:"text-gold font-black animate-pulse",children:"    ..."})]}),l===3&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-white text-base font-black tracking-tighter italic",children:"  Top 5"}),h.jsx("button",{onClick:()=>u(1),className:"text-gold text-[10px] font-bold",children:" "})]}),h.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:y.map((E,j)=>{const N=B[E.title],A=N&&An[N];return h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex gap-4 p-3 bg-white/5 border border-white/10 rounded-2xl hover:bg-white/10 transition-all group",children:[h.jsx("div",{className:"w-12 h-16 rounded-lg overflow-hidden flex-shrink-0 shadow-lg border border-white/5",children:h.jsx("img",{src:E.cover,alt:E.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),h.jsxs("div",{className:"flex flex-col justify-center overflow-hidden flex-1",children:[h.jsx("h4",{className:"text-white text-sm font-bold truncate",children:E.title}),h.jsx("p",{className:"text-slate-500 text-[11px] truncate",children:E.author})]}),N&&h.jsx("div",{className:"flex items-center",children:h.jsx("span",{className:"text-gold text-[8px] font-black uppercase tracking-widest bg-gold/10 px-2 py-0.5 rounded-full border border-gold/20",children:"PICK"})})]}),N&&h.jsxs("div",{className:"grid grid-cols-2 gap-2 pb-2",children:[h.jsxs(bt,{to:`/review/${N}`,onClick:()=>a(!1),className:"h-9 rounded-xl bg-white/5 border border-white/10 text-white text-[8px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center justify-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"menu_book"}),h.jsx("span",{children:""})]}),A&&h.jsxs("button",{onClick:()=>{T===`finder-${N}`?D():I(An[N],`finder-${N}`)},className:`h-9 rounded-xl border flex items-center justify-center gap-1.5 transition-all ${T===`finder-${N}`?"bg-gold border-gold text-primary font-bold":"bg-white/5 border-white/10 text-white hover:text-gold hover:border-gold/50"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:T===`finder-${N}`?"stop":"podcasts"}),h.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:T===`finder-${N}`?"":""})]}),h.jsxs("button",{onClick:()=>$(E),className:"h-9 rounded-xl bg-white/5 border border-white/10 text-white text-[8px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center justify-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"bookmark"}),h.jsx("span",{children:" "})]}),h.jsxs("a",{href:`https://www.coupang.com/np/search?q=${encodeURIComponent(E.title)}`,target:"_blank",rel:"noopener noreferrer",className:"h-9 rounded-xl bg-gold/5 border border-gold/20 text-gold text-[8px] font-black uppercase tracking-widest hover:bg-gold hover:text-primary transition-all flex items-center justify-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"shopping_cart"}),h.jsx("span",{children:""})]})]})]},j)})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:G,className:"flex-1 h-11 bg-white/5 border border-white/10 hover:bg-white/10 text-white rounded-xl text-[11px] font-black uppercase tracking-widest transition-all",children:""}),h.jsx("button",{onClick:M,className:"flex-[1.5] h-11 bg-gold text-primary rounded-xl text-[11px] font-black uppercase tracking-widest transition-all shadow-lg shadow-gold/20 active:scale-95",children:" "})]})]})]})})]})]})})}function vl(){const[t,e]=P.useState(void 0),[n,s]=P.useState(!0);return P.useEffect(()=>NE(Or,l=>{e(l||null),s(!1)}),[]),{user:t,loading:n}}function ai({title:t,type:e="main"}){const n=ri(),{user:s}=vl();return h.jsxs("nav",{className:"sticky top-0 z-50 w-full bg-[#090b10] border-b border-white/5 flex items-center justify-between px-6 py-5",children:[h.jsx("div",{className:"flex items-center gap-4",children:e==="sub"?h.jsx("button",{onClick:()=>n(-1),className:"text-gold flex items-center justify-center transition-transform active:scale-90",children:h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back_ios"})}):h.jsx("div",{className:"text-gold flex items-center justify-center",children:h.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu_book"})})}),h.jsx(bt,{to:"/",className:"flex-1 text-center transition-opacity active:opacity-70 group",children:h.jsx("h1",{className:"text-gold text-[22px] font-bold tracking-tight inline-block",children:t?h.jsx("span",{children:t}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""})," ",h.jsx("span",{className:"font-serif italic font-light opacity-80 group-hover:opacity-100 transition-opacity",children:"The Archiview"})]})})}),h.jsx("div",{className:"flex items-center justify-end",children:h.jsx(bt,{to:"/profile",className:"flex size-10 items-center justify-center rounded-full bg-white/5 text-gold border border-gold/30 shadow-sm transition-all active:scale-95 overflow-hidden",children:s?h.jsx("img",{src:s.photoURL,alt:s.displayName,className:"w-full h-full object-cover"}):h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"person"})})})]})}function zn(){return h.jsxs("section",{className:"px-8 pt-16 pb-12 text-center border-t border-white/5 bg-background-dark/30",children:[h.jsx("h2",{className:"serif-title text-2xl text-white mb-4 tracking-tight",children:":  "}),h.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed max-w-[280px] mx-auto font-light mb-10",children:[`"  '' ,`,h.jsx("br",{}),`  ' ' "`]}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-x-6 gap-y-3 pt-8 border-t border-white/5",children:[h.jsx(bt,{to:"/about",className:"text-[10px] font-bold text-slate-500 hover:text-gold uppercase tracking-[0.2em] transition-colors",children:"About"}),h.jsx(bt,{to:"/contact",className:"text-[10px] font-bold text-slate-500 hover:text-gold uppercase tracking-[0.2em] transition-colors",children:"Contact"}),h.jsx(bt,{to:"/privacy",className:"text-[10px] font-bold text-slate-500 hover:text-gold uppercase tracking-[0.2em] transition-colors",children:"Privacy Policy"})]}),h.jsx("p",{className:"mt-8 text-[9px] text-slate-600 uppercase tracking-widest",children:" 2026 ARCHIVIEW. ALL RIGHTS RESERVED."})]})}const W0={growth:{persona:" ",subtitle:"   ",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",metrics:{wpm:{value:450,change:"+25%",label:"  "},accuracy:{value:"92%",rank:" 8%",label:""},retention:{value:"High",rank:"",label:""}},summary:"    ,    .            .",radarChart:{points:"50,10 90,30 85,70 50,85 15,65 20,35"},bigData:{load:{percentile:" 3.5%",rank:"Rank: 1,752 / 50,214",score:"92.4",avg:"45.2",desc:":            .     ' '  ."},inference:{percentile:" 1.2%",rank:"Rank: 602 / 50,214",score:"98.8",avg:"52.0",desc:":          .        ."},vocabulary:{percentile:" 12%",rank:"Rank: 6,021 / 50,214",score:"85.2",avg:"38.4",desc:":      .         ."},comment:"  **' (Actionable Intellectual)'** .     ,        .  ''  ''       ."}},entertainment:{persona:" ",subtitle:"  ",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",metrics:{wpm:{value:380,change:"+10%",label:"  "},accuracy:{value:"95%",rank:" 5%",label:""},retention:{value:"Max",rank:"",label:""}},summary:"     .       ,      .",radarChart:{points:"50,20 80,40 95,80 50,90 5,80 20,40"},bigData:{load:{percentile:" 15%",rank:"Rank: 7,532 / 50,214",score:"82.1",avg:"45.2",desc:":       .      3      ."},inference:{percentile:" 8.4%",rank:"Rank: 4,215 / 50,214",score:"89.5",avg:"52.0",desc:":      .           ."},vocabulary:{percentile:" 5.5%",rank:"Rank: 2,741 / 50,214",score:"93.2",avg:"38.4",desc:":        .           ."},comment:" **' (Dreaming Voyager)'**.       '' .           ."}},empathy:{persona:" ",subtitle:"  ",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",metrics:{wpm:{value:250,change:"",label:"  "},accuracy:{value:"99%",rank:" 1%",label:" "},retention:{value:"Deep",rank:"",label:""}},summary:"     ,      .        .",radarChart:{points:"50,30 70,50 60,80 50,95 20,90 30,50"},bigData:{load:{percentile:" 25%",rank:"Rank: 12,500 / 50,214",score:"72.4",avg:"45.2",desc:":   .          ,     ."},inference:{percentile:" 2.1%",rank:"Rank: 1,054 / 50,214",score:"96.8",avg:"52.0",desc:":     ' '   .           ."},vocabulary:{percentile:" 9.8%",rank:"Rank: 4,921 / 50,214",score:"88.7",avg:"38.4",desc:":       .         ."},comment:"  **'   (Heart Reader)'** .      '' .             ."}},mindfulness:{persona:" ",subtitle:"  ",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",metrics:{wpm:{value:280,change:"+5%",label:"  "},accuracy:{value:"97%",rank:" 3%",label:""},retention:{value:"Forever",rank:"",label:""}},summary:"       .          .",radarChart:{points:"50,5 95,25 90,75 50,90 10,75 5,25"},bigData:{load:{percentile:" 1.2%",rank:"Rank: 602 / 50,214",score:"98.8",avg:"45.2",desc:":   25   ,   90   .         ."},inference:{percentile:" 4.8%",rank:"Rank: 2,410 / 50,214",score:"95.2",avg:"52.0",desc:":          .        ."},vocabulary:{percentile:" 0.5%",rank:"Rank: 251 / 50,214",score:"99.5",avg:"38.4",desc:":        .          ."},comment:"   **' (Modern Sage)'**  .         .        ."}}};function q6(){const{user:t}=vl(),[e,n]=P.useState(0),[s,a]=P.useState(!1),[l,u]=P.useState(null),[f,p]=P.useState(null),[y,x]=P.useState(!1),w=ri(),T=P.useRef(0),I=P.useRef(0),D=P.useRef(null);P.useEffect(()=>{const j=localStorage.getItem("premiumUnlocked")==="true",N=localStorage.getItem("myResultType"),A=localStorage.getItem("quizResult");a(j),u(N),p(A)},[]);const B=l?W0[l]:null,U=t&&s&&B;P.useEffect(()=>(G(),()=>$()),[e]);const G=()=>{$(),D.current=setInterval(()=>{n(j=>(j+1)%3)},5e3)},$=()=>{D.current&&clearInterval(D.current)},M=j=>{$(),T.current=j.targetTouches[0].clientX},b=j=>{I.current=j.targetTouches[0].clientX},E=()=>{if(!T.current||!I.current)return;const j=T.current-I.current,N=50;j>N?n(A=>(A+1)%3):j<-N&&n(A=>A===0?2:A-1),T.current=0,I.current=0,G()};return h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased overflow-x-hidden min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-[430px] relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(ai,{type:"main"}),h.jsxs("main",{className:"pb-24 space-y-12",children:[h.jsxs("section",{className:"relative overflow-visible pt-0",children:[h.jsxs("div",{className:"flex transition-transform duration-700 cubic-bezier(0.4, 0, 0.2, 1)",style:{transform:`translateX(calc(-${e*100}%))`},children:[h.jsx(bt,{to:"/celebrity/archide-editors",className:"flex-none w-full px-4",onTouchStart:M,onTouchMove:b,onTouchEnd:E,children:h.jsxs("div",{className:"relative aspect-[4/5] w-full rounded-2xl overflow-hidden group shadow-2xl border border-white/10",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-1000 group-hover:scale-105",style:{backgroundImage:'url("https://images.unsplash.com/photo-1548048026-5a1a941d93d3?q=80&w=2000&auto=format&fit=crop")'}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),h.jsxs("div",{className:"absolute bottom-0 left-0 p-8 w-full",children:[h.jsx("span",{className:"inline-block px-3 py-1 rounded-full border border-gold/30 bg-black/40 backdrop-blur-md text-gold text-[10px] font-bold uppercase tracking-widest mb-4",children:"Archiview Exclusive"}),h.jsxs("h2",{className:"serif-title text-white text-4xl leading-none mb-3",children:["Archiview Editors' ",h.jsx("br",{}),h.jsx("span",{className:"italic text-slate-400",children:"Favorite List"})]}),h.jsxs("div",{className:"text-white text-xs font-bold uppercase tracking-widest border-b border-white/30 pb-1 inline-flex items-center gap-2 group-hover:text-gold group-hover:border-gold transition-colors",children:["Read Collection ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]})]})}),h.jsx(bt,{to:"/celebrity/elon-musk",className:"flex-none w-full px-4",onTouchStart:M,onTouchMove:b,onTouchEnd:E,children:h.jsxs("div",{className:"relative aspect-[4/5] w-full rounded-2xl overflow-hidden group shadow-2xl border border-white/10",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-1000 group-hover:scale-105",style:{backgroundImage:'url("/images/celebrities/elon-musk.jpg")'}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),h.jsxs("div",{className:"absolute bottom-0 left-0 p-8 w-full",children:[h.jsx("span",{className:"inline-block px-3 py-1 rounded-full border border-blue-400/30 bg-black/40 backdrop-blur-md text-blue-400 text-[10px] font-bold uppercase tracking-widest mb-4",children:"Visionary"}),h.jsxs("h2",{className:"serif-title text-white text-4xl leading-none mb-3",children:["Elon Musk's ",h.jsx("br",{}),h.jsx("span",{className:"italic text-slate-400",children:"Foundation"})]}),h.jsxs("div",{className:"text-white text-xs font-bold uppercase tracking-widest border-b border-white/30 pb-1 inline-flex items-center gap-2 group-hover:text-gold group-hover:border-gold transition-colors",children:["Explore Books ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"rocket_launch"})]})]})]})}),h.jsx(bt,{to:"/celebrity/barack-obama",className:"flex-none w-full px-4",onTouchStart:M,onTouchMove:b,onTouchEnd:E,children:h.jsxs("div",{className:"relative aspect-[4/5] w-full rounded-2xl overflow-hidden group shadow-2xl border border-white/10",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-1000 group-hover:scale-105",style:{backgroundImage:'url("/images/celebrities/barack-obama.jpg")'}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),h.jsxs("div",{className:"absolute bottom-0 left-0 p-8 w-full",children:[h.jsx("span",{className:"inline-block px-3 py-1 rounded-full border border-white/30 bg-black/40 backdrop-blur-md text-white text-[10px] font-bold uppercase tracking-widest mb-4",children:"Presidential Note"}),h.jsxs("h2",{className:"serif-title text-white text-4xl leading-none mb-3",children:["Barack Obama's ",h.jsx("br",{}),h.jsx("span",{className:"italic text-slate-400",children:"Perspectives"})]}),h.jsxs("div",{className:"text-white text-xs font-bold uppercase tracking-widest border-b border-white/30 pb-1 inline-flex items-center gap-2 group-hover:text-gold group-hover:border-gold transition-colors",children:["View Reading List ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"menu_book"})]})]})]})})]}),h.jsx("div",{className:"flex justify-center gap-3 mt-6",children:[0,1,2].map(j=>h.jsx("button",{onClick:()=>n(j),className:`h-1 transition-all duration-500 rounded-full ${e===j?"w-8 bg-gold":"w-2 bg-white/20"}`,"aria-label":`Go to slide ${j+1}`},j))})]}),h.jsxs("section",{className:"px-6",children:[h.jsx("div",{className:"flex items-end justify-between mb-8 border-b border-white/10 pb-4",children:h.jsxs("div",{children:[h.jsx("h2",{className:"serif-title text-2xl text-white",children:"Curated Minds"}),h.jsx("p",{className:"text-slate-500 text-xs font-medium uppercase tracking-widest mt-1",children:"Intellectual Archives"})]})}),h.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-8",children:ja.slice(0,y?ja.length:6).map(j=>h.jsxs(bt,{to:`/celebrity/${j.id}`,className:"group relative block",children:[h.jsxs("div",{className:"aspect-[3/4] rounded-xl overflow-hidden mb-3 relative shadow-lg",children:[h.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700"}),h.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors"})]}),h.jsx("h3",{className:"text-white font-medium text-lg leading-none group-hover:text-gold transition-colors",children:j.name}),h.jsx("p",{className:"text-slate-500 text-xs mt-1 truncate italic",children:j.readingNow})]},j.id))}),!y&&h.jsx("div",{className:"mt-12 flex justify-center",children:h.jsxs("button",{onClick:()=>x(!0),className:"px-8 py-3 rounded-full border border-gold/30 bg-gold/5 text-gold text-[11px] font-bold uppercase tracking-[0.2em] flex items-center gap-2 hover:bg-gold/10 transition-all",children:["View All ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"expand_more"})]})})]}),h.jsx("section",{className:"px-4",children:U?h.jsx("div",{onClick:()=>w("/result",{state:{resultType:l}}),className:"relative rounded-3xl overflow-hidden border border-gold/30 bg-gradient-to-br from-slate-900 via-slate-800 to-black p-1 group cursor-pointer shadow-2xl",children:h.jsxs("div",{className:"relative bg-background-dark/40 backdrop-blur-xl rounded-[22px] p-6 flex items-center gap-6",children:[h.jsxs("div",{className:"relative size-24 shrink-0",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-2xl rounded-full"}),h.jsx("img",{src:B.image,alt:B.persona,className:"relative w-full h-full object-cover rounded-2xl shadow-xl border border-gold/30"})]}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("span",{className:"text-gold text-[10px] font-bold uppercase tracking-widest block mb-1",children:"My Persona"}),h.jsx("h3",{className:"serif-title text-white text-2xl font-bold leading-none mb-2 tracking-tight",children:B.persona}),h.jsx("p",{className:"text-slate-400 text-[11px] font-medium truncate mb-4",children:B.subtitle}),h.jsx("div",{className:"flex gap-2",children:Object.entries(B.metrics).slice(0,2).map(([j,N])=>h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg px-2 py-1 flex flex-col items-center min-w-[64px]",children:[h.jsx("span",{className:"text-slate-500 text-[7px] uppercase block leading-none mb-1",children:N.label}),h.jsx("span",{className:"text-gold text-[10px] font-extrabold",children:N.value})]},j))})]}),h.jsx("span",{className:"material-symbols-outlined text-gold opacity-30 group-hover:opacity-100 transition-opacity",children:"chevron_right"})]})}):h.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 group cursor-pointer",onClick:()=>{f?w("/result",{state:{resultType:f}}):w("/quiz")},children:[h.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1481627834876-b7833e8f5570?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-40 group-hover:scale-105 transition-transform duration-1000"}),h.jsx("div",{className:"absolute inset-0 bg-background-dark/80"}),h.jsxs("div",{className:"relative p-8 text-center flex flex-col items-center",children:[h.jsx("span",{className:"material-symbols-outlined text-gold text-4xl mb-4 group-hover:scale-110 transition-transform",children:"psychology_alt"}),h.jsx("h3",{className:"serif-title text-white text-2xl mb-2",children:"Find Your Persona"}),h.jsx("p",{className:"text-slate-400 text-sm font-light mb-6 max-w-xs leading-relaxed",children:"Take our literary personality test to discover the books that resonate with your soul."}),f?h.jsxs("div",{className:"px-8 py-3 bg-white text-primary font-bold rounded-lg text-xs uppercase tracking-widest group-hover:bg-gold transition-colors flex items-center gap-2",children:["View Analysis Result ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]}):h.jsx("div",{className:"px-8 py-3 bg-gold text-primary font-bold rounded-lg text-xs uppercase tracking-widest group-hover:bg-white transition-colors",children:"Start Diagnostics"})]})]})}),h.jsxs("section",{className:"px-6",children:[h.jsx("div",{className:"flex items-end justify-between mb-6",children:h.jsx("h2",{className:"serif-title text-xl text-white italic",children:"Essential Reading"})}),h.jsx("div",{className:"grid grid-cols-3 gap-x-3 gap-y-6",children:[{title:"",author:" ",cover:"/images/covers/sapiens.jpg",celebId:"bill-gates"},{title:" ",author:"",cover:"/images/covers/say_01.jpg",celebId:"archide-editors"},{title:" ",author:" ",cover:"/images/covers/don_01.jpg",celebId:"archide-editors"},{title:"",author:" ",cover:"/images/covers/demian.jpg",celebId:"rm-bts"},{title:"",author:"",cover:"/images/covers/vegetarian.jpg",celebId:"han-kang"},{title:"1984",author:" ",cover:"/images/covers/1984.jpg",celebId:"rm-bts"},{title:"",author:" ",cover:"/images/covers/factfulness.jpg",celebId:"bill-gates"},{title:"",author:"",cover:"/images/covers/almond.jpg",celebId:"rm-bts"},{title:" ",author:"",cover:"/images/covers/human_acts.jpg",celebId:"han-kang"}].map((j,N)=>h.jsxs(bt,{to:`/celebrity/${j.celebId}`,className:"group block cursor-pointer",children:[h.jsxs("div",{className:"aspect-[2/3] rounded-xl overflow-hidden bg-white/5 mb-3 border border-white/10 shadow-2xl relative",children:[h.jsx("img",{src:j.cover,alt:j.title,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 group-hover:scale-105 transition-all duration-500",onError:A=>{A.target.src="https://via.placeholder.com/150x225?text=No+Cover"}}),h.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors duration-300 flex items-center justify-center",children:h.jsx("div",{className:"opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",children:h.jsxs("span",{className:"bg-gold text-primary text-[9px] font-black px-3 py-1.5 rounded-full shadow-xl flex items-center gap-1 uppercase tracking-tighter",children:["Read Review ",h.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"arrow_forward"})]})})})]}),h.jsx("h4",{className:"text-white text-[11px] font-bold truncate leading-tight mb-0.5",children:j.title}),h.jsx("p",{className:"text-slate-500 text-[9px] uppercase tracking-wider truncate font-medium",children:j.author})]},N))})]}),h.jsx(zn,{})]}),h.jsx(Bn,{})]})})}function H6(){const{isSpeaking:t,activeAudioId:e,playPodcast:n,speakReview:s,stopAll:a}=Y0(),l=f=>{const p=JSON.parse(localStorage.getItem("savedBooks")||"[]");if(p.some(x=>x.title===f.title)){alert("   .");return}const y=[...p,{title:f.title,author:f.author,cover:f.cover}];localStorage.setItem("savedBooks",JSON.stringify(y)),alert(" .")},u=f=>{const y={sapiens:"",1984:"1984",demian:"",vegetarian:"",factfulness:"",almond:"",leverage:"","one-thing":"",ubermensch:"",sayno:" ",psychology:" "}[f]||f;for(const x of ja){const w=x.books.find(T=>T.title===y);if(w?.review)return w.review;if(w?.desc)return w.desc}return""};return h.jsx("div",{className:"bg-white text-slate-900 dark:text-white min-h-[100dvh] pb-24 font-display flex justify-center",children:h.jsxs("div",{className:"w-full max-w-[430px] relative bg-background-dark shadow-2xl min-h-[100dvh] overflow-x-hidden border-t border-white/5",children:[h.jsx(ai,{title:"",type:"sub"}),h.jsxs("main",{className:"px-4 md:px-6 pt-10 pb-24 space-y-10",children:[h.jsxs("header",{className:"space-y-2",children:[h.jsx("span",{className:"text-gold text-[9px] font-black uppercase tracking-[0.2em] block",children:"Editorial Picks"}),h.jsxs("h2",{className:"serif-title text-2xl md:text-3xl text-white font-light leading-snug",children:["    ",h.jsx("br",{}),h.jsx("span",{className:"italic text-slate-400",children:"Archiview Curation"}),h.jsx("span",{className:"text-[8px] text-white/20 ml-2",children:"v9.0-UltimateNatural"})]})]}),h.jsxs("div",{className:"relative w-full rounded-[32px] overflow-hidden bg-[#0f1115] border border-white/5 shadow-2xl group",children:[h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gold/10 blur-[100px] rounded-full -mr-20 -mt-20"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 blur-[80px] rounded-full -ml-10 -mb-10"}),h.jsxs("div",{className:"relative p-6 md:p-8 flex flex-col items-center",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"h-[1px] w-4 bg-gold/50"}),h.jsx("span",{className:"text-gold text-[10px] font-black uppercase tracking-[0.4em]",children:"Weekly Focus"}),h.jsx("span",{className:"h-[1px] w-4 bg-gold/50"})]}),h.jsxs("div",{className:"mb-6 flex items-center gap-2 px-3 py-1 rounded-full bg-gold/10 border border-gold/20",children:[h.jsx("span",{className:"material-symbols-outlined text-[12px] text-gold",children:"neurology"}),h.jsx("span",{className:"text-[8px] text-gold font-bold uppercase tracking-widest",children:"NotebookLM Audio Experience"})]}),h.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-8 items-center mb-10",children:[h.jsxs("div",{className:"relative shrink-0 group-hover:scale-105 transition-transform duration-700",children:[h.jsx("div",{className:"absolute -inset-4 bg-black/40 blur-2xl rounded-full opacity-60"}),h.jsx("div",{className:"relative w-40 aspect-[2/3] rounded-lg overflow-hidden shadow-[0_20px_50px_rgba(0,0,0,0.5)] border border-white/10",children:h.jsx("img",{src:"/images/covers/sapiens.jpg",alt:"Sapiens",className:"w-full h-full object-cover"})}),h.jsx("div",{className:"absolute -bottom-2 -right-2 size-12 bg-gold flex items-center justify-center rounded-full shadow-lg border-4 border-[#0f1115]",children:h.jsx("span",{className:"material-symbols-outlined text-primary text-xl font-bold",children:"star_rate"})})]}),h.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"serif-title text-2xl md:text-3xl text-white font-medium leading-tight",children:""}),h.jsx("p",{className:"text-slate-500 text-sm font-light uppercase tracking-widest italic",children:"Yuval Noah Harari"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("p",{className:"text-slate-400 text-xs font-light leading-relaxed",children:['"    ',h.jsx("br",{}),'  "']}),h.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2",children:[h.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 px-2 py-0.5 rounded-md uppercase tracking-tighter",children:"History"}),h.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 px-2 py-0.5 rounded-md uppercase tracking-tighter",children:"Philosophy"})]})]})]})]}),h.jsxs("div",{className:"w-full flex gap-3",children:[h.jsxs(bt,{to:"/review/sapiens",className:"flex-1 group/btn relative h-14 bg-white/5 backdrop-blur-xl overflow-hidden rounded-2xl border border-white/10 flex items-center justify-center transition-all duration-500 hover:border-white/30 hover:bg-white/10 hover:-translate-y-1 shadow-2xl",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-500"}),h.jsx("span",{className:"text-white text-[10px] font-black uppercase tracking-[0.2em] relative z-10 transition-colors group-hover/btn:text-white whitespace-nowrap",children:"Review Detail"})]}),h.jsxs("button",{onClick:()=>e==="weekly-sapiens"?a():n(An.sapiens,"weekly-sapiens"),className:`flex-none px-6 h-14 rounded-2xl border backdrop-blur-xl flex items-center justify-center gap-2 transition-all duration-500 hover:-translate-y-1 ${t&&e==="weekly-sapiens"?"bg-gold border-gold text-primary shadow-[0_10px_30px_rgba(212,175,55,0.4)] anim-pulse":"bg-white/5 border-white/10 text-white hover:border-gold/50 hover:bg-gold/5"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:t&&e==="weekly-sapiens"?"stop":"play_circle"}),h.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.1em]",children:t&&e==="weekly-sapiens"?"":""})]}),h.jsx("button",{onClick:()=>l({title:"",author:" ",cover:"/images/covers/sapiens.jpg"}),className:"flex-none px-4 h-14 rounded-2xl border border-white/10 bg-white/5 text-white/50 hover:bg-white/10 hover:text-white transition-all flex items-center justify-center shadow-2xl",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"bookmark"})})]})]})]}),h.jsxs("div",{className:"relative w-full rounded-[32px] overflow-hidden bg-[#0a0c10] border border-white/5 shadow-2xl group",children:[h.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-primary/10 blur-[100px] rounded-full -ml-20 -mt-20"}),h.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-gold/5 blur-[80px] rounded-full -mr-10 -mb-10"}),h.jsxs("div",{className:"relative p-6 md:p-8 flex flex-col items-center",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"h-[1px] w-4 bg-gold/50"}),h.jsx("span",{className:"text-gold text-[10px] font-black uppercase tracking-[0.4em]",children:"Weekly Focus"}),h.jsx("span",{className:"h-[1px] w-4 bg-gold/50"})]}),h.jsxs("div",{className:"mb-6 flex items-center gap-2 px-3 py-1 rounded-full bg-primary/20 border border-primary/30",children:[h.jsx("span",{className:"material-symbols-outlined text-[12px] text-primary-light",children:"psychology"}),h.jsx("span",{className:"text-[8px] text-primary-light font-bold uppercase tracking-widest",children:"Masterpiece Collection"})]}),h.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-8 items-center mb-10",children:[h.jsxs("div",{className:"relative shrink-0 group-hover:scale-105 transition-transform duration-700",children:[h.jsx("div",{className:"absolute -inset-4 bg-black/40 blur-2xl rounded-full opacity-60"}),h.jsx("div",{className:"relative w-40 aspect-[2/3] rounded-lg overflow-hidden shadow-[0_20px_50px_rgba(0,0,0,0.5)] border border-white/10",children:h.jsx("img",{src:"/images/covers/wm_01.jpg",alt:"bermensch",className:"w-full h-full object-cover"})}),h.jsx("div",{className:"absolute -bottom-2 -right-2 size-12 bg-primary flex items-center justify-center rounded-full shadow-lg border-4 border-[#0a0c10]",children:h.jsx("span",{className:"material-symbols-outlined text-gold text-xl font-bold",children:"bolt"})})]}),h.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"serif-title text-2xl md:text-3xl text-white font-medium leading-tight",children:""}),h.jsx("p",{className:"text-slate-500 text-sm font-light uppercase tracking-widest italic",children:"Friedrich Nietzsche"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("p",{className:"text-slate-400 text-xs font-light leading-relaxed",children:['"  , ',h.jsx("br",{}),'    "']}),h.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2",children:[h.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 px-2 py-0.5 rounded-md uppercase tracking-tighter",children:"Philosophy"}),h.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 px-2 py-0.5 rounded-md uppercase tracking-tighter",children:"Existentialism"})]})]})]})]}),h.jsxs("div",{className:"w-full flex gap-3",children:[h.jsxs(bt,{to:"/review/ubermensch",className:"flex-1 group/btn relative h-14 bg-white/5 backdrop-blur-xl overflow-hidden rounded-2xl border border-white/10 flex items-center justify-center transition-all duration-500 hover:border-white/30 hover:bg-white/10 hover:-translate-y-1 shadow-2xl",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-500"}),h.jsx("span",{className:"text-white text-[10px] font-black uppercase tracking-[0.2em] relative z-10 transition-colors group-hover/btn:text-white whitespace-nowrap",children:"Review Detail"})]}),h.jsxs("button",{onClick:()=>e==="weekly-ubermensch"?a():n(An.ubermensch,"weekly-ubermensch"),className:`flex-none px-6 h-14 rounded-2xl border backdrop-blur-xl flex items-center justify-center gap-2 transition-all duration-500 hover:-translate-y-1 ${t&&e==="weekly-ubermensch"?"bg-gold border-gold text-primary shadow-[0_10px_30px_rgba(212,175,55,0.4)] anim-pulse":"bg-white/5 border-white/10 text-white hover:border-gold/50 hover:bg-gold/5"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:t&&e==="weekly-ubermensch"?"stop":"podcasts"}),h.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.1em]",children:t&&e==="weekly-ubermensch"?"":""})]}),h.jsx("button",{onClick:()=>l({title:"",author:" ",cover:"/images/covers/wm_01.jpg"}),className:"flex-none px-4 h-14 rounded-2xl border border-white/10 bg-white/5 text-white/50 hover:bg-white/10 hover:text-white transition-all flex items-center justify-center shadow-2xl",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"bookmark"})})]})]})]}),h.jsxs("section",{className:"space-y-8",children:[h.jsx("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:h.jsx("span",{className:"text-white text-xl font-bold serif-title italic",children:"Editors' Picks"})}),h.jsx("div",{className:"space-y-6",children:[{id:"sayno",title:" ",subtitle:"     ",author:"",cover:"/images/covers/say_01.jpg",tag:"BESTSELLER",isPodcast:!0,script:An.sayno},{id:"psychology",title:" ",subtitle:"   20  ",author:" ",cover:"/images/covers/don_01.jpg",tag:"ECONOMY",isPodcast:!0,script:An.psychology},{id:"ubermensch",title:"",subtitle:"     ",author:" ",cover:"/images/covers/wm_01.jpg",tag:"PHILOSOPHY",isPodcast:!0,script:An.ubermensch},{id:"1984",title:"1984",subtitle:"     ",author:" ",cover:"/images/covers/1984.jpg",tag:"CLASSIC",isPodcast:!0,script:An[1984]},{id:"demian",title:"",subtitle:"   ",author:" ",cover:"/images/covers/demian.jpg",tag:"PHILOSOPHY",isPodcast:!0,script:An.demian},{id:"vegetarian",title:"",subtitle:"    ",author:"",cover:"/images/covers/vegetarian.jpg",tag:"NOBEL",isPodcast:!0,script:An.vegetarian},{id:"factfulness",title:"",subtitle:"    ",author:" ",cover:"/images/covers/factfulness.jpg",tag:"SOCIETY",isPodcast:!0,script:An.factfulness},{id:"almond",title:"",subtitle:"    ",author:"",cover:"/images/covers/almond.jpg",tag:"K-NOVEL",isPodcast:!0,script:An.almond},{id:"leverage",title:"",subtitle:"     ",author:" ",cover:"/images/covers/rm_01.jpg",tag:"BUSINESS",isPodcast:!0,script:An.leverage},{id:"one-thing",title:"",subtitle:"     ",author:" ",cover:"/images/covers/one_01.jpg",tag:"GROWTH",isPodcast:!0,script:An["one-thing"]}].map(f=>h.jsxs("div",{className:"flex gap-5 group",children:[h.jsx("div",{className:"w-24 aspect-[3/4] rounded-2xl overflow-hidden shrink-0 border border-white/10 relative shadow-xl",children:h.jsx("img",{src:f.cover,alt:f.title,className:"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"})}),h.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[8px] text-gold font-black uppercase tracking-widest bg-gold/10 px-2 py-0.5 rounded-full mb-2 inline-block border border-gold/20",children:f.tag}),h.jsx("h4",{className:"text-white font-bold text-lg leading-tight mb-1",children:f.title}),h.jsx("p",{className:"text-slate-500 text-xs font-light",children:f.subtitle})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[h.jsxs(bt,{to:`/review/${f.id}`,className:"h-10 rounded-xl bg-white/5 border border-white/10 text-white text-[9px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"menu_book"}),h.jsx("span",{children:" "})]}),h.jsxs("button",{onClick:()=>{e===`pick-${f.id}`?a():f.isPodcast&&f.script?n(f.script,`pick-${f.id}`):s(u(f.id),`pick-${f.id}`)},className:`h-10 rounded-xl border flex items-center justify-center gap-2 transition-all ${t&&e===`pick-${f.id}`?"bg-gold border-gold text-primary shadow-lg shadow-gold/20":"bg-white/5 border-white/10 text-white hover:border-gold/50 hover:text-gold"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:t&&e===`pick-${f.id}`?"stop":f.isPodcast?"podcasts":"play_circle"}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:t&&e===`pick-${f.id}`?"":f.isPodcast?"":""})]}),h.jsxs("a",{href:`https://www.coupang.com/np/search?q=${encodeURIComponent(f.title)}`,target:"_blank",rel:"noopener noreferrer",className:"h-10 rounded-xl bg-gold/5 border border-gold/20 text-gold text-[9px] font-black uppercase tracking-[0.1em] flex items-center justify-center gap-2 hover:bg-gold hover:text-primary transition-all",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"shopping_cart"}),h.jsx("span",{children:""})]}),h.jsxs("button",{className:"h-10 rounded-xl bg-white/5 border border-white/10 text-white/50 text-[9px] font-black uppercase tracking-widest hover:bg-white/8 hover:text-white transition-all flex items-center justify-center gap-2",onClick:()=>l(f),children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"bookmark"}),h.jsx("span",{children:" "})]})]})]})]},f.id))})]}),h.jsx(zn,{})]}),h.jsx(Bn,{})]})})}function G6(){const[t,e]=P.useState(!1),[n,s]=P.useState(900),a=hs();P.useEffect(()=>{const T=setInterval(()=>{s(D=>D>0?D-1:0)},1e3);return localStorage.getItem("premiumUnlocked")==="true"&&e(!0),()=>clearInterval(T)},[]);const l=T=>{const I=Math.floor(T/60),D=T%60;return`${I}:${D<10?"0":""}${D}`},u=a.state?.resultType||localStorage.getItem("myResultType")||"growth",f=K0[u],p=W0[u],y=()=>{window.confirm("PG_LINK: [  9,900]  ? (Toss/Kakao)")&&(e(!0),localStorage.setItem("premiumUnlocked","true"),localStorage.setItem("myResultType",u))},x=()=>{navigator.share?navigator.share({title:"The Archiview -   ",text:`${p.persona} -     .`,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href).then(()=>{alert("  .")})},w=()=>{navigator.share?navigator.share({title:"The Archiview",text:`${p.persona} -    ! #TheArchiview #`,url:window.location.href}).catch(console.error):alert("         .")};return h.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen flex flex-col",children:[h.jsxs("header",{className:"sticky top-0 z-50 flex items-center justify-between bg-background-light/80 dark:bg-background-dark/80 px-4 py-4 backdrop-blur-md border-b border-primary/10 dark:border-white/10",children:[h.jsx(bt,{to:"/quiz",className:"flex size-10 items-center justify-center rounded-full hover:bg-primary/10 dark:hover:bg-white/10 transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back"})}),h.jsx("h1",{className:"text-lg font-bold tracking-tight",children:" "}),h.jsx("button",{onClick:x,className:"flex size-10 items-center justify-center rounded-full hover:bg-primary/10 dark:hover:bg-white/10 transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"share"})})]}),h.jsxs("main",{className:"flex-1 pb-24",children:[h.jsxs("section",{className:"flex flex-col items-center px-6 py-8 text-center animate-fade-in-up",children:[h.jsxs("div",{className:"relative mb-6",children:[h.jsx("div",{className:"absolute inset-0 scale-110 rounded-full bg-primary/20 blur-3xl dark:bg-blue-500/10"}),h.jsxs("div",{className:"relative flex size-48 items-center justify-center rounded-full border-4 border-primary/20 bg-primary/5 p-4 dark:border-white/10",children:[h.jsx("div",{className:"size-40 rounded-full bg-cover bg-center shadow-2xl",style:{backgroundImage:`url('${p.image}')`}}),h.jsx("div",{className:"absolute -bottom-2 rounded-full bg-primary px-3 py-1 text-[10px] font-bold uppercase tracking-widest text-white ring-4 ring-background-dark",children:"  "})]})]}),h.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-primary dark:text-white",children:p.persona}),h.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400 font-medium",children:p.subtitle}),h.jsxs("div",{className:"mt-4 flex items-center gap-2 rounded-full bg-primary/5 px-3 py-1 dark:bg-white/5",children:[h.jsx("span",{className:"material-symbols-outlined text-sm text-blue-500",children:"verified"}),h.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"  "})]})]}),h.jsxs("section",{className:"px-4 py-4 animate-fade-in-up delay-100",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl bg-primary/5 p-4 text-center dark:bg-primary/20 border border-primary/10",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:p.metrics.wpm.label}),h.jsx("span",{className:"text-xl font-extrabold text-primary dark:text-white",children:p.metrics.wpm.value}),h.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:p.metrics.wpm.change})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl bg-primary/5 p-4 text-center dark:bg-primary/20 border border-primary/10",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:p.metrics.accuracy.label}),h.jsx("span",{className:"text-xl font-extrabold text-primary dark:text-white",children:p.metrics.accuracy.value}),h.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:p.metrics.accuracy.rank})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl bg-primary/5 p-4 text-center dark:bg-primary/20 border border-primary/10",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:p.metrics.retention.label}),h.jsx("span",{className:"text-xl font-extrabold text-primary dark:text-white",children:p.metrics.retention.value}),h.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:p.metrics.retention.rank})]})]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-white/5 rounded-lg p-4 border border-slate-100 dark:border-white/5",children:[h.jsxs("h4",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"info"}),"   "]}),h.jsxs("ul",{className:"space-y-2 text-[11px] text-slate-600 dark:text-slate-400 leading-relaxed",children:[h.jsxs("li",{children:[h.jsx("strong",{className:"text-primary dark:text-slate-300",children:"   (WPM):"}),"         ."]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-primary dark:text-slate-300",children:"/:"}),"       ."]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-primary dark:text-slate-300",children:"/:"}),"        ."]})]}),h.jsx("p",{className:"mt-2 text-[10px] text-slate-400 italic",children:"*      50       ."})]})]}),h.jsxs("section",{className:"px-6 py-4 animate-fade-in-up delay-200",children:[h.jsx("h3",{className:"text-lg font-bold",children:" "}),h.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-600 dark:text-slate-400",children:p.summary})]}),h.jsxs("section",{className:"px-6 py-4 flex gap-3 animate-fade-in-up delay-300",children:[h.jsxs("button",{onClick:x,className:"flex-1 flex items-center justify-center gap-2 py-3.5 rounded-2xl bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900 font-bold transition-all active:scale-95 shadow-xl hover:shadow-primary/20",children:[h.jsx("span",{className:"material-symbols-outlined text-xl",children:"share"})," "]}),h.jsxs("button",{onClick:w,className:"flex-1 flex items-center justify-center gap-2 py-3.5 rounded-2xl bg-gradient-to-tr from-[#f09433] via-[#dc2743] to-[#bc1888] text-white font-bold transition-all active:scale-95 shadow-xl hover:shadow-[#dc2743]/30",children:[h.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"})," "]})]}),h.jsx("section",{className:"relative mx-4 mt-8 mb-12 overflow-hidden rounded-3xl border border-primary/20 dark:border-white/10 bg-white dark:bg-[#0f172a] shadow-[0_20px_50px_rgba(0,0,0,0.3)] animate-fade-in-up delay-500",children:h.jsxs("div",{className:"p-6 md:p-8",children:[h.jsx("div",{className:"flex items-center justify-between mb-8",children:h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl font-black text-primary dark:text-white flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-gold font-bold",children:"workspace_premium"}),"   "]}),h.jsx("p",{className:"text-[11px] text-slate-500 mt-1 font-bold uppercase tracking-wider",children:"Big Data Cognitive Analysis Suite"})]})}),h.jsxs("div",{className:`space-y-8 transition-all duration-700 ${t?"":"filter blur-xl opacity-20 pointer-events-none select-none h-[500px] overflow-hidden"}`,children:[h.jsxs("div",{className:"bg-slate-50 dark:bg-black/20 p-6 rounded-2xl border border-primary/5 dark:border-white/5 relative",children:[h.jsxs("h4",{className:"text-sm font-bold text-primary dark:text-white mb-6 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"radar"}),"5-Dimension   "]}),h.jsxs("div",{className:"flex flex-col items-center gap-8",children:[h.jsx("div",{className:"relative size-48 shrink-0",children:h.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-xl transform text-xs",children:[h.jsx("polygon",{points:"50,5 95,30 95,75 50,95 5,75 5,30",fill:"none",stroke:"#ddd",strokeWidth:"0.5",className:"dark:stroke-white/20"}),h.jsx("polygon",{points:"50,20 80,35 80,65 50,80 20,65 20,35",fill:"none",stroke:"#ddd",strokeWidth:"0.5",className:"dark:stroke-white/20"}),h.jsx("polygon",{points:p.radarChart.points,fill:"rgba(212, 175, 55, 0.4)",stroke:"#d4af37",strokeWidth:"2",className:"animate-pulse-slow"}),h.jsx("text",{x:"50",y:"4",textAnchor:"middle",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"96",y:"28",textAnchor:"start",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"96",y:"78",textAnchor:"start",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"50",y:"99",textAnchor:"middle",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"4",y:"78",textAnchor:"end",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"4",y:"28",textAnchor:"end",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""})]})}),h.jsx("div",{className:"w-full text-center",children:h.jsxs("p",{className:"text-xs leading-relaxed text-slate-600 dark:text-slate-300",children:["   ",h.jsx("strong",{className:"text-primary dark:text-gold",children:p.persona})," .  ",h.jsx("strong",{children:p.metrics.accuracy.label})," ",h.jsx("strong",{children:p.metrics.retention.label}),"    ."]})})]})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h4",{className:"text-sm font-bold text-primary dark:text-white mb-4 flex items-center gap-2 border-b border-primary/10 dark:border-white/10 pb-2",children:[h.jsx("span",{className:"material-symbols-outlined text-green-500",children:"analytics"}),"Big Data   (N=50,214)"]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-white/5 p-5 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-end mb-2",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 block mb-1",children:"   (Cognitive Load Capacity)"}),h.jsxs("h5",{className:"text-lg font-black text-primary dark:text-white",children:[p.bigData.load.percentile," ",h.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-1",children:["(",p.bigData.load.rank,")"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-2xl font-black text-green-600",children:p.bigData.load.score}),h.jsx("span",{className:"text-[10px] text-slate-400 block",children:"/ 100 pt"})]})]}),h.jsxs("div",{className:"h-3 bg-slate-200 dark:bg-white/10 rounded-full overflow-hidden relative mb-3",children:[h.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-400 w-[45%] opacity-30"})," ",h.jsx("div",{className:"absolute top-0 left-[44%] h-full w-[2px] bg-slate-500 z-10"})," ",h.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary to-gold shadow-lg transition-all duration-1000 ease-out",style:{width:`${p.bigData.load.score}%`}})," "]}),h.jsxs("div",{className:"flex justify-between text-[9px] text-slate-400 font-medium mb-3",children:[h.jsxs("span",{children:["Average (",p.bigData.load.avg,")"]}),h.jsxs("span",{children:["You (",p.bigData.load.score,")"]})]}),h.jsx("p",{className:"text-xs leading-relaxed text-slate-700 dark:text-slate-300 border-t border-slate-200 dark:border-white/10 pt-3 mt-2",children:p.bigData.load.desc})]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-white/5 p-5 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-end mb-2",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 block mb-1",children:"   (Inference Speed)"}),h.jsxs("h5",{className:"text-lg font-black text-primary dark:text-white",children:[p.bigData.inference.percentile," ",h.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-1",children:["(",p.bigData.inference.rank,")"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-2xl font-black text-blue-500",children:p.bigData.inference.score}),h.jsx("span",{className:"text-[10px] text-slate-400 block",children:"/ 100 pt"})]})]}),h.jsxs("div",{className:"h-3 bg-slate-200 dark:bg-white/10 rounded-full overflow-hidden relative mb-3",children:[h.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-400 w-[52%] opacity-30"}),h.jsx("div",{className:"absolute top-0 left-[51%] h-full w-[2px] bg-slate-500 z-10"}),h.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-600 to-cyan-400 shadow-lg transition-all duration-1000 ease-out",style:{width:`${p.bigData.inference.score}%`}})]}),h.jsxs("div",{className:"flex justify-between text-[9px] text-slate-400 font-medium mb-3",children:[h.jsxs("span",{children:["Average (",p.bigData.inference.avg,")"]}),h.jsxs("span",{children:["You (",p.bigData.inference.score,")"]})]}),h.jsx("p",{className:"text-xs leading-relaxed text-slate-700 dark:text-slate-300 border-t border-slate-200 dark:border-white/10 pt-3 mt-2",children:p.bigData.inference.desc})]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-white/5 p-5 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-end mb-2",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 block mb-1",children:"  (Lexical Diversity)"}),h.jsxs("h5",{className:"text-lg font-black text-primary dark:text-white",children:[p.bigData.vocabulary.percentile," ",h.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-1",children:["(",p.bigData.vocabulary.rank,")"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-2xl font-black text-purple-500",children:p.bigData.vocabulary.score}),h.jsx("span",{className:"text-[10px] text-slate-400 block",children:"/ 100 pt"})]})]}),h.jsxs("div",{className:"h-3 bg-slate-200 dark:bg-white/10 rounded-full overflow-hidden relative mb-3",children:[h.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-400 w-[38%] opacity-30"}),h.jsx("div",{className:"absolute top-0 left-[37%] h-full w-[2px] bg-slate-500 z-10"}),h.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-purple-600 to-pink-400 shadow-lg transition-all duration-1000 ease-out",style:{width:`${p.bigData.vocabulary.score}%`}})]}),h.jsxs("div",{className:"flex justify-between text-[9px] text-slate-400 font-medium mb-3",children:[h.jsxs("span",{children:["Average (",p.bigData.vocabulary.avg,")"]}),h.jsxs("span",{children:["You (",p.bigData.vocabulary.score,")"]})]}),h.jsx("p",{className:"text-xs leading-relaxed text-slate-700 dark:text-slate-300 border-t border-slate-200 dark:border-white/10 pt-3 mt-2",children:p.bigData.vocabulary.desc})]})]}),h.jsxs("div",{className:"bg-primary/5 dark:bg-white/5 p-5 rounded-2xl border-l-4 border-primary dark:border-gold",children:[h.jsxs("h4",{className:"text-sm font-bold text-primary dark:text-white mb-2 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-xl",children:"auto_awesome"}),"AI   "]}),h.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 leading-relaxed mb-3",children:p.bigData.comment})]}),h.jsxs("div",{className:"pt-8 border-t border-primary/10 dark:border-white/10",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("span",{className:"text-xs font-bold text-gold uppercase tracking-wider",children:"AI "}),h.jsx("h4",{className:"text-lg font-bold text-primary dark:text-white mt-1",children:"    Top 5"}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:f.desc})]}),h.jsx("div",{className:"space-y-4",children:f.books.map((T,I)=>h.jsxs("div",{className:"flex gap-4 p-4 rounded-xl bg-white dark:bg-white/5 border border-primary/5 dark:border-white/5 shadow-sm hover:shadow-md transition-all group",children:[h.jsx("div",{className:"w-16 h-24 shrink-0 rounded-md overflow-hidden bg-slate-200 shadow-md",children:h.jsx("img",{src:T.cover,alt:T.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[h.jsx("h5",{className:"font-bold text-primary dark:text-white text-sm line-clamp-1",children:T.title}),h.jsx("p",{className:"text-xs text-slate-500 mb-1",children:T.author}),h.jsx("p",{className:"text-[11px] text-slate-600 dark:text-slate-400 leading-tight line-clamp-2 mb-3",children:T.desc}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("a",{href:T.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-gold hover:bg-gold-light text-primary text-[10px] font-bold py-2 rounded-lg flex items-center justify-center gap-1 shadow-sm transition-all active:scale-95",children:[" ",h.jsx("span",{className:"material-symbols-outlined text-xs",children:"shopping_cart"})]}),h.jsxs("button",{onClick:()=>{const D=JSON.parse(localStorage.getItem("savedBooks")||"[]");if(D.some(U=>U.title===T.title)){const U=D.filter(G=>G.title!==T.title);localStorage.setItem("savedBooks",JSON.stringify(U)),alert(" .")}else D.push(T),localStorage.setItem("savedBooks",JSON.stringify(D)),alert(" .");window.dispatchEvent(new Event("storage"))},className:"flex-1 bg-slate-100 dark:bg-white/10 hover:bg-slate-200 dark:hover:bg-white/20 text-slate-700 dark:text-white text-[10px] font-bold py-2 rounded-lg flex items-center justify-center gap-1 transition-all active:scale-95",children:[" ",h.jsx("span",{className:"material-symbols-outlined text-xs",children:"bookmark"})]})]})]})]},I))})]}),h.jsxs("div",{className:"pt-8 border-t border-primary/10 dark:border-white/10",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("span",{className:"text-xs font-bold text-gold uppercase tracking-wider",children:"AI  2"}),h.jsx("h4",{className:"text-lg font-bold text-primary dark:text-white mt-1",children:"    Top 5"}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:f.travelDesc})]}),h.jsx("div",{className:"space-y-4",children:f.travel&&f.travel.map((T,I)=>h.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-slate-900 group shadow-md hover:shadow-xl transition-all",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("img",{src:T.image,alt:T.place,className:"w-full h-full object-cover opacity-60 group-hover:scale-105 group-hover:opacity-50 transition-all duration-700"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"})]}),h.jsxs("div",{className:"relative p-5 flex flex-col items-start justify-end h-32",children:[h.jsx("span",{className:"text-[10px] font-bold text-gold bg-black/30 px-2 py-0.5 rounded-full mb-2 backdrop-blur-sm border border-white/10",children:T.country}),h.jsx("h5",{className:"text-lg font-bold text-white leading-tight mb-1",children:T.place}),h.jsx("p",{className:"text-xs text-slate-300 line-clamp-2 leading-relaxed",children:T.desc})]})]},I))})]}),t&&h.jsxs("div",{className:"mt-8 p-4 bg-green-500/10 rounded-xl text-green-600 text-sm font-bold text-center border border-green-500/20 shadow-inner flex flex-col items-center gap-2 animate-fade-in",children:[h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"check_circle"}),h.jsx("span",{children:"       ."})]})]}),!t&&h.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/40 dark:bg-black/40 backdrop-blur-sm p-6 text-center",children:[h.jsx("div",{className:"mb-8 animate-bounce-subtle",children:h.jsx("div",{className:"bg-red-600 text-white text-[11px] font-black px-4 py-1.5 rounded-full shadow-[0_0_20px_rgba(220,38,38,0.5)] uppercase tracking-[0.2em] border border-white/20",children:" Limited Time Sale "})}),h.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md rounded-[2.5rem] p-8 border border-white/20 shadow-2xl w-full max-w-sm",children:[h.jsx("div",{className:"mb-4 flex size-20 items-center justify-center rounded-full bg-gradient-to-br from-gold/20 to-gold/5 mx-auto ring-1 ring-gold/30",children:h.jsx("span",{className:"material-symbols-outlined text-5xl text-gold animate-pulse",children:"lock"})}),h.jsxs("h4",{className:"text-2xl font-black text-slate-900 dark:text-white leading-tight mb-2",children:[" ",h.jsx("br",{}),"  "]}),h.jsxs("p",{className:"mb-6 text-xs font-medium text-slate-500 dark:text-slate-400 leading-relaxed",children:[" 1%   ",h.jsx("br",{}),"   /  ."]}),h.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[h.jsx("span",{className:"text-slate-400 line-through text-sm font-bold opacity-75 mb-1",children:" 29,000"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-4xl font-black text-red-500",children:"9,900"}),h.jsx("span",{className:"text-xs font-black text-red-500 bg-red-500/10 px-2 py-0.5 rounded",children:"66% OFF"})]})]}),h.jsxs("div",{className:"mb-8 bg-slate-100 dark:bg-white/5 py-3 rounded-2xl border border-slate-200 dark:border-white/10",children:[h.jsx("p",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-widest mb-2",children:"   "}),h.jsxs("div",{className:"text-3xl font-black text-slate-900 dark:text-white font-mono tracking-widest flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-red-500 animate-pulse",children:"alarm"}),l(n)]})]}),h.jsx("button",{onClick:y,className:"group relative w-full overflow-hidden rounded-2xl bg-gold text-slate-900 shadow-xl transition-all hover:scale-[1.02] active:scale-[0.98]",children:h.jsxs("div",{className:"relative flex items-center justify-center gap-3 py-5 px-6",children:[h.jsx("span",{className:"text-base font-black uppercase tracking-tight",children:"  "}),h.jsx("span",{className:"material-symbols-outlined font-bold",children:"arrow_forward"})]})}),h.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4 text-[9px] font-bold text-slate-500 uppercase tracking-widest opacity-80",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-xs",children:"shield_check"}),"  "]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-xs",children:"history_edu"}),"  "]})]})]})]})]})}),h.jsx(zn,{})]}),h.jsx(Bn,{})]})}function TT(){const{id:t}=LT(),e=ja.find(n=>n.id===t)||ja[0];return P.useEffect(()=>{window.scrollTo(0,0)},[t]),h.jsx("div",{className:"bg-white text-slate-900 dark:text-slate-100 antialiased font-display min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(ai,{title:" ",type:"sub"}),h.jsxs("main",{className:"pb-24",children:[h.jsx("section",{className:"px-4 pt-2 overflow-hidden",children:h.jsxs("div",{className:"relative w-full h-[70vh] md:h-[80vh] flex flex-col justify-end overflow-hidden rounded-2xl shadow-xl",children:[h.jsxs("div",{className:"absolute inset-0 z-0",children:[h.jsx("img",{className:"w-full h-full object-cover grayscale brightness-90 contrast-[1.15]",src:e.image,alt:e.name,onError:n=>{n.target.src="https://images.unsplash.com/photo-1544275039-35ed06764574?q=80&w=2000"}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background-dark via-background-dark/30 to-transparent"})]}),h.jsxs("div",{className:"relative z-20 p-6 md:p-12 mb-4 max-w-full",children:[h.jsx("span",{className:"inline-block px-3 py-1.5 bg-gold text-primary text-[10px] font-black uppercase tracking-tighter mb-4 rounded-sm",children:" "}),h.jsx("h1",{className:"text-[32px] md:text-[56px] font-light tracking-tighter text-white mb-4 leading-tight",children:e.name}),h.jsxs("p",{className:"text-slate-300 text-lg md:text-xl leading-relaxed font-light italic opacity-90",children:['"',e.quote,'"']})]})]})}),h.jsx("section",{className:"bg-background-dark px-6 py-12 md:py-20 border-b border-primary/20",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("div",{className:"mb-10",children:[h.jsxs("h3",{className:"text-gold text-2xl md:text-3xl uppercase tracking-[0.3em] mb-6 font-bold flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-[2px] bg-gold-start"})," "]}),h.jsx("p",{className:"text-base md:text-lg font-light leading-relaxed text-slate-300 tracking-normal opacity-80",children:e.intro})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4 md:gap-24 pb-4",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-gold text-2xl md:text-3xl font-bold tracking-tight",children:e.stats.books}),h.jsx("span",{className:"text-[11px] md:text-base text-slate-400 font-medium whitespace-nowrap",children:" "})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-gold text-2xl md:text-3xl font-bold tracking-tight",children:e.stats.categories}),h.jsx("span",{className:"text-[11px] md:text-base text-slate-400 font-medium whitespace-nowrap",children:""})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-gold text-2xl md:text-3xl font-bold tracking-tight",children:e.stats.time}),h.jsx("span",{className:"text-[11px] md:text-base text-slate-400 font-medium whitespace-nowrap",children:""})]})]})]})}),h.jsx("section",{className:"px-4 py-8",children:h.jsx(bt,{to:"/quiz",className:"block group",children:h.jsxs("div",{className:"relative aspect-[16/9] rounded-3xl overflow-hidden border border-white/10 shadow-2xl",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?q=80&w=1000&auto=format&fit=crop",alt:"Library Background",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),h.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center p-6 text-center",children:[h.jsx("div",{className:"size-12 rounded-full bg-gold/20 flex items-center justify-center border border-gold/40 mb-4",children:h.jsx("span",{className:"material-symbols-outlined text-gold",children:"psychology"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-2 leading-tight",children:"   "}),h.jsx("p",{className:"text-slate-300 text-[11px] leading-relaxed max-w-[200px] mb-6",children:"         ."}),h.jsxs("div",{className:"px-8 py-3 bg-gold text-primary font-black rounded-xl text-xs shadow-lg shadow-gold/20 active:scale-95 transition-transform flex items-center gap-2",children:[h.jsx("span",{children:" "}),h.jsx("span",{className:"material-symbols-outlined text-sm",children:"auto_awesome"})]})]})]})})}),h.jsx("section",{className:"px-4 py-12 space-y-16",children:h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-primary/30 pb-4",children:[h.jsxs("h4",{className:"text-2xl font-light tracking-tight",children:[h.jsx("span",{className:"text-accent mr-2",children:"01."})," "]}),h.jsx("span",{className:"text-[10px] uppercase tracking-widest text-slate-500",children:" "})]}),h.jsx("div",{className:"flex flex-col gap-12",children:e.books.map((n,s)=>h.jsxs("div",{className:"flex flex-col gap-6 group",children:[h.jsxs("div",{className:"flex gap-6",children:[h.jsx("a",{href:`https://www.coupang.com/np/search?component=&q=${encodeURIComponent(n.title)}`,target:"_blank",rel:"noopener noreferrer",className:"w-1/3 shrink-0 active:scale-95 transition-transform",children:h.jsxs("div",{className:"aspect-[2/3] bg-primary/20 rounded shadow-2xl overflow-hidden border border-white/5 relative group/cover",children:[h.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover/cover:scale-110",src:n.cover,alt:n.title}),h.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/cover:bg-black/20 transition-colors flex items-center justify-center",children:h.jsx("span",{className:"material-symbols-outlined text-white opacity-0 group-hover/cover:opacity-100 transition-opacity",children:"shopping_cart"})})]})}),h.jsxs("div",{className:"flex flex-col justify-between py-1 w-full",children:[h.jsxs("div",{children:[h.jsx("h5",{className:"text-xl font-bold leading-tight mb-1 text-white",children:n.title}),h.jsx("p",{className:"text-xs text-slate-500 mb-3 italic",children:n.author}),h.jsx("p",{className:"text-sm text-slate-400 font-light leading-snug line-clamp-3",children:n.desc}),n.source&&h.jsxs("p",{className:"text-[10px] text-gold/80 mt-3 flex items-center gap-1 font-bold tracking-wider uppercase",children:[h.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"campaign"}),n.source]})]}),h.jsx("div",{className:"mt-4",children:h.jsx("span",{className:"text-white font-black text-xl",children:n.price})})]})]}),n.review&&h.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/5 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gold/50"}),h.jsxs("h6",{className:"text-gold text-[10px] font-black uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"edit_note"}),"Insight & Review"]}),h.jsx("p",{className:"text-slate-300 text-sm leading-relaxed font-light whitespace-pre-wrap",children:n.review})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("a",{href:`https://www.coupang.com/np/search?component=&q=${encodeURIComponent(n.title)}`,target:"_blank",rel:"noopener noreferrer",className:"bg-gold hover:bg-gold-light text-primary flex-1 text-center py-4 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg shadow-gold/10 active:scale-95 transition-all flex items-center justify-center gap-2",children:[h.jsx("span",{children:"  "}),h.jsx("span",{className:"material-symbols-outlined text-sm",children:"shopping_cart"})]}),h.jsxs("button",{onClick:()=>{const a=JSON.parse(localStorage.getItem("savedBooks")||"[]");if(a.some(u=>u.title===n.title)){const u=a.filter(f=>f.title!==n.title);localStorage.setItem("savedBooks",JSON.stringify(u)),alert(" .")}else a.push(n),localStorage.setItem("savedBooks",JSON.stringify(a)),alert(" .");window.dispatchEvent(new Event("storage"))},className:"bg-white/5 hover:bg-white/10 text-white border border-white/10 flex-1 text-center py-4 rounded-xl text-xs font-black uppercase tracking-widest transition-all active:scale-95 flex items-center justify-center gap-2",children:[h.jsx("span",{children:" "}),h.jsx("span",{className:"material-symbols-outlined text-sm",children:"bookmark"})]})]})]},s))})]})}),h.jsxs("section",{className:"bg-primary/20 py-16 border-t border-primary/30",children:[h.jsxs("div",{className:"px-6 mb-10 text-center",children:[h.jsx("h4",{className:"text-accent text-[10px] uppercase tracking-[0.4em] mb-3",children:"  "}),h.jsxs("p",{className:"text-3xl font-extralight tracking-tight text-white",children:[" ",h.jsx("span",{className:"text-accent italic",children:" "}),"  ."]})]}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-9 gap-y-10 px-4",children:ja.map(n=>h.jsxs(bt,{to:`/celebrity/${n.id}`,className:`flex flex-col items-center gap-3 transition-all duration-300 group ${n.id===e.id?"opacity-100 scale-110":"opacity-60 hover:opacity-100 hover:scale-105"}`,children:[h.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 p-1 transition-colors duration-500 ${n.id===e.id?"border-accent shadow-[0_0_20px_rgba(212,175,55,0.3)]":"border-primary/30 group-hover:border-accent"}`,children:h.jsx("img",{className:`w-full h-full object-cover rounded-full transition-all duration-700 ${n.id===e.id?"grayscale-0":"grayscale group-hover:grayscale-0"}`,src:n.image,alt:n.name})}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:`text-[8px] sm:text-[10px] font-bold uppercase tracking-widest block transition-colors duration-300 ${n.id===e.id?"text-accent":"text-slate-500 group-hover:text-slate-200"}`,children:n.name}),n.id===e.id&&h.jsx("div",{className:"w-4 h-[2px] bg-accent mx-auto mt-1 rounded-full"})]})]},n.id))})]}),h.jsx(zn,{})]}),h.jsx(Bn,{})]})})}const $6=[{id:1,question:"     '' ?",options:[{id:"A",text:" :    ,    "},{id:"B",text:" :        "},{id:"C",text:" :        "},{id:"D",text:" :         "}]},{id:2,question:"     ' ' ?",options:[{id:"A",text:" :   ,  ,    "},{id:"B",text:" :   ,    "},{id:"C",text:"   :      "},{id:"D",text:" :   ,     "}]},{id:3,question:"   ,   ' ' ?",options:[{id:"A",text:" :          ."},{id:"B",text:" :       ."},{id:"C",text:" :        ."},{id:"D",text:" :          ."}]},{id:4,question:"    ' '   ?",options:[{id:"A",text:" :  ,    ."},{id:"B",text:" :       ."},{id:"C",text:" :         ."},{id:"D",text:" :         ."}]},{id:5,question:"     ,  ?",options:[{id:"A",text:" :       ."},{id:"B",text:" :      ."},{id:"C",text:" :      ."},{id:"D",text:" : '   ?'    ."}]},{id:6,question:"  ,     ?",options:[{id:"A",text:"Action Plan:         "},{id:"B",text:"Scene & Character:     "},{id:"C",text:"Emotion:      "},{id:"D",text:"Question:         "}]},{id:7,question:"      ''?",options:[{id:"A",text:"//:  ,    "},{id:"B",text:"/SF/:     "},{id:"C",text:"//:     "},{id:"D",text:"//:       "}]},{id:8,question:"     'Bookmark' ?",options:[{id:"A",text:" :      ."},{id:"B",text:":      ."},{id:"C",text:" :       ."},{id:"D",text:":         ."}]},{id:9,question:"    ,  ?",options:[{id:"A",text:" :       ."},{id:"B",text:": ' !'     ."},{id:"C",text:" : '  '     ."},{id:"D",text:" :         ."}]},{id:10,question:"  '  ()' ?",options:[{id:"A",text:"Powerhouse:     ()    "},{id:"B",text:"Theme Park:        "},{id:"C",text:"Sanctuary:         "},{id:"D",text:"Temple:    ,   "}]},{id:11,question:"    ,  ?",options:[{id:"A",text:" :       ."},{id:"B",text:" :       ."},{id:"C",text:" :      ."},{id:"D",text:" :        ."}]},{id:12,question:" ' '  ?",options:[{id:"A",text:" :        "},{id:"B",text:" :         "},{id:"C",text:" :       "},{id:"D",text:" :        "}]},{id:13,question:"      ?",options:[{id:"A",text:" :         "},{id:"B",text:" :        "},{id:"C",text:"  :        "},{id:"D",text:"  :       "}]},{id:14,question:"   ,    ?",options:[{id:"A",text:" :      "},{id:"B",text:" :       "},{id:"C",text:" :       "},{id:"D",text:" :       "}]},{id:15,question:"(E-book)   ?",options:[{id:"A",text:":         ."},{id:"B",text:":  , ,     ."},{id:"C",text:":         ."},{id:"D",text:" :      ."}]},{id:16,question:"  ,    ?",options:[{id:"A",text:":      "},{id:"B",text:" :      "},{id:"C",text:":        "},{id:"D",text:":      "}]},{id:17,question:"     ,    ?",options:[{id:"A",text:":       "},{id:"B",text:":       "},{id:"C",text:":      "},{id:"D",text:":       "}]},{id:18,question:" ''   ?",options:[{id:"A",text:":       "},{id:"B",text:":       "},{id:"C",text:":        "},{id:"D",text:":        "}]},{id:19,question:"(Audio Book)    ?",options:[{id:"A",text:" :        ."},{id:"B",text:" :        ."},{id:"C",text:" :        ."},{id:"D",text:" :        ."}]},{id:20,question:"     () ?",options:[{id:"A",text:" :     !      ."},{id:"B",text:" :        ."},{id:"C",text:" :          ."},{id:"D",text:" :        ."}]}];function K6(){const[t,e]=P.useState(0),[n,s]=P.useState({}),[a,l]=P.useState([]),u=ri();P.useEffect(()=>{const D=[...$6].sort(()=>.5-Math.random());l(D.slice(0,10))},[]);const f=D=>{const B=a[t].id;s(U=>({...U,[B]:D}))},p=()=>{if(t<a.length-1)e(t+1),window.scrollTo(0,0);else{const D=y(n);localStorage.setItem("quizResult",D),u("/result",{state:{resultType:D}})}},y=D=>{const B={A:0,B:0,C:0,D:0};Object.values(D).forEach(M=>{B[M]!==void 0&&B[M]++});let U=-1,G="growth";const $={A:"growth",B:"entertainment",C:"empathy",D:"mindfulness"};for(const[M,b]of Object.entries(B))b>U&&(U=b,G=$[M]);return G};if(a.length===0)return h.jsxs("div",{className:"bg-background-dark min-h-screen flex flex-col items-center justify-center p-8 text-center",children:[h.jsxs("div",{className:"relative mb-10",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-3xl rounded-full scale-150 animate-pulse"}),h.jsx("div",{className:"size-20 rounded-full border-t-2 border-gold animate-spin"})]}),h.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:"  ..."}),h.jsx("p",{className:"text-slate-500 text-sm",children:" ."})]});const x=a[t],w=a.length,T=(t+1)/w*100,I=!!n[x.id];return h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5 flex flex-col",children:[h.jsx(ai,{title:" ",type:"sub"}),h.jsx("div",{className:"w-full h-1 bg-white/5",children:h.jsx("div",{className:"h-full bg-gold transition-all duration-500 ease-out shadow-[0_0_10px_rgba(212,175,55,0.5)]",style:{width:`${T}%`}})}),h.jsxs("main",{className:"flex-1 px-6 pt-10 pb-24 flex flex-col animate-fade-in relative z-10",children:[h.jsx("div",{className:"absolute top-20 right-0 w-64 h-64 bg-gold/5 blur-[100px] rounded-full pointer-events-none"}),h.jsxs("div",{className:"mb-10 text-center relative",children:[h.jsxs("span",{className:"inline-block px-3 py-1 mb-6 text-[10px] font-bold tracking-[0.2em] text-gold uppercase border border-gold/20 rounded-full bg-gold/5",children:["Question ",t+1]}),h.jsx("h2",{className:"serif-title text-2xl md:text-3xl font-medium leading-relaxed text-white drop-shadow-xl",children:x.question})]}),h.jsx("div",{className:"space-y-4 flex-1",children:x.options.map(D=>{const B=n[x.id]===D.id;return h.jsxs("button",{onClick:()=>f(D.id),className:`w-full p-6 text-left transition-all duration-300 rounded-xl border relative overflow-hidden group ${B?"bg-gold/10 border-gold shadow-[0_0_20px_rgba(212,175,55,0.15)]":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/10"}`,children:[h.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[h.jsx("span",{className:`text-sm md:text-base font-medium transition-colors ${B?"text-white":"text-slate-300 group-hover:text-white"}`,children:D.text}),h.jsx("div",{className:`size-5 rounded-full border flex items-center justify-center transition-all ${B?"border-gold bg-gold text-black scale-110":"border-white/20 group-hover:border-white/40"}`,children:B&&h.jsx("span",{className:"material-symbols-outlined text-xs font-bold",children:"check"})})]}),B&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gold/5 to-transparent pointer-events-none"})]},D.id)})}),h.jsx("div",{className:"mt-12",children:h.jsx("button",{onClick:p,disabled:!I,className:`w-full py-4 rounded-xl font-bold uppercase tracking-widest text-xs transition-all duration-300 flex items-center justify-center gap-2 ${I?"bg-gold text-primary shadow-[0_4px_20px_rgba(212,175,55,0.4)] hover:shadow-[0_4px_25px_rgba(212,175,55,0.6)] active:scale-[0.98]":"bg-white/5 text-slate-500 cursor-not-allowed border border-white/5"}`,children:t===w-1?h.jsxs(h.Fragment,{children:[" ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"analytics"})]}):h.jsxs(h.Fragment,{children:[" ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})})})]}),h.jsx(zn,{}),h.jsx(Bn,{})]})})}function Y6(){const{user:t}=vl(),[e,n]=P.useState(!1),[s,a]=P.useState(null),[l,u]=P.useState(null),[f,p]=P.useState([]),[y,x]=P.useState([]),[w,T]=P.useState([]),I=ri(),D=()=>{const M=JSON.parse(localStorage.getItem("savedBooks")||"[]");x(M)},B=M=>{const b=y.filter(E=>E.title!==M);localStorage.setItem("savedBooks",JSON.stringify(b)),x(b)};P.useEffect(()=>{const M=localStorage.getItem("premiumUnlocked")==="true",b=localStorage.getItem("myResultType"),E=localStorage.getItem("quizResult");n(M),a(b),u(E);const j=JSON.parse(localStorage.getItem("finderRecommendations")||"[]");T(j);const N=()=>{D();const A=JSON.parse(localStorage.getItem("finderRecommendations")||"[]");T(A)};return window.addEventListener("storage",N),()=>window.removeEventListener("storage",N)},[]);const U=s?W0[s]:null,G=s?K0[s]?.books.filter(M=>!f.includes(M.title)):[],$=t&&e&&U;return h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(ai,{title:" ",type:"sub"}),h.jsxs("main",{className:"px-6 pt-8 pb-24 space-y-12 animate-fade-in",children:[h.jsxs("div",{className:"text-center space-y-2 border-b border-white/5 pb-8",children:[h.jsx("span",{className:"text-gold text-xs font-bold uppercase tracking-[0.2em]",children:"Personal archiview"}),h.jsx("h2",{className:"serif-title text-3xl text-white font-medium leading-tight",children:" "}),h.jsxs("p",{className:"text-slate-400 text-xs font-light",children:[y.length," items collected"]})]}),$?h.jsx("div",{onClick:()=>I("/result",{state:{resultType:s}}),className:"relative rounded-3xl overflow-hidden border border-gold/30 bg-gradient-to-br from-slate-900 via-slate-800 to-black p-1 group cursor-pointer shadow-2xl mb-8",children:h.jsxs("div",{className:"relative bg-background-dark/40 backdrop-blur-xl rounded-[22px] p-6 flex items-center gap-6",children:[h.jsxs("div",{className:"relative size-24 shrink-0",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-2xl rounded-full"}),h.jsx("img",{src:U.image,alt:U.persona,className:"relative w-full h-full object-cover rounded-2xl shadow-xl border border-gold/30"})]}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("span",{className:"text-gold text-[10px] font-bold uppercase tracking-widest block mb-1",children:"My Persona"}),h.jsx("h3",{className:"serif-title text-white text-2xl font-bold leading-none mb-2 tracking-tight",children:U.persona}),h.jsx("p",{className:"text-slate-400 text-[11px] font-medium truncate mb-4",children:U.subtitle}),h.jsx("div",{className:"flex gap-2",children:Object.entries(U.metrics).slice(0,2).map(([M,b])=>h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg px-2 py-1 flex flex-col items-center min-w-[64px]",children:[h.jsx("span",{className:"text-slate-500 text-[7px] uppercase block leading-none mb-1",children:b.label}),h.jsx("span",{className:"text-gold text-[10px] font-extrabold",children:b.value})]},M))})]}),h.jsx("span",{className:"material-symbols-outlined text-gold opacity-30 group-hover:opacity-100 transition-opacity",children:"chevron_right"})]})}):h.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 group mb-8",children:[h.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1481627834876-b7833e8f5570?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-40 group-hover:scale-105 transition-transform duration-1000"}),h.jsx("div",{className:"absolute inset-0 bg-background-dark/80"}),h.jsxs("div",{className:"relative p-6 text-center flex flex-col items-center",children:[h.jsx("span",{className:"material-symbols-outlined text-gold text-3xl mb-3",children:"psychology_alt"}),h.jsx("h3",{className:"serif-title text-white text-xl mb-2",children:"Find Your Persona"}),h.jsx("p",{className:"text-slate-400 text-xs font-light mb-5 max-w-xs leading-relaxed",children:"Take our literary personality test to discover the books that resonate with your soul."}),l?h.jsxs("button",{onClick:()=>I("/result",{state:{resultType:l}}),className:"px-6 py-2.5 bg-white text-primary font-bold rounded-lg text-xs uppercase tracking-widest hover:bg-gold transition-colors flex items-center gap-2",children:["View Analysis Result ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]}):h.jsx(bt,{to:"/quiz",className:"px-6 py-2.5 bg-gold text-primary font-bold rounded-lg text-xs uppercase tracking-widest hover:bg-white transition-colors",children:"Start Diagnostics"})]})]}),(s&&G.length>0||w.length>0)&&h.jsxs("div",{className:"pt-8 border-t border-white/10",children:[h.jsx("h3",{className:"serif-title text-xl text-white mb-6 italic",children:"Recommended for You"}),h.jsxs("div",{className:"space-y-4",children:[w.length>0&&w.map((M,b)=>h.jsxs("div",{className:"flex gap-4 p-4 bg-gold/5 rounded-xl border border-gold/20 hover:bg-gold/10 transition-colors relative group",children:[h.jsx("div",{className:"absolute top-2 right-2 flex items-center gap-1.5 opacity-60",children:h.jsx("span",{className:"text-gold text-[8px] font-black uppercase tracking-widest bg-gold/10 px-2 py-0.5 rounded-full border border-gold/20",children:"FOUND"})}),h.jsx("div",{className:"w-16 h-24 shrink-0 bg-slate-800 rounded border border-white/10 overflow-hidden shadow-lg",children:h.jsx("img",{src:M.cover,alt:M.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-1 min-w-0 py-1",children:[h.jsx("h4",{className:"text-white text-sm font-bold truncate mb-1",children:M.title}),h.jsx("p",{className:"text-slate-400 text-xs mb-2",children:M.author}),h.jsxs("p",{className:"text-slate-500 text-[10px] line-clamp-2 leading-relaxed",children:['"',M.desc||"    .",'"']})]})]},`finder-${b}`)),G.map((M,b)=>h.jsxs("div",{className:"flex gap-4 p-4 bg-white/5 rounded-xl border border-white/5 hover:bg-white/10 transition-colors",children:[h.jsx("div",{className:"w-16 h-24 shrink-0 bg-slate-800 rounded border border-white/10 overflow-hidden",children:h.jsx("img",{src:M.cover,alt:M.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-1 min-w-0 py-1",children:[h.jsx("h4",{className:"text-white text-sm font-bold truncate mb-1",children:M.title}),h.jsx("p",{className:"text-slate-400 text-xs mb-2",children:M.author}),h.jsxs("p",{className:"text-slate-500 text-[10px] line-clamp-2 leading-relaxed",children:['"',M.desc,'"']})]})]},`persona-${b}`))]})]}),h.jsxs("div",{className:"pt-8 border-t border-white/10",children:[h.jsx("h3",{className:"serif-title text-xl text-white mb-6 italic",children:"Favorite Collection"}),y.length>0?h.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-8",children:y.map((M,b)=>h.jsxs("div",{className:"group relative",children:[h.jsxs("div",{className:"relative aspect-[2/3] bg-white/5 rounded-lg overflow-hidden border border-white/10 shadow-lg mb-3",children:[h.jsx("img",{src:M.cover,alt:M.title,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity"}),h.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3",children:[h.jsx("a",{href:`https://www.coupang.com/np/search?component=&q=${encodeURIComponent(M.title)}`,target:"_blank",rel:"noopener noreferrer",className:"size-10 rounded-full bg-white text-primary flex items-center justify-center hover:bg-gold transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"shopping_cart"})}),h.jsx("button",{onClick:()=>B(M.title),className:"size-10 rounded-full bg-red-500/20 text-red-400 border border-red-500/50 flex items-center justify-center hover:bg-red-500 hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]}),h.jsx("h3",{className:"text-white text-sm font-bold truncate pr-2",children:M.title}),h.jsx("p",{className:"text-slate-500 text-[10px] uppercase tracking-wide truncate",children:M.author})]},b))}):h.jsxs("div",{className:"py-20 text-center border border-dashed border-white/10 rounded-2xl bg-white/5 mx-4",children:[h.jsx("span",{className:"material-symbols-outlined text-slate-600 text-4xl mb-4",children:"bookmark_border"}),h.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"   ."}),h.jsx(bt,{to:"/",className:"px-6 py-2 bg-gold text-primary font-bold rounded-full text-xs hover:bg-white transition-colors",children:" "})]})]}),h.jsx(zn,{})]}),h.jsx(Bn,{})]})})}function W6(){const{user:t,loading:e}=vl(),n=ri();P.useEffect(()=>{!e&&!t&&n("/login")},[t,e,n]);const s=async()=>{if(window.confirm(" ?"))try{await $M(),n("/login")}catch(a){console.error("Logout failed:",a),alert("  : "+a.message)}};return e?h.jsxs("div",{className:"bg-background-dark min-h-screen flex flex-col items-center justify-center p-8 text-center",children:[h.jsxs("div",{className:"relative mb-10",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-3xl rounded-full scale-150 animate-pulse"}),h.jsx("div",{className:"size-20 rounded-full border-t-2 border-gold animate-spin"})]}),h.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:"  "}),h.jsx("p",{className:"text-slate-500 text-sm",children:" ..."})]}):t?h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(ai,{title:"",type:"sub"}),h.jsxs("main",{className:"px-6 pt-8 pb-24 animate-fade-in-up space-y-8",children:[h.jsxs("div",{className:"relative w-full aspect-[1.58/1] rounded-2xl overflow-hidden shadow-2xl group",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 to-black"}),h.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),h.jsx("div",{className:"absolute -top-24 -right-24 size-64 bg-gold/20 blur-[80px] rounded-full"}),h.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-between",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"serif-title text-gold text-lg italic tracking-wider",children:"The Archiview"}),h.jsx("span",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] block mt-1",children:"Private Membership"})]}),h.jsx("div",{className:"size-8 rounded-full border border-white/20 flex items-center justify-center bg-white/5 backdrop-blur-sm",children:h.jsx("span",{className:"material-symbols-outlined text-white/80 text-sm",children:"fingerprint"})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"size-12 rounded-full bg-slate-700 border-2 border-gold/50 overflow-hidden shadow-lg",children:h.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.displayName)}&background=0D8ABC&color=fff`,alt:t.displayName,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white font-bold text-lg leading-none",children:t.displayName}),h.jsx("p",{className:"text-slate-400 text-xs mt-1 font-mono tracking-wide",children:t.email})]})]}),h.jsxs("div",{className:"flex justify-between items-end border-t border-white/10 pt-3",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[9px] text-slate-500 uppercase tracking-wider block",children:"Member Since"}),h.jsx("span",{className:"text-xs text-slate-300 font-mono",children:"2024. 05. 21"})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-[9px] text-slate-500 uppercase tracking-wider block",children:"Status"}),h.jsx("span",{className:"text-xs text-emerald-400 font-bold tracking-wide",children:"ACTIVE"})]})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs("div",{className:"bg-white/5 rounded-xl p-4 text-center border border-white/5",children:[h.jsx("span",{className:"block text-2xl font-black text-white mb-1",children:"12"}),h.jsx("span",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Archived"})]}),h.jsxs("div",{className:"bg-white/5 rounded-xl p-4 text-center border border-white/5",children:[h.jsx("span",{className:"block text-2xl font-black text-white mb-1",children:"85"}),h.jsx("span",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Insights"})]}),h.jsxs("div",{className:"bg-white/5 rounded-xl p-4 text-center border border-white/5",children:[h.jsx("span",{className:"block text-2xl font-black text-white mb-1",children:"4"}),h.jsx("span",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Badges"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest pl-1",children:"My archiview"}),h.jsxs("div",{className:"bg-white/5 rounded-2xl overflow-hidden border border-white/5 divide-y divide-white/5",children:[h.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-white/10 transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-8 rounded-lg bg-indigo-500/20 flex items-center justify-center text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"book_2"})}),h.jsx("span",{className:"text-sm text-slate-200 font-medium",children:" "})]}),h.jsx("span",{className:"material-symbols-outlined text-slate-500 text-sm",children:"arrow_forward_ios"})]}),h.jsxs("button",{onClick:()=>n("/reading-notes"),className:"w-full flex items-center justify-between p-4 hover:bg-white/10 transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-8 rounded-lg bg-pink-500/20 flex items-center justify-center text-pink-400 group-hover:bg-pink-500 group-hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit_note"})}),h.jsx("span",{className:"text-sm text-slate-200 font-medium",children:" "})]}),h.jsx("span",{className:"material-symbols-outlined text-slate-500 text-sm",children:"arrow_forward_ios"})]}),h.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-white/10 transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-8 rounded-lg bg-teal-500/20 flex items-center justify-center text-teal-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"bookmark"})}),h.jsx("span",{className:"text-sm text-slate-200 font-medium",children:""})]}),h.jsx("span",{className:"material-symbols-outlined text-slate-500 text-sm",children:"arrow_forward_ios"})]})]})]}),h.jsxs("div",{className:"space-y-4 pt-4",children:[h.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest pl-1",children:"Account"}),h.jsxs("div",{className:"bg-white/5 rounded-2xl overflow-hidden border border-white/5 divide-y divide-white/5",children:[h.jsx("button",{className:"w-full flex items-center justify-between p-4 hover:bg-white/10 transition-colors group",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"settings"}),h.jsx("span",{className:"text-sm text-slate-200 font-medium",children:""})]})}),h.jsx("button",{onClick:s,className:"w-full flex items-center justify-between p-4 hover:bg-red-500/10 transition-colors group text-red-400",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"material-symbols-outlined",children:"logout"}),h.jsx("span",{className:"text-sm font-medium",children:""})]})})]})]}),h.jsxs("p",{className:"text-center text-[10px] text-slate-600 font-mono pt-8",children:["The Archiview ID: ",t.uid.slice(0,8).toUpperCase(),h.jsx("br",{}),"Version 1.4.0 (Build 2024.05)"]}),h.jsx(zn,{})]}),h.jsx(Bn,{})]})}):null}function aN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&au(t,e)}function ru(t){return ru=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ru(t)}function au(t,e){return au=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},au(t,e)}function lN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Dd(t,e,n){return lN()?Dd=Reflect.construct:Dd=function(a,l,u){var f=[null];f.push.apply(f,l);var p=Function.bind.apply(a,f),y=new p;return u&&au(y,u.prototype),y},Dd.apply(null,arguments)}function Q6(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function lf(t){var e=typeof Map=="function"?new Map:void 0;return lf=function(s){if(s===null||!Q6(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(s))return e.get(s);e.set(s,a)}function a(){return Dd(s,arguments,ru(this).constructor)}return a.prototype=Object.create(s.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),au(a,s)},lf(t)}function X6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J6(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X6(t)}function cN(t){var e=lN();return function(){var s=ru(t),a;if(e){var l=ru(this).constructor;a=Reflect.construct(s,arguments,l)}else a=s.apply(this,arguments);return J6(this,a)}}var Ac=null;function Z6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Ac!=null)return Ac;var s=new Promise(function(a,l){try{var u=function(){fd(e)!=null?a(fd(e)):l(new e9(e))},f=function(){l(new t9(t))};if(typeof window>"u"||typeof document>"u")return a(null);if(fd(e)!=null)return a(fd(e));var p=document.querySelector('script[src="'.concat(t,'"]'));if(p!=null){var y;p.removeEventListener("load",u),p.removeEventListener("error",f),(y=p.parentElement)===null||y===void 0||y.removeChild(p)}var x=document.createElement("script");x.src=t,x.addEventListener("load",u),x.addEventListener("error",f),n.priority!=null&&(x.fetchPriority=n.priority),document.head.appendChild(x)}catch(w){l(w);return}});return Ac=s.catch(function(a){return Ac=null,Promise.reject(a)}),Ac}function fd(t){return window[t]}var e9=(function(t){oN(n,t);var e=cN(n);function n(s){var a;return aN(this,n),a=e.call(this,"[TossPayments SDK] ".concat(s," is not available")),a.name="NamespaceNotAvailableError",a}return n})(lf(Error)),t9=(function(t){oN(n,t);var e=cN(n);function n(s){var a;return aN(this,n),a=e.call(this,"[TossPayments SDK] Failed to load script: [".concat(s,"]")),a.name="ScriptLoadFailedError",a}return n})(lf(Error)),n9="https://js.tosspayments.com/v1";function i9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.src,s=n===void 0?n9:n;return typeof window>"u"?Promise.resolve({requestPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},requestBillingAuth:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},cancelPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")}}):Z6(s,"TossPayments").then(function(a){return a(t)})}function s9(){const[t,e]=P.useState("dashboard"),n=async()=>{try{await(await i9("test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq")).requestPayment("",{amount:15e3,orderId:`ORDER-${new Date().getTime()}`,orderName:"   ",customerName:"",successUrl:window.location.origin+"/admin",failUrl:window.location.origin+"/admin"})}catch(p){console.error("Payment Error:",p),alert("    : "+p.message)}},s=[{title:" ",value:"1,248",change:"+12%",icon:"group"},{title:" ",value:"45.2M",change:"+8%",icon:"payments"},{title:" ",value:"342",change:"+4",icon:"auto_stories"},{title:" ",value:"854",change:"+24%",icon:"trending_up"}],a=[{id:1,name:"",email:"kim@example.com",role:"",status:"",date:"2024-02-15"},{id:2,name:"",email:"lee@example.com",role:"",status:"",date:"2024-02-14"},{id:3,name:"",email:"park@example.com",role:"",status:"",date:"2024-02-10"},{id:4,name:"",email:"choi@example.com",role:"VIP",status:"",date:"2024-01-20"},{id:5,name:"",email:"jung@example.com",role:"",status:"",date:"2023-12-05"}],l=[{id:1,title:" ",author:" ",stock:12,price:"22,000"},{id:2,title:" ",author:"F.  ",stock:5,price:"15,000"},{id:3,title:"",author:" ",stock:8,price:"12,000"},{id:4,title:"1984",author:" ",stock:0,price:"14,000"},{id:5,title:"",author:" ",stock:3,price:"25,000"}],u=[{id:101,user:"",item:" ",amount:"22,000",date:"2 "},{id:102,user:"",item:" ",amount:"19,000",date:"15 "},{id:103,user:"Unknown",item:"",amount:"12,000",date:"1 "},{id:104,user:"",item:"",amount:"25,000",date:"3 "}],f={dashboard:"",members:" ",books:" ",sales:" ",payment:" "};return h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(ai,{title:" ",type:"sub"}),h.jsxs("main",{className:"px-6 pt-8 pb-24 space-y-8 animate-fade-in-up",children:[h.jsx("div",{className:"flex p-1 bg-white/5 rounded-xl border border-white/5 overflow-x-auto scrollbar-hide",children:Object.keys(f).map(p=>h.jsx("button",{onClick:()=>e(p),className:`flex-1 py-2 px-4 rounded-lg text-xs font-bold whitespace-nowrap transition-all ${t===p?"bg-gold text-primary shadow-lg":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:f[p]},p))}),t==="dashboard"&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((p,y)=>h.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5 relative overflow-hidden group hover:bg-white/10 transition-colors",children:[h.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx("span",{className:"material-symbols-outlined text-4xl",children:p.icon})}),h.jsx("p",{className:"text-slate-400 text-[10px] uppercase tracking-widest font-bold mb-1",children:p.title}),h.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:p.value}),h.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-[10px] bg-green-500/20 text-green-400 font-bold",children:p.change})]},y))}),h.jsxs("div",{className:"bg-white/5 rounded-2xl border border-white/5 p-5",children:[h.jsxs("h3",{className:"text-white font-bold text-sm mb-4 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-gold text-lg",children:"notifications"})," "]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex gap-4 items-start",children:[h.jsx("div",{className:"size-2 rounded-full bg-blue-500 mt-2 shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-200 text-xs leading-relaxed",children:" 3    ."}),h.jsx("span",{className:"text-[10px] text-slate-500",children:"2 "})]})]}),h.jsxs("div",{className:"flex gap-4 items-start",children:[h.jsx("div",{className:"size-2 rounded-full bg-green-500 mt-2 shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-200 text-xs leading-relaxed",children:"    ."}),h.jsx("span",{className:"text-[10px] text-slate-500",children:"5 "})]})]})]})]})]}),t==="members"&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-white font-bold text-lg",children:" "}),h.jsx("button",{className:"size-8 rounded-full bg-gold flex items-center justify-center text-primary hover:bg-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"})})]}),h.jsx("div",{className:"bg-white/5 rounded-2xl border border-white/5 overflow-hidden",children:h.jsx("div",{className:"divide-y divide-white/5",children:a.map(p=>h.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-full bg-slate-700 flex items-center justify-center text-slate-300 font-bold text-xs",children:p.name.charAt(0)}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white text-sm font-bold",children:p.name}),h.jsx("p",{className:"text-slate-500 text-[10px]",children:p.email})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-[9px] font-bold mb-1 ${p.status===""?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:p.status}),h.jsx("p",{className:"text-slate-600 text-[9px]",children:p.role})]})]},p.id))})})]}),t==="books"&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-white font-bold text-lg",children:" "}),h.jsx("button",{className:"size-8 rounded-full bg-gold flex items-center justify-center text-primary hover:bg-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"})})]}),h.jsx("div",{className:"grid gap-3",children:l.map(p=>h.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 flex items-center justify-between group",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 aspect-[2/3] bg-slate-800 rounded border border-white/10"}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-white text-sm font-bold truncate max-w-[150px]",children:p.title}),h.jsx("p",{className:"text-slate-500 text-[10px]",children:p.author})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-gold text-xs font-bold mb-1",children:["",p.price]}),h.jsx("span",{className:`text-[9px] font-bold ${p.stock>0?"text-slate-400":"text-red-500"}`,children:p.stock>0?` ${p.stock}`:" "})]})]},p.id))})]}),t==="sales"&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-white font-bold text-lg",children:"  "}),h.jsx("button",{className:"text-[10px] text-slate-400 underline",children:" "})]}),h.jsx("div",{className:"bg-white/5 rounded-2xl border border-white/5 overflow-hidden",children:h.jsx("div",{className:"divide-y divide-white/5",children:u.map(p=>h.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-white text-sm font-bold",children:p.item}),h.jsxs("p",{className:"text-slate-500 text-[10px]",children:[": ",p.user]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-white text-xs font-bold",children:["+",p.amount]}),h.jsx("p",{className:"text-slate-600 text-[9px]",children:p.date})]})]},p.id))})})]}),t==="payment"&&h.jsxs("div",{children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"  "}),h.jsx("p",{className:"text-slate-400 text-xs",children:"       ."})]}),h.jsxs("div",{className:"bg-white/5 rounded-2xl border border-white/5 p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-slate-400 text-xs font-bold mb-2",children:"  (Client Key)"}),h.jsxs("div",{className:"bg-black/30 p-3 rounded-lg border border-white/10 flex items-center justify-between",children:[h.jsx("code",{className:"text-gold text-xs font-mono",children:"test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq"}),h.jsx("span",{className:"text-[10px] text-green-400 font-bold bg-green-500/10 px-2 py-1 rounded",children:"ON"})]})]}),h.jsxs("div",{className:"pt-4 border-t border-white/10",children:[h.jsx("p",{className:"text-slate-300 text-sm mb-4",children:" "}),h.jsxs("button",{onClick:n,className:"w-full py-3 bg-blue-500 text-white font-bold rounded-xl hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20",children:[h.jsx("span",{className:"material-symbols-outlined",children:"credit_card"}),"   ()"]}),h.jsx("p",{className:"text-slate-500 text-[10px] text-center mt-3",children:"*      ."})]})]})]})]}),h.jsx(Bn,{})]})})}function r9(){const t=ri(),[e,n]=P.useState(!0),s=P.useRef(null);P.useEffect(()=>{AD(Or).then(f=>{f&&(console.log("Redirect login success"),t("/profile",{replace:!0}))}).catch(f=>{console.error("Redirect login error:",f),n(!1)});const l=()=>{window.google?(window.google.accounts.id.initialize({client_id:"176157090689-b1cis9q41ikr4qd004nbvsst7l8lrjvm.apps.googleusercontent.com",callback:a,ux_mode:"popup"}),s.current&&window.google.accounts.id.renderButton(s.current,{theme:"outline",size:"large",width:"320",logo_alignment:"left"}),n(!1)):setTimeout(l,300)},u=NE(Or,f=>{f?t("/profile",{replace:!0}):l()});return()=>u()},[t]);const a=async l=>{n(!0);try{const u=ts.credential(l.credential);await Xk(Or,u),t("/profile",{replace:!0})}catch(u){console.error("Auth Fail:",u),n(!1)}};return h.jsxs("div",{className:"bg-background-dark min-h-screen flex flex-col font-display text-white",children:[h.jsx(ai,{title:"",type:"sub"}),h.jsx("main",{className:"flex-1 flex flex-col items-center justify-center p-6 pb-24",children:h.jsxs("div",{className:"w-full max-w-sm",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("div",{className:"size-20 bg-white/5 rounded-2xl mx-auto flex items-center justify-center border border-white/10 mb-6",children:h.jsx("span",{className:"material-symbols-outlined text-4xl text-gold",children:"menu_book"})}),h.jsx("h1",{className:"serif-title text-3xl mb-2",children:"The Archiview"}),h.jsx("p",{className:"text-slate-400 text-sm",children:"     "})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60px] relative space-y-4",children:[e&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background-dark/80 z-20",children:h.jsx("div",{className:"size-8 border-3 border-gold/20 border-t-gold rounded-full animate-spin"})}),h.jsx("div",{ref:s,className:"hidden md:flex w-full justify-center py-2 bg-white rounded-xl overflow-hidden shadow-2xl transition-opacity duration-500 min-h-[50px]"}),h.jsxs("button",{onClick:async l=>{n(!0);try{await GM()}catch{n(!1)}},className:"md:hidden w-full py-4 px-6 bg-white text-slate-900 font-bold rounded-xl shadow-lg active:scale-95 transition-transform flex items-center justify-center gap-3 mt-4",style:{zIndex:50,position:"relative"},children:[h.jsx("span",{className:"material-symbols-outlined",children:"touch_app"}),"  "]})]}),h.jsx("div",{className:"mt-12 p-5 bg-white/5 rounded-2xl border border-white/10 text-center",children:h.jsxs("p",{className:"text-[10px] text-slate-500 leading-relaxed",children:["The Archiview    ",h.jsx("br",{}),"   ."]})})]})}),h.jsx(zn,{}),h.jsx(Bn,{})]})}function a9(){const t=ri();return P.useEffect(()=>{window.scrollTo(0,0)},[]),h.jsxs("div",{className:"bg-white dark:bg-slate-950 font-display text-slate-900 dark:text-slate-100 min-h-screen pb-24",children:[h.jsx(ai,{title:"Brand Story"}),h.jsxs("main",{className:"px-6 pt-24 pb-12",children:[h.jsxs("section",{className:"mb-12 animate-fade-in",children:[h.jsx("span",{className:"text-gold text-[10px] font-black uppercase tracking-[0.3em] block mb-4",children:"The Vision"}),h.jsxs("h2",{className:"serif-title text-3xl text-slate-900 dark:text-white mb-6 leading-tight",children:[": ",h.jsx("br",{})," "]}),h.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed mb-6 font-light",children:["      . ",h.jsx("br",{}),"  ' '       ."]}),h.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed mb-6 font-light",children:[h.jsx("strong",{children:"(Archiview)"})," 'archiview' 'Review' ,         ' '      ."]})]}),h.jsx("div",{className:"h-px bg-slate-100 dark:bg-white/5 mb-12"}),h.jsxs("section",{className:"mb-12 animate-fade-in delay-200",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:" ?"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsx("span",{className:"material-symbols-outlined text-gold",children:"auto_stories"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm mb-1",children:"  "}),h.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"        ."})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("span",{className:"material-symbols-outlined text-gold",children:"history_edu"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm mb-1",children:"  "}),h.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"  ,       ."})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("span",{className:"material-symbols-outlined text-gold",children:"self_improvement"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm mb-1",children:"  "}),h.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"  ,      ."})]})]})]})]}),h.jsxs("section",{className:"bg-slate-50 dark:bg-white/5 p-8 rounded-[2rem] text-center border border-slate-100 dark:border-white/5 animate-fade-in delay-300",children:[h.jsxs("p",{className:"text-sm font-serif italic text-slate-600 dark:text-slate-300 mb-4",children:[`"  '' ,`,h.jsx("br",{}),`  ' ' "`]}),h.jsx("button",{onClick:()=>t("/quiz"),className:"mt-4 px-8 py-3 bg-gold text-slate-900 font-bold rounded-xl text-xs uppercase tracking-widest shadow-lg active:scale-95 transition-all",children:"  "})]})]}),h.jsx(zn,{}),h.jsx(Bn,{})]})}function o9(){return P.useEffect(()=>{window.scrollTo(0,0)},[]),h.jsxs("div",{className:"bg-white dark:bg-slate-950 font-display text-slate-900 dark:text-slate-100 min-h-screen pb-24",children:[h.jsx(ai,{title:"Privacy Policy"}),h.jsx("main",{className:"px-6 pt-24 pb-12 overflow-y-auto",children:h.jsxs("article",{className:"prose prose-sm dark:prose-invert",children:[h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),h.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mb-4",children:"  2026 2 20 ."}),h.jsx("p",{className:"text-sm leading-relaxed mb-4",children:`':  '( '')   , " "  "      "  .`})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h3",{className:"text-sm font-bold border-l-4 border-gold pl-2 mb-3",children:"1.   "}),h.jsxs("p",{className:"text-xs leading-relaxed opacity-80",children:["- : (),  ,   (Google)",h.jsx("br",{}),"-   ,  , ,  IP "]})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h3",{className:"text-sm font-bold border-l-4 border-gold pl-2 mb-3",children:"2.    "}),h.jsxs("p",{className:"text-xs leading-relaxed opacity-80",children:["-         ",h.jsx("br",{}),"-         (  )",h.jsx("br",{}),"-       "]})]}),h.jsxs("section",{className:"mb-8 border-gold/20 border p-4 rounded-xl bg-gold/5",children:[h.jsxs("h3",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"cookie"}),"3. (Cookie)   "]}),h.jsxs("p",{className:"text-[11px] leading-relaxed opacity-90",children:["-        '(cookie)' .",h.jsx("br",{}),"- **  **:  3 ,          .",h.jsx("br",{}),"-       ,         ."]})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h3",{className:"text-sm font-bold border-l-4 border-gold pl-2 mb-3",children:"4.    "}),h.jsx("p",{className:"text-xs leading-relaxed opacity-80",children:"-              ."})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h3",{className:"text-sm font-bold border-l-4 border-gold pl-2 mb-3",children:"5.  "}),h.jsxs("p",{className:"text-xs leading-relaxed opacity-80",children:["- :  (Archiview Team)",h.jsx("br",{}),"- : support@archiview.co.kr"]})]})]})}),h.jsx(zn,{}),h.jsx(Bn,{})]})}function l9(){const[t,e]=P.useState("");P.useEffect(()=>{window.scrollTo(0,0)},[]);const n=s=>{s.preventDefault(),e("sending"),setTimeout(()=>{e("success"),setTimeout(()=>e(""),3e3)},1e3)};return h.jsxs("div",{className:"bg-white dark:bg-slate-950 font-display text-slate-900 dark:text-slate-100 min-h-screen pb-24",children:[h.jsx(ai,{title:"Contact Us"}),h.jsxs("main",{className:"px-6 pt-24 pb-12",children:[h.jsxs("section",{className:"mb-10",children:[h.jsx("span",{className:"text-gold text-[10px] font-black uppercase tracking-[0.3em] block mb-4",children:"Get in touch"}),h.jsxs("h2",{className:"serif-title text-3xl text-slate-900 dark:text-white mb-6",children:[" ",h.jsx("br",{}),""]}),h.jsx("p",{className:"text-sm text-slate-500 leading-relaxed font-light",children:"           .     ."})]}),h.jsxs("section",{className:"bg-slate-50 dark:bg-white/5 p-6 rounded-3xl border border-slate-100 dark:border-white/5 mb-8",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"size-10 rounded-full bg-gold/10 flex items-center justify-center",children:h.jsx("span",{className:"material-symbols-outlined text-gold",children:"mail"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"Official Email"}),h.jsx("a",{href:"mailto:support@archiview.co.kr",className:"text-sm font-bold text-slate-900 dark:text-white hover:text-gold transition-colors",children:"support@archiview.co.kr"})]})]}),h.jsxs("form",{onSubmit:n,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest pl-1 mb-2 block",children:"Name"}),h.jsx("input",{required:!0,type:"text",placeholder:" ",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/10 rounded-2xl p-4 text-sm focus:outline-none focus:ring-2 focus:ring-gold/30 transition-all font-light"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest pl-1 mb-2 block",children:"Message"}),h.jsx("textarea",{required:!0,rows:"5",placeholder:"  ",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/10 rounded-2xl p-4 text-sm focus:outline-none focus:ring-2 focus:ring-gold/30 transition-all font-light"})]}),h.jsx("button",{disabled:t==="sending"||t==="success",className:`w-full py-4 rounded-2xl font-bold text-sm tracking-widest shadow-xl transition-all active:scale-95 ${t==="success"?"bg-green-500 text-white":"bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:bg-gold hover:text-slate-900"}`,children:t==="sending"?" ...":t==="success"?" !":" "})]})]}),h.jsx("p",{className:"text-[10px] text-center text-slate-400 font-medium",children:"        . ."})]}),h.jsx(zn,{}),h.jsx(Bn,{})]})}var kc={exports:{}},c9=kc.exports,ET;function u9(){return ET||(ET=1,(function(t,e){(function(n,s){s(e)})(c9,(function(n){class s{constructor(b,E){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=E,this.nowDrawingDensity=this.createdDensity,this.render=b}setDensity(b){this.createdDensity=b,this.nowDrawingDensity=b}setDrawingDensity(b){this.nowDrawingDensity=b}setPosition(b){this.state.position=b}setAngle(b){this.state.angle=b}setArea(b){this.state.area=b}setHardDrawingAngle(b){this.state.hardDrawingAngle=b}setHardAngle(b){this.state.hardAngle=b,this.state.hardDrawingAngle=b}setOrientation(b){this.orientation=b}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class a extends s{constructor(b,E,j){super(b,j),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=E}draw(b){const E=this.render.getContext(),j=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,A=this.render.getRect().height;E.save(),E.translate(j.x,j.y),E.beginPath();for(let R of this.state.area)R!==null&&(R=this.render.convertToGlobal(R),E.lineTo(R.x-j.x,R.y-j.y));E.rotate(this.state.angle),E.clip(),this.isLoad?E.drawImage(this.image,0,0,N,A):this.drawLoader(E,{x:0,y:0},N,A),E.restore()}simpleDraw(b){const E=this.render.getRect(),j=this.render.getContext(),N=E.pageWidth,A=E.height,R=b===1?E.left+E.pageWidth:E.left,L=E.top;this.isLoad?j.drawImage(this.image,R,L,N,A):this.drawLoader(j,{x:R,y:L},N,A)}drawLoader(b,E,j,N){b.beginPath(),b.strokeStyle="rgb(200, 200, 200)",b.fillStyle="rgb(255, 255, 255)",b.lineWidth=1,b.rect(E.x+1,E.y+1,j-1,N-1),b.stroke(),b.fill();const A={x:E.x+j/2,y:E.y+N/2};b.beginPath(),b.lineWidth=10,b.arc(A.x,A.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),b.stroke(),b.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(b,E){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=E,this.app=b,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let E=0;E<this.pages.length;E++)this.portraitSpread.push([E]);let b=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([b]),b++);for(let E=b;E<this.pages.length;E+=2)E<this.pages.length-1?this.landscapeSpread.push([E,E+1]):(this.landscapeSpread.push([E]),this.pages[E].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(b){const E=this.getSpread();for(let j=0;j<E.length;j++)if(b===E[j][0]||b===E[j][1])return j;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(b){if(b>=0&&b<this.pages.length)return this.pages[b];throw new Error("Invalid page number")}nextBy(b){const E=this.pages.indexOf(b);return E<this.pages.length-1?this.pages[E+1]:null}prevBy(b){const E=this.pages.indexOf(b);return E>0?this.pages[E-1]:null}getFlippingPage(b){const E=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return b===0?this.pages[E].newTemporaryCopy():this.pages[E-1];{const j=b===0?this.getSpread()[E+1]:this.getSpread()[E-1];return j.length===1||b===0?this.pages[j[0]]:this.pages[j[1]]}}getBottomPage(b){const E=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return b===0?this.pages[E+1]:this.pages[E-1];{const j=b===0?this.getSpread()[E+1]:this.getSpread()[E-1];return j.length===1?this.pages[j[0]]:b===0?this.pages[j[1]]:this.pages[j[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(b=null){if(b===null&&(b=this.currentPageIndex),b<0||b>=this.pages.length)return;const E=this.getSpreadIndexByPage(b);E!==null&&(this.currentSpreadIndex=E,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(b){if(!(b>=0&&b<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=b}showSpread(){const b=this.getSpread()[this.currentSpreadIndex];b.length===2?(this.render.setLeftPage(this.pages[b[0]]),this.render.setRightPage(this.pages[b[1]])):this.render.getOrientation()==="landscape"&&b[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[b[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[b[0]])),this.currentPageIndex=b[0],this.app.updatePageIndex(this.currentPageIndex)}}class u extends l{constructor(b,E,j){super(b,E),this.imagesHref=j}load(){for(const b of this.imagesHref){const E=new a(this.render,b,"soft");E.load(),this.pages.push(E)}this.createSpread()}}class f{static GetDistanceBetweenTwoPoint(b,E){return b===null||E===null?1/0:Math.sqrt(Math.pow(E.x-b.x,2)+Math.pow(E.y-b.y,2))}static GetSegmentLength(b){return f.GetDistanceBetweenTwoPoint(b[0],b[1])}static GetAngleBetweenTwoLine(b,E){const j=b[0].y-b[1].y,N=E[0].y-E[1].y,A=b[1].x-b[0].x,R=E[1].x-E[0].x;return Math.acos((j*N+A*R)/(Math.sqrt(j*j+A*A)*Math.sqrt(N*N+R*R)))}static PointInRect(b,E){return E===null?null:E.x>=b.left&&E.x<=b.width+b.left&&E.y>=b.top&&E.y<=b.top+b.height?E:null}static GetRotatedPoint(b,E,j){return{x:b.x*Math.cos(j)+b.y*Math.sin(j)+E.x,y:b.y*Math.cos(j)-b.x*Math.sin(j)+E.y}}static LimitPointToCircle(b,E,j){if(f.GetDistanceBetweenTwoPoint(b,j)<=E)return j;const N=b.x,A=b.y,R=j.x,L=j.y;let V=Math.sqrt(Math.pow(E,2)*Math.pow(N-R,2)/(Math.pow(N-R,2)+Math.pow(A-L,2)))+N;j.x<0&&(V*=-1);let F=(V-N)*(A-L)/(N-R)+A;return N-R+A===0&&(F=E),{x:V,y:F}}static GetIntersectBetweenTwoSegment(b,E,j){return f.PointInRect(b,f.GetIntersectBeetwenTwoLine(E,j))}static GetIntersectBeetwenTwoLine(b,E){const j=b[0].y-b[1].y,N=E[0].y-E[1].y,A=b[1].x-b[0].x,R=E[1].x-E[0].x,L=b[0].x*b[1].y-b[1].x*b[0].y,V=E[0].x*E[1].y-E[1].x*E[0].y,F=j*V-N*L,O=A*V-R*L,xe=-(L*R-V*A)/(j*R-N*A),De=-(j*V-N*L)/(j*R-N*A);if(isFinite(xe)&&isFinite(De))return{x:xe,y:De};if(Math.abs(F-O)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(b,E){const j=Math.abs(b.x-E.x),N=Math.abs(b.y-E.y),A=Math.max(j,N),R=[b];function L(V,F,O,xe,De){return F>V?V+De*(O/xe):F<V?V-De*(O/xe):V}for(let V=1;V<=A;V+=1)R.push({x:L(b.x,E.x,j,A,V),y:L(b.y,E.y,N,A,V)});return R}}class p extends s{constructor(b,E,j){super(b,j),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=E,this.element.classList.add("stf__item"),this.element.classList.add("--"+j)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new p(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(b){const E=b||this.nowDrawingDensity,j=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,A=this.render.getRect().height;this.element.classList.remove("--simple");const R=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${N}px;
            height: ${A}px;
        `;E==="hard"?this.drawHard(R):this.drawSoft(j,R)}drawHard(b=""){const E=this.render.getRect().left+this.render.getRect().width/2,j=this.state.hardDrawingAngle,N=b+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${j}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${E}px, 0, 0) rotateY(${j}deg);`);this.element.style.cssText=N}drawSoft(b,E=""){let j="polygon( ";for(const A of this.state.area)if(A!==null){let R=this.render.getDirection()===1?{x:-A.x+this.state.position.x,y:A.y-this.state.position.y}:{x:A.x-this.state.position.x,y:A.y-this.state.position.y};R=f.GetRotatedPoint(R,{x:0,y:0},this.state.angle),j+=R.x+"px "+R.y+"px, "}j=j.slice(0,-2),j+=")";const N=E+`transform-origin: 0 0; clip-path: ${j}; -webkit-clip-path: ${j};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${b.x}px, ${b.y}px);`:`transform: translate3d(${b.x}px, ${b.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=N}simpleDraw(b){const E=this.render.getRect(),j=E.pageWidth,N=E.height,A=b===1?E.left+E.pageWidth:E.left,R=E.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${N}px; 
            left: ${A}px; 
            top: ${R}px; 
            width: ${j}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(b){super.setOrientation(b),this.element.classList.remove("--left","--right"),this.element.classList.add(b===1?"--right":"--left")}setDrawingDensity(b){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+b),super.setDrawingDensity(b)}}class y extends l{constructor(b,E,j,N){super(b,E),this.element=j,this.pagesElement=N}load(){for(const b of this.pagesElement){const E=new p(this.render,b,b.dataset.density==="hard"?"hard":"soft");E.load(),this.pages.push(E)}this.createSpread()}}class x{constructor(b,E,j,N){this.direction=b,this.corner=E,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(j,10),this.pageHeight=parseInt(N,10)}calc(b){try{return this.position=this.calcAngleAndPosition(b),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const b=[];let E=!1;return b.push(this.rect.topLeft),b.push(this.topIntersectPoint),this.sideIntersectPoint===null?E=!0:(b.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(E=!1)),b.push(this.bottomIntersectPoint),(E||this.corner==="bottom")&&b.push(this.rect.bottomLeft),b}getBottomClipArea(){const b=[];return b.push(this.topIntersectPoint),this.corner==="top"?b.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&b.push({x:this.pageWidth,y:0}),b.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?f.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&b.push(this.sideIntersectPoint):this.corner==="top"&&b.push({x:this.pageWidth,y:this.pageHeight}),b.push(this.bottomIntersectPoint),b.push(this.topIntersectPoint),b}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const b=f.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?b:Math.PI-b}calcAngleAndPosition(b){let E=b;if(this.updateAngleAndGeometry(E),E=this.corner==="top"?this.checkPositionAtCenterLine(E,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(E,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(E.x-this.pageWidth)<1&&Math.abs(E.y)<1)throw new Error("Point is too small");return E}updateAngleAndGeometry(b){this.angle=this.calculateAngle(b),this.rect=this.getPageRect(b)}calculateAngle(b){const E=this.pageWidth-b.x+1,j=this.corner==="bottom"?this.pageHeight-b.y:b.y;let N=2*Math.acos(E/Math.sqrt(j*j+E*E));j<0&&(N=-N);const A=Math.PI-N;if(!isFinite(N)||A>=0&&A<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(N=-N),N}getPageRect(b){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],b):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],b)}getRectFromBasePoint(b,E){return{topLeft:this.getRotatedPoint(b[0],E),topRight:this.getRotatedPoint(b[1],E),bottomLeft:this.getRotatedPoint(b[2],E),bottomRight:this.getRotatedPoint(b[3],E)}}getRotatedPoint(b,E){return{x:b.x*Math.cos(this.angle)+b.y*Math.sin(this.angle)+E.x,y:b.y*Math.cos(this.angle)-b.x*Math.sin(this.angle)+E.y}}calculateIntersectPoint(b){const E={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[b,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[b,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[b,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(b,E,j){let N=b;const A=f.LimitPointToCircle(E,this.pageWidth,N);N!==A&&(N=A,this.updateAngleAndGeometry(N));const R=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let L=this.rect.bottomRight,V=this.rect.topLeft;if(this.corner==="bottom"&&(L=this.rect.topRight,V=this.rect.bottomLeft),L.x<=0){const F=f.LimitPointToCircle(j,R,V);F!==N&&(N=F,this.updateAngleAndGeometry(N))}return N}getSegmentToShadowLine(){const b=this.getShadowStartPoint();return[b,b!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class w{constructor(b,E){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=b,this.app=E}fold(b){this.setState("user_fold"),this.calc===null&&this.start(b),this.do(this.render.convertToPage(b))}flip(b){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(b)||(this.calc!==null&&this.render.finishAnimation(),!this.start(b)))return;const E=this.getBoundsRect();this.setState("flipping");const j=E.height/10,N=this.calc.getCorner()==="bottom"?E.height-j:j,A=this.calc.getCorner()==="bottom"?E.height:0;this.calc.calc({x:E.pageWidth-j,y:N}),this.animateFlippingTo({x:E.pageWidth-j,y:N},{x:-E.pageWidth,y:A},!0)}start(b){this.reset();const E=this.render.convertToBook(b),j=this.getBoundsRect(),N=this.getDirectionByPoint(E),A=E.y>=j.height/2?"bottom":"top";if(!this.checkDirection(N))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(N),this.bottomPage=this.app.getPageCollection().getBottomPage(N),this.render.getOrientation()==="landscape")if(N===1){const R=this.app.getPageCollection().nextBy(this.flippingPage);R!==null&&this.flippingPage.getDensity()!==R.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),R.setDrawingDensity("hard"))}else{const R=this.app.getPageCollection().prevBy(this.flippingPage);R!==null&&this.flippingPage.getDensity()!==R.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),R.setDrawingDensity("hard"))}return this.render.setDirection(N),this.calc=new x(N,A,j.pageWidth.toString(10),j.height.toString(10)),!0}catch{return!1}}do(b){if(this.calc!==null&&this.calc.calc(b)){const E=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*E)/100):this.flippingPage.setHardAngle(-90*(200-2*E)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),E,this.calc.getDirection())}}flipToPage(b,E){const j=this.app.getPageCollection().getCurrentSpreadIndex(),N=this.app.getPageCollection().getSpreadIndexByPage(b);try{N>j&&(this.app.getPageCollection().setCurrentSpreadIndex(N-1),this.flipNext(E)),N<j&&(this.app.getPageCollection().setCurrentSpreadIndex(N+1),this.flipPrev(E))}catch{}}flipNext(b){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:b==="top"?1:this.render.getRect().height-2})}flipPrev(b){this.flip({x:10,y:b==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const b=this.calc.getPosition(),E=this.getBoundsRect(),j=this.calc.getCorner()==="bottom"?E.height:0;b.x<=0?this.animateFlippingTo(b,{x:-E.pageWidth,y:j},!0):this.animateFlippingTo(b,{x:E.pageWidth,y:j},!1)}showCorner(b){if(!this.checkState("read","fold_corner"))return;const E=this.getBoundsRect(),j=E.pageWidth;if(this.isPointOnCorners(b))if(this.calc===null){if(!this.start(b))return;this.setState("fold_corner"),this.calc.calc({x:j-1,y:1});const N=50,A=this.calc.getCorner()==="bottom"?E.height-1:1,R=this.calc.getCorner()==="bottom"?E.height-N:N;this.animateFlippingTo({x:j-1,y:A},{x:j-N,y:R},!1,!1)}else this.do(this.render.convertToPage(b));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(b,E,j,N=!0){const A=f.GetCordsFromTwoPoint(b,E),R=[];for(const V of A)R.push(()=>this.do(V));const L=this.getAnimationDuration(A.length);this.render.startAnimation(R,L,()=>{this.calc&&(j&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),N&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(b){this.state!==b&&(this.app.updateState(b),this.state=b)}getDirectionByPoint(b){const E=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(b.x-E.pageWidth<=E.width/5)return 1}else if(b.x<E.width/2)return 1;return 0}getAnimationDuration(b){const E=this.app.getSettings().flippingTime;return b>=1e3?E:b/1e3*E}checkDirection(b){return b===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...b){for(const E of b)if(this.state===E)return!0;return!1}isPointOnCorners(b){const E=this.getBoundsRect(),j=E.pageWidth,N=Math.sqrt(Math.pow(j,2)+Math.pow(E.height,2))/5,A=this.render.convertToBook(b);return A.x>0&&A.y>0&&A.x<E.width&&A.y<E.height&&(A.x<N||A.x>E.width-N)&&(A.y<N||A.y>E.height-N)}}class T{constructor(b,E){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=E,this.app=b;const j=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=j.exec(window.navigator.userAgent)!==null}render(b){if(this.animation!==null){const E=Math.round((b-this.animation.startedAt)/this.animation.durationFrame);E<this.animation.frames.length?this.animation.frames[E]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=b,this.drawFrame()}start(){this.update();const b=E=>{this.render(E),requestAnimationFrame(b)};requestAnimationFrame(b)}startAnimation(b,E,j){this.finishAnimation(),this.animation={frames:b,duration:E,durationFrame:E/b.length,onAnimateEnd:j,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const b=this.calculateBoundsRect();this.orientation!==b&&(this.orientation=b,this.app.updateOrientation(b))}calculateBoundsRect(){let b="landscape";const E=this.getBlockWidth(),j=E/2,N=this.getBlockHeight()/2,A=this.setting.width/this.setting.height;let R=this.setting.width,L=this.setting.height,V=j-R;return this.setting.size==="stretch"?(E<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(b="portrait"),R=b==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,R>this.setting.maxWidth&&(R=this.setting.maxWidth),L=R/A,L>this.getBlockHeight()&&(L=this.getBlockHeight(),R=L*A),V=b==="portrait"?j-R/2-R:j-R):E<2*R&&this.app.getSettings().usePortrait&&(b="portrait",V=j-R/2-R),this.boundsRect={left:V,top:N-L/2,width:2*R,height:L,pageWidth:R},b}setShadowData(b,E,j,N){if(!this.app.getSettings().drawShadow)return;const A=100*this.getSettings().maxShadowOpacity;this.shadow={pos:b,angle:E,width:3*this.getRect().pageWidth/4*j/100,opacity:(100-j)*A/100/100,direction:N,progress:2*j}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(b){this.pageRect=b}setDirection(b){this.direction=b}setRightPage(b){b!==null&&b.setOrientation(1),this.rightPage=b}setLeftPage(b){b!==null&&b.setOrientation(0),this.leftPage=b}setBottomPage(b){b!==null&&b.setOrientation(this.direction===1?0:1),this.bottomPage=b}setFlippingPage(b){b!==null&&b.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=b}convertToBook(b){const E=this.getRect();return{x:b.x-E.left,y:b.y-E.top}}isSafari(){return this.safari}convertToPage(b,E){E||(E=this.direction);const j=this.getRect();return{x:E===0?b.x-j.left-j.width/2:j.width/2-b.x+j.left,y:b.y-j.top}}convertToGlobal(b,E){if(E||(E=this.direction),b==null)return null;const j=this.getRect();return{x:E===0?b.x+j.left+j.width/2:j.width/2-b.x+j.left,y:b.y+j.top}}convertRectToGlobal(b,E){return E||(E=this.direction),{topLeft:this.convertToGlobal(b.topLeft,E),topRight:this.convertToGlobal(b.topRight,E),bottomLeft:this.convertToGlobal(b.bottomLeft,E),bottomRight:this.convertToGlobal(b.bottomRight,E)}}}class I extends T{constructor(b,E,j){super(b,E),this.canvas=j,this.ctx=j.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const b=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(b.left+b.pageWidth,b.top,b.width,b.height),this.ctx.clip())}drawBookShadow(){const b=this.getRect();this.ctx.save(),this.ctx.beginPath();const E=b.width/20;this.ctx.rect(b.left,b.top,b.width,b.height);const j={x:b.left+b.width/2-E/2,y:0};this.ctx.translate(j.x,j.y);const N=this.ctx.createLinearGradient(0,0,E,0);N.addColorStop(0,"rgba(0, 0, 0, 0)"),N.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),N.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),N.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),N.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),N.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=N,this.ctx.fillRect(0,0,E,2*b.height),this.ctx.restore()}drawOuterShadow(){const b=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(b.left,b.top,b.width,b.height);const E=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(E.x,E.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const j=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),j.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),j.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),j.addColorStop(0,"rgba(0, 0, 0, 0)"),j.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=j,this.ctx.fillRect(0,0,this.shadow.width,2*b.height),this.ctx.restore()}drawInnerShadow(){const b=this.getRect();this.ctx.save(),this.ctx.beginPath();const E=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),j=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(j.topLeft.x,j.topLeft.y),this.ctx.lineTo(j.topRight.x,j.topRight.y),this.ctx.lineTo(j.bottomRight.x,j.bottomRight.y),this.ctx.lineTo(j.bottomLeft.x,j.bottomLeft.y),this.ctx.translate(E.x,E.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const N=3*this.shadow.width/4,A=this.ctx.createLinearGradient(0,0,N,0);this.shadow.direction===0?(this.ctx.translate(-N,-100),A.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),A.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),A.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),A.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=A,this.ctx.fillRect(0,0,N,2*b.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class D{constructor(b,E,j){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=A=>{if(this.checkTarget(A.target)){const R=this.getMousePos(A.clientX,A.clientY);this.app.startUserTouch(R),A.preventDefault()}},this.onTouchStart=A=>{if(this.checkTarget(A.target)&&A.changedTouches.length>0){const R=A.changedTouches[0],L=this.getMousePos(R.clientX,R.clientY);this.touchPoint={point:L,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(L)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||A.preventDefault()}},this.onMouseUp=A=>{const R=this.getMousePos(A.clientX,A.clientY);this.app.userStop(R)},this.onMouseMove=A=>{const R=this.getMousePos(A.clientX,A.clientY);this.app.userMove(R,!1)},this.onTouchMove=A=>{if(A.changedTouches.length>0){const R=A.changedTouches[0],L=this.getMousePos(R.clientX,R.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-L.x)>10||this.app.getState()!=="read")&&A.cancelable&&this.app.userMove(L,!0),this.app.getState()!=="read"&&A.preventDefault()):this.app.userMove(L,!0)}},this.onTouchEnd=A=>{if(A.changedTouches.length>0){const R=A.changedTouches[0],L=this.getMousePos(R.clientX,R.clientY);let V=!1;if(this.touchPoint!==null){const F=L.x-this.touchPoint.point.x,O=Math.abs(L.y-this.touchPoint.point.y);Math.abs(F)>this.swipeDistance&&O<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(F>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),V=!0),this.touchPoint=null}this.app.userStop(L,V)}},this.parentElement=b,b.classList.add("stf__parent"),b.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=b.querySelector(".stf__wrapper"),this.app=E;const N=this.app.getSettings().usePortrait?1:2;b.style.minWidth=j.minWidth*N+"px",b.style.minHeight=j.minHeight+"px",j.size==="fixed"&&(b.style.minWidth=j.width*N+"px",b.style.minHeight=j.height+"px"),j.autoSize&&(b.style.width="100%",b.style.maxWidth=2*j.maxWidth+"px"),b.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=j.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(b){this.wrapper.classList.remove("--portrait","--landscape"),b==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(b,E){const j=this.distElement.getBoundingClientRect();return{x:b-j.left,y:E-j.top}}checkTarget(b){return!this.app.getSettings().clickEventForward||!["a","button"].includes(b.tagName.toLowerCase())}}class B extends D{constructor(b,E,j,N){super(b,E,j),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=b.querySelector(".stf__block"),this.items=N;for(const A of N)this.distElement.appendChild(A);this.setHandlers()}clear(){for(const b of this.items)this.parentElement.appendChild(b)}updateItems(b){this.removeHandlers(),this.distElement.innerHTML="";for(const E of b)this.distElement.appendChild(E);this.items=b,this.setHandlers()}update(){this.app.getRender().update()}}class U extends D{constructor(b,E,j){super(b,E,j),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=b.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const b=getComputedStyle(this.canvas),E=parseInt(b.getPropertyValue("width"),10),j=parseInt(b.getPropertyValue("height"),10);this.canvas.width=E,this.canvas.height=j}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class G extends T{constructor(b,E,j){super(b,E),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=j,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const b=this.getRect(),E=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let j=(100-E)*(2.5*b.pageWidth)/100+20;j>b.pageWidth&&(j=b.pageWidth);let N=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${j}px;
            height: ${b.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*E/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${b.left+b.width/2}px;
            transform-origin: 0 0;
        `;N+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=N}drawHardOuterShadow(){const b=this.getRect();let E=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*b.pageWidth)/100+20;E>b.pageWidth&&(E=b.pageWidth);let j=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${E}px;
            height: ${b.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${b.left+b.width/2}px;
            transform-origin: 0 0;
        `;j+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=j}drawInnerShadow(){const b=this.getRect(),E=3*this.shadow.width/4,j=this.getDirection()===0?E:0,N=this.getDirection()===0?"to left":"to right",A=this.convertToGlobal(this.shadow.pos),R=this.shadow.angle+3*Math.PI/2,L=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let V="polygon( ";for(const O of L){let xe=this.getDirection()===1?{x:-O.x+this.shadow.pos.x,y:O.y-this.shadow.pos.y}:{x:O.x-this.shadow.pos.x,y:O.y-this.shadow.pos.y};xe=f.GetRotatedPoint(xe,{x:j,y:100},R),V+=xe.x+"px "+xe.y+"px, "}V=V.slice(0,-2),V+=")";const F=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${E}px;
            height: ${2*b.height}px;
            background: linear-gradient(${N},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${j}px 100px;
            transform: translate3d(${A.x-j}px, ${A.y-100}px, 0) rotate(${R}rad);
            clip-path: ${V};
            -webkit-clip-path: ${V};
        `;this.innerShadow.style.cssText=F}drawOuterShadow(){const b=this.getRect(),E=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),j=this.shadow.angle+3*Math.PI/2,N=this.getDirection()===1?this.shadow.width:0,A=this.getDirection()===0?"to right":"to left",R=[{x:0,y:0},{x:b.pageWidth,y:0},{x:b.pageWidth,y:b.height},{x:0,y:b.height}];let L="polygon( ";for(const F of R)if(F!==null){let O=this.getDirection()===1?{x:-F.x+this.shadow.pos.x,y:F.y-this.shadow.pos.y}:{x:F.x-this.shadow.pos.x,y:F.y-this.shadow.pos.y};O=f.GetRotatedPoint(O,{x:N,y:100},j),L+=O.x+"px "+O.y+"px, "}L=L.slice(0,-2),L+=")";const V=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*b.height}px;
            background: linear-gradient(${A}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${N}px 100px;
            transform: translate3d(${E.x-N}px, ${E.y-100}px, 0) rotate(${j}rad);
            clip-path: ${L};
            -webkit-clip-path: ${L};
        `;this.outerShadow.style.cssText=V}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const b=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(b))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const b of this.app.getPageCollection().getPages())b!==this.leftPage&&b!==this.rightPage&&b!==this.flippingPage&&b!==this.bottomPage&&(b.getElement().style.cssText="display: none"),b.getTemporaryCopy()!==this.flippingPage&&b.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class ${constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(b){const E=this._default;if(Object.assign(E,b),E.size!=="stretch"&&E.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(E.width<=0||E.height<=0)throw new Error("Invalid width or height");if(E.flippingTime<=0)throw new Error("Invalid flipping time");return E.size==="stretch"?(E.minWidth<=0&&(E.minWidth=100),E.maxWidth<E.minWidth&&(E.maxWidth=2e3),E.minHeight<=0&&(E.minHeight=100),E.maxHeight<E.minHeight&&(E.maxHeight=2e3)):(E.minWidth=E.width,E.maxWidth=E.width,E.minHeight=E.height,E.maxHeight=E.height),E}}(function(M,b){b===void 0&&(b={});var E=b.insertAt;if(typeof document<"u"){var j=document.head||document.getElementsByTagName("head")[0],N=document.createElement("style");N.type="text/css",E==="top"&&j.firstChild?j.insertBefore(N,j.firstChild):j.appendChild(N),N.styleSheet?N.styleSheet.cssText=M:N.appendChild(document.createTextNode(M))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(M,b){return this.events.has(M)?this.events.get(M).push(b):this.events.set(M,[b]),this}off(M){this.events.delete(M)}trigger(M,b,E=null){if(this.events.has(M))for(const j of this.events.get(M))j({data:E,object:b})}}{constructor(M,b){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new $().getSettings(b),this.block=M}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(M){this.ui=new U(this.block,this,this.setting);const b=this.ui.getCanvas();this.render=new I(this,this.setting,b),this.flipController=new w(this.render,this),this.pages=new u(this,this.render,M),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(M){this.ui=new B(this.block,this,this.setting,M),this.render=new G(this,this.setting,this.ui.getDistElement()),this.flipController=new w(this.render,this),this.pages=new y(this,this.render,this.ui.getDistElement(),M),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(M){const b=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new u(this,this.render,M),this.pages.load(),this.pages.show(b),this.trigger("update",this,{page:b,mode:this.render.getOrientation()})}updateFromHtml(M){const b=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new y(this,this.render,this.ui.getDistElement(),M),this.pages.load(),this.ui.updateItems(M),this.render.reload(),this.pages.show(b),this.trigger("update",this,{page:b,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(M){this.pages.show(M)}flipNext(M="top"){this.flipController.flipNext(M)}flipPrev(M="top"){this.flipController.flipPrev(M)}flip(M,b="top"){this.flipController.flipToPage(M,b)}updateState(M){this.trigger("changeState",this,M)}updatePageIndex(M){this.trigger("flip",this,M)}updateOrientation(M){this.ui.setOrientationStyle(M),this.update(),this.trigger("changeOrientation",this,M)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(M){return this.pages.getPage(M)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(M){this.mousePosition=M,this.isUserTouch=!0,this.isUserMove=!1}userMove(M,b){this.isUserTouch||b||!this.setting.showPageCorners?this.isUserTouch&&f.GetDistanceBetweenTwoPoint(this.mousePosition,M)>5&&(this.isUserMove=!0,this.flipController.fold(M)):this.flipController.showCorner(M)}userStop(M,b=!1){this.isUserTouch&&(this.isUserTouch=!1,b||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(M)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(kc,kc.exports)),kc.exports}var h9=u9();const d9=Aa.forwardRef((t,e)=>{const n=P.useRef(null),s=P.useRef([]),a=P.useRef(),[l,u]=P.useState([]);P.useImperativeHandle(e,()=>({pageFlip:()=>a.current}));const f=P.useCallback(()=>{a.current&&a.current.clear()},[]),p=P.useCallback(()=>{const y=a.current;y&&(y.off("flip"),y.off("changeOrientation"),y.off("changeState"),y.off("init"),y.off("update"))},[]);return P.useEffect(()=>{if(s.current=[],t.children){const y=Aa.Children.map(t.children,x=>Aa.cloneElement(x,{ref:w=>{w&&s.current.push(w)}}));(!t.renderOnlyPageLengthChange||l.length!==y.length)&&(y.length<l.length&&f(),u(y))}},[t.children]),P.useEffect(()=>{const y=()=>{const x=a.current;x&&(t.onFlip&&x.on("flip",w=>t.onFlip(w)),t.onChangeOrientation&&x.on("changeOrientation",w=>t.onChangeOrientation(w)),t.onChangeState&&x.on("changeState",w=>t.onChangeState(w)),t.onInit&&x.on("init",w=>t.onInit(w)),t.onUpdate&&x.on("update",w=>t.onUpdate(w)))};l.length>0&&s.current.length>0&&(p(),n.current&&!a.current&&(a.current=new h9.PageFlip(n.current,t)),a.current.getFlipController()?a.current.updateFromHtml(s.current):a.current.loadFromHTML(s.current),y())},[l]),Aa.createElement("div",{ref:n,className:t.className,style:t.style},l)}),f9=Aa.memo(d9),m9=Aa.forwardRef((t,e)=>h.jsxs("div",{className:"bg-[#1a1c20] w-full h-full shadow-2xl relative overflow-hidden flex flex-col items-center justify-center p-6 border-l-4 border-gold/20",ref:e,"data-density":"hard",children:[h.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/leather.png')"}}),h.jsxs("div",{className:"z-10 text-center space-y-4",children:[h.jsx("div",{className:"w-32 md:w-48 aspect-[2/3] mx-auto shadow-[0_20px_40px_rgba(0,0,0,0.8)] rounded-md overflow-hidden border border-white/10",children:h.jsx("img",{src:t.cover,alt:"Cover",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("h2",{className:"serif-title text-xl md:text-3xl text-white font-bold tracking-tight",children:t.title}),h.jsx("p",{className:"text-gold text-[10px] md:text-sm font-light uppercase tracking-[0.3em]",children:t.author})]}),h.jsxs("div",{className:"pt-4 flex flex-col items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-gold/50 animate-bounce text-sm",children:"swipe_left"}),h.jsx("p",{className:"text-[8px] text-white/30 uppercase tracking-widest leading-none",children:"Open to Read"})]})]}),h.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-8 bg-gradient-to-r from-black/40 to-transparent"})]})),ST=Aa.forwardRef((t,e)=>h.jsxs("div",{className:"bg-[#fcfaf2] w-full h-full p-6 md:p-10 flex flex-col shadow-inner relative",ref:e,children:[h.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/paper-fibers.png')"}}),h.jsxs("div",{className:"z-10 flex flex-col h-full",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 md:mb-10 border-b border-black/5 pb-2",children:[h.jsx("span",{className:"text-[8px] text-black/40 font-bold uppercase tracking-widest",children:"The archiview"}),h.jsx("span",{className:"text-[8px] text-black/40 font-bold",children:t.number})]}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsx("div",{className:"prose prose-xs md:prose-sm max-w-none",children:h.jsx("p",{className:"text-[#2a2a2a] text-sm md:text-base leading-relaxed font-serif whitespace-pre-wrap selection:bg-gold/20",children:t.children})})}),h.jsx("div",{className:"mt-4 pt-4 border-t border-black/5 flex justify-center italic text-[9px] text-black/20",children:"Archiview Book Curation"})]}),h.jsx("div",{className:"absolute inset-y-0 left-0 w-4 bg-gradient-to-r from-black/[0.02] to-transparent"})]}));function p9(){const{id:t}=LT(),e=ri(),n=P.useRef(null),{isSpeaking:s,speakReview:a,stopAll:l}=Y0(),[u,f]=P.useState({width:340,height:500});P.useEffect(()=>{const D=()=>{window.innerWidth<480?f({width:320,height:480}):f({width:380,height:580})};return D(),window.addEventListener("resize",D),document.body.style.overflow="hidden",()=>{window.removeEventListener("resize",D),document.body.style.overflow="auto"}},[]);const y={sapiens:"",1984:"1984",demian:"",vegetarian:"",factfulness:"",almond:"",leverage:"","one-thing":"",ubermensch:"",sayno:" ",psychology:" "}[t]||"";let x=null;for(const D of ja){const B=D.books.find(U=>U.title===y);if(B&&(x=B,B.review))break}if(!x)return h.jsx("div",{className:"p-20 text-white text-center bg-background-dark min-h-screen",children:"   ."});const w=x.review||x.desc,T=w.match(/[\s\S]{1,330}/g)||[w],I=()=>{l(),e("/editorial")};return h.jsxs("div",{className:"bg-[#0b0d0f] min-h-screen w-full font-display flex flex-col overflow-hidden relative z-[9999]",children:[h.jsxs("div",{className:"fixed top-0 inset-x-0 h-16 bg-gradient-to-b from-black/80 to-transparent z-[10000] px-4 flex items-center justify-between",children:[h.jsx("button",{onClick:I,className:"size-10 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-white/60 active:scale-95",children:h.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>a(w),className:`px-4 h-10 rounded-full flex items-center justify-center gap-2 transition-all active:scale-90 shadow-lg border ${s?"bg-gold border-gold text-primary font-bold":"bg-white/5 border-white/20 text-white/80"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:s?"pause":"record_voice_over"}),h.jsx("span",{className:"text-[10px] uppercase tracking-widest",children:s?"Listening":"Listen"})]}),h.jsx("button",{onClick:I,className:"size-10 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-white/60 active:scale-95",children:h.jsx("span",{className:"material-symbols-outlined",children:"close"})})]})]}),h.jsx("main",{className:"flex-1 w-full flex items-center justify-center relative touch-none pt-12",children:h.jsxs("div",{className:"relative w-full flex items-center justify-center",children:[h.jsx("button",{onClick:()=>n.current?.pageFlip()?.flipPrev(),className:"absolute left-12 z-50 size-16 rounded-full bg-white/5 border border-white/10 hidden md:flex items-center justify-center text-white/20 hover:text-gold transition-all",children:h.jsx("span",{className:"material-symbols-outlined text-4xl",children:"chevron_left"})}),h.jsx("div",{className:"relative flex justify-center items-center scale-95 sm:scale-100 md:scale-110",children:h.jsxs(f9,{width:u.width,height:u.height,size:"fixed",minWidth:280,maxWidth:420,minHeight:400,maxHeight:650,maxShadowOpacity:.3,showCover:!0,mobileScrollSupport:!0,clickEventForward:!0,usePortrait:!0,startPage:0,drawShadow:!0,flippingTime:600,useMouseEvents:!0,ref:n,className:"editorial-book shadow-[0_40px_100px_rgba(0,0,0,0.8)]",children:[h.jsx(m9,{title:x.title,author:x.author,cover:x.cover}),h.jsx(ST,{number:"1",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"h-1 w-12 bg-gold"}),h.jsx("h3",{className:"text-2xl font-serif text-[#1a1a1a] font-bold",children:"Synopsis"}),h.jsxs("p",{className:"italic text-black/70 leading-relaxed font-serif text-base",children:['"',x.desc,'"']}),h.jsx("div",{className:"pt-8 border-t border-black/5",children:h.jsx("p",{className:"text-[11px] font-serif text-black/40 leading-relaxed",children:"       .         ."})})]})}),T.map((D,B)=>h.jsx(ST,{number:B+2,children:D},B)),h.jsxs("div",{className:"bg-[#1a1c20] w-full h-full flex flex-col items-center justify-center p-8 text-center","data-density":"hard",children:[h.jsxs("div",{className:"z-10 space-y-4 font-serif",children:[h.jsx("div",{className:"text-gold/40 text-4xl italic mb-4",children:"Fin."}),h.jsxs("p",{className:"text-white/20 text-[10px] leading-relaxed italic",children:['"          , ',h.jsx("br",{}),'   ?" ',h.jsx("br",{}),"-  "]}),h.jsx("div",{className:"pt-6 text-[8px] text-white/5 tracking-[0.4em] uppercase",children:"Archiview archiview"})]}),h.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-8 bg-gradient-to-l from-black/40 to-transparent"})]})]})}),h.jsx("button",{onClick:()=>n.current?.pageFlip()?.flipNext(),className:"absolute right-12 z-50 size-16 rounded-full bg-white/5 border border-white/10 hidden md:flex items-center justify-center text-white/20 hover:text-gold transition-all",children:h.jsx("span",{className:"material-symbols-outlined text-4xl",children:"chevron_right"})}),h.jsx("div",{className:"absolute inset-x-0 bottom-4 flex justify-center md:hidden pointer-events-none",children:h.jsx("span",{className:"text-[9px] text-white/20 uppercase tracking-[0.3em] font-bold animate-pulse",children:"Tap edges to flip"})})]})}),h.jsx("style",{children:`
                .editorial-book { border-radius: 4px; overflow: visible !important; }
                .stf__parent { background-color: transparent !important; }
                .stf__block { background-color: transparent !important; }
                canvas { display: none !important; }
            `}),h.jsx("div",{className:"w-full bg-black",children:h.jsx(zn,{})})]})}const AT=[{text:"  ,     .      .",author:" "},{text:"   ,     ,    .",author:"Francis Bacon"},{text:"      .",author:"Thomas Carlyle"},{text:"     ,     .",author:"Victor Hugo"},{text:"     .",author:"Ralph Waldo Emerson"},{text:"     .",author:"Goethe"},{text:"          .",author:" "},{text:"      .",author:" "},{text:"      .",author:"Stephen King"},{text:"         .",author:"Flannery O'Connor"},{text:"     .",author:"Leo Tolstoy"},{text:"       .",author:"W. Somerset Maugham"},{text:"       .",author:"Edgar Allan Poe"},{text:"      .      .",author:" "},{text:"    .",author:"Maxim Gorky"},{text:"        .",author:" "},{text:"     .",author:"William Zinsser"},{text:" . ,   .",author:"Carl Sagan"},{text:"     .",author:"Andr Gide"},{text:"  ,  .",author:" "},{text:"    .",author:"Neil Gaiman"},{text:"     .",author:" "},{text:"      .",author:" "},{text:"  ,     .",author:"Bertrand Russell"},{text:"     .",author:"Martin Luther"},{text:"  ,  .",author:"Cicero"}];function g9(){const t=new Date,e=new Date(t.getFullYear(),0,0),n=Math.floor((t-e)/864e5);return AT[n%AT.length]}function y9(){const{user:t,loading:e}=vl(),n=ri(),[s,a]=P.useState(""),[l,u]=P.useState(""),[f,p]=P.useState(null),[y,x]=P.useState([]),[w,T]=P.useState(""),[I,D]=P.useState(""),[B,U]=P.useState(0),[G,$]=P.useState("memo"),[M,b]=P.useState([]),[E,j]=P.useState(!0),[N,A]=P.useState(!1),[R,L]=P.useState(null),[V,F]=P.useState(""),[O,xe]=P.useState(null),[De,J]=P.useState(null),[oe,ue]=P.useState(!1),[we,Ee]=P.useState(null),q=P.useRef(null),ne=P.useRef(null);P.useEffect(()=>{!e&&!t&&n("/login")},[t,e,n]),P.useEffect(()=>{q.current&&(q.current.style.height="auto",q.current.style.height=q.current.scrollHeight+"px")},[l]);const ce=async()=>{if(t){j(!0);try{const le=await UM(MM(J_(ld,"users",t.uid,"readingNotes"),VM("createdAt","desc")));b(le.docs.map(gt=>({id:gt.id,...gt.data(),createdAt:gt.data().createdAt?.toDate?.()||new Date})))}catch(le){console.error(le)}finally{j(!1)}}};P.useEffect(()=>{t&&ce()},[t]),P.useEffect(()=>{const le=()=>{de(),ue(!0)};return window.addEventListener("open-reading-note-form",le),()=>window.removeEventListener("open-reading-note-form",le)},[]);const de=()=>{a(""),u(""),p(null),x([]),T(""),D(""),U(0),$("memo"),L(null),ue(!1)},Se=async()=>{if(!(!s.trim()&&!l.trim()&&!I.trim())){A(!0);try{const le={title:s.trim(),body:l.trim(),mood:f,tags:y,type:G,bookTitle:G==="review"?I.trim():null,rating:G==="review"?B:null,updatedAt:n1()};R?await BM(Fg(ld,"users",t.uid,"readingNotes",R),le):await FM(J_(ld,"users",t.uid,"readingNotes"),{...le,createdAt:n1()}),de(),await ce()}catch(le){console.error(le)}finally{A(!1)}}},je=le=>{a(le.title||""),u(le.body||""),p(le.mood||null),x(le.tags||[]),$(le.type||"memo"),D(le.bookTitle||""),U(le.rating||0),L(le.id),ue(!0),setTimeout(()=>ne.current?.scrollIntoView({behavior:"smooth",block:"start"}),100)},Oe=async le=>{await zM(Fg(ld,"users",t.uid,"readingNotes",le)),b(M.filter(gt=>gt.id!==le)),Ee(null)},pt=M.filter(le=>{const gt=V.toLowerCase(),oi=!O||le.mood?.label===O,Ii=!gt||le.title?.toLowerCase().includes(gt)||le.body?.toLowerCase().includes(gt)||le.bookTitle?.toLowerCase().includes(gt)||le.tags?.some(xn=>xn.includes(gt));return oi&&Ii}),st=new Set(M.filter(le=>le.type==="review").map(le=>le.bookTitle)).size,ds=M.length;g9();const[Fn,Fs]=P.useState(""),qs=["","#","#","#"];return e?h.jsx("div",{className:"bg-background-dark min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-3xl rounded-full animate-pulse"}),h.jsx("div",{className:"size-12 rounded-full border-t-2 border-gold animate-spin relative"})]})}):t?h.jsxs("div",{className:"bg-[#090b10] font-display text-slate-200 antialiased min-h-screen flex justify-center selection:bg-gold/20 relative overflow-hidden",children:[h.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[h.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-gold/5 blur-[120px] rounded-full animate-pulse"}),h.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-indigo-900/10 blur-[130px] rounded-full"}),h.jsx("div",{className:"absolute top-[30%] right-[-5%] w-[30%] h-[30%] bg-purple-900/5 blur-[100px] rounded-full"})]}),h.jsxs("div",{className:"w-full max-w-[430px] relative min-h-screen flex flex-col pb-32 z-10",children:[h.jsx(ai,{title:"",type:"sub"}),h.jsx("header",{className:"px-8 pt-7 pb-10 text-left relative",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("span",{className:"text-[11px] font-bold text-gold uppercase tracking-[0.2em]",children:"Current Progress"}),h.jsx("h2",{className:"text-[28px] font-bold text-white tracking-tight",children:"  "})]}),h.jsxs("div",{className:"flex gap-12 relative items-end",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("span",{className:"text-[12px] text-white/40 block",children:" "}),h.jsxs("span",{className:"text-2xl font-bold text-white tracking-tighter",children:[st,""]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("span",{className:"text-[12px] text-white/40 block",children:" "}),h.jsxs("span",{className:"text-2xl font-bold text-white tracking-tighter",children:[ds,""]})]})]})]})}),h.jsx("div",{className:"px-6 flex gap-2 overflow-x-auto no-scrollbar mb-10",children:qs.map(le=>h.jsx("button",{onClick:()=>Fs(le),className:`px-5 py-2.5 rounded-full text-[13px] font-bold transition-all whitespace-nowrap
                                ${Fn===le?"bg-gold text-primary shadow-lg shadow-gold/20":"bg-white/5 border border-white/5 text-white/40 hover:text-white/60"}`,children:le},le))}),h.jsx("section",{className:"px-6 space-y-5 relative flex-1",children:E?h.jsx("div",{className:"space-y-6",children:[1,2,3].map(le=>h.jsx("div",{className:"h-40 bg-white/5 rounded-2xl animate-pulse"},le))}):pt.length===0?h.jsx("div",{className:"py-24 text-center opacity-30",children:h.jsx("p",{className:"serif-title text-xl font-light text-white",children:"  ."})}):pt.filter(le=>Fn===""||le.type===Fn||Fn==="#"&&le.type==="review"||Fn==="#"&&le.type==="memo").map(le=>{const gt=De===le.id,oi=we===le.id,Ii=le.type==="review"||le.type==="#";return h.jsxs("article",{className:"relative group/item scroll-mt-24",children:[h.jsxs("div",{onClick:()=>J(gt?null:le.id),className:`p-5 rounded-[1.5rem] border transition-all duration-500 relative bg-[#121826]/40 border-white/[0.03] hover:border-white/10 hover:bg-[#121826]/60 cursor-pointer ${gt?"ring-1 ring-gold/20":""}`,children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("div",{className:"w-[84px] h-[112px] shrink-0 rounded-lg overflow-hidden bg-slate-800 shadow-xl border border-white/5 flex items-center justify-center relative group-hover/item:scale-105 transition-transform",children:Ii?h.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-green-900/40 to-slate-900 flex flex-col items-center justify-center p-2 text-center",children:[h.jsx("span",{className:"text-[9px] text-white/40 serif-title font-bold leading-tight break-all",children:le.bookTitle}),h.jsx("div",{className:"absolute inset-0 bg-black/20"})]}):h.jsx("div",{className:"flex flex-col items-center justify-center gap-2 opacity-40",children:h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"description"})})}),h.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-1",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h3",{className:"text-[17px] font-bold text-white leading-tight truncate pr-4",children:le.bookTitle||le.title||" "}),h.jsx("span",{className:"text-[10px] text-white/20 tabular-nums pt-1",children:le.createdAt?.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,".")})]}),h.jsx("p",{className:`text-[13px] leading-relaxed text-white/50 font-light ${gt?"":"line-clamp-2"}`,children:le.body})]}),h.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[h.jsx("span",{className:"text-[10px] font-bold px-3 py-1 rounded-lg bg-white/5 text-gold/60 border border-white/[0.03]",children:le.type?.startsWith("#")?le.type:Ii?"#":"#"}),le.tags?.map(xn=>h.jsxs("span",{className:"text-[10px] font-bold px-3 py-1 rounded-lg bg-white/5 text-white/30 border border-white/[0.03]",children:["#",xn]},xn))]})]})]}),gt&&h.jsxs("div",{className:"mt-6 pt-5 border-t border-white/[0.05] flex gap-5 justify-end",children:[h.jsxs("button",{onClick:xn=>{xn.stopPropagation(),je(le)},className:"text-[11px] font-bold text-white/40 hover:text-white transition-colors flex items-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"edit"}),""]}),h.jsxs("button",{onClick:xn=>{xn.stopPropagation(),Ee(le.id)},className:"text-[11px] font-bold text-white/40 hover:text-red-400 transition-colors flex items-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"delete"}),""]})]})]}),oi&&h.jsxs("div",{className:"absolute inset-0 z-20 backdrop-blur-md bg-black/60 rounded-[1.5rem] flex items-center justify-center p-6 gap-4 animate-in fade-in duration-300",children:[h.jsx("button",{onClick:()=>Oe(le.id),className:"flex-1 h-12 rounded-xl bg-red-500 text-white text-[12px] font-bold",children:" "}),h.jsx("button",{onClick:()=>Ee(null),className:"h-12 px-6 rounded-xl bg-white/10 text-white text-[12px] font-bold",children:""})]})]},le.id)})}),oe&&h.jsxs("div",{className:"fixed inset-0 z-[100] bg-[#090b10] flex flex-col animate-in slide-in-from-bottom duration-500 shadow-2xl",children:[h.jsxs("div",{className:"px-6 h-16 shrink-0 flex items-center justify-between border-b border-white/[0.05]",children:[h.jsx("button",{onClick:de,className:"size-10 flex items-center justify-center -ml-2",children:h.jsx("span",{className:"material-symbols-outlined text-white/40",children:"close"})}),h.jsx("h3",{className:"text-[15px] font-bold text-white tracking-tight",children:" "}),h.jsx("div",{className:"size-10"})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-10 space-y-12 pb-32",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("h4",{className:"text-[14px] font-bold text-gold flex items-center gap-2",children:["  ( )",h.jsx("span",{className:"material-symbols-outlined text-lg",children:"auto_stories"})]})}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{className:"w-full bg-[#121826] border border-white/[0.05] rounded-2xl px-5 py-4 text-[14px] text-white/80 appearance-none outline-none focus:border-gold/30 transition-all",value:I,onChange:le=>{D(le.target.value),$(le.target.value?"#":"#")},children:[h.jsx("option",{value:"",children:"   "}),h.jsx("option",{value:"",children:""}),h.jsx("option",{value:" ",children:" "}),h.jsx("option",{value:"    ",children:"    "}),h.jsx("option",{value:" ",children:" "}),h.jsx("option",{value:" ",children:" ..."})]}),h.jsx("span",{className:"material-symbols-outlined absolute right-4 top-1/2 -translate-y-1/2 text-white/20 pointer-events-none",children:"expand_more"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-[14px] font-bold text-gold",children:" "}),h.jsx("div",{className:"flex gap-2",children:["#","#","#"].map(le=>h.jsxs("button",{onClick:()=>$(le),className:`flex-1 h-12 rounded-xl flex items-center justify-center gap-2 border text-[13px] font-bold transition-all
                                                ${G===le?"bg-gold/10 border-gold text-gold shadow-[0_0_15px_rgba(212,175,55,0.1)]":"bg-[#121826] border-white/5 text-white/40 hover:text-white"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-lg",children:le==="#"?"rate_review":le==="#"?"sticky_note_2":"format_quote"}),le]},le))})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("h4",{className:"text-[14px] font-bold text-gold flex items-center gap-2",children:["  / ",h.jsx("span",{className:"material-symbols-outlined text-lg rotate-12",children:"attach_file"}),h.jsx("span",{className:"material-symbols-outlined text-lg",children:"image"})]})}),h.jsxs("div",{className:"relative group",children:[h.jsx("textarea",{value:l,onChange:le=>u(le.target.value),placeholder:"        ...",className:"w-full bg-transparent border-none text-[16px] text-white/80 placeholder-white/20 min-h-[300px] outline-none resize-none leading-relaxed"}),h.jsx("div",{className:"flex justify-end pt-4",children:h.jsxs("span",{className:"flex items-center gap-2 text-[11px] text-white/30 font-medium",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"edit"}),l.length," characters"]})})]})]})]}),h.jsx("div",{className:"p-6 pb-10 bg-gradient-to-t from-[#090b10] via-[#090b10] to-transparent shrink-0",children:h.jsx("button",{onClick:Se,disabled:N||!l.trim(),className:"w-full h-16 rounded-2xl bg-gold text-primary font-bold flex items-center justify-center gap-2 active:scale-[0.98] transition-all disabled:opacity-30 shadow-xl shadow-gold/10",children:N?h.jsx("div",{className:"size-5 border-2 border-primary/20 border-t-primary rounded-full animate-spin"}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""}),h.jsx("span",{className:"material-symbols-outlined text-xl",children:"check_circle"})]})})})]}),h.jsx(zn,{}),h.jsx(Bn,{})]})]}):null}const Nc=({children:t})=>{const{user:e,loading:n}=vl();return n?null:e?t:h.jsx($C,{to:"/login",replace:!0})};function x9(){return h.jsx(F6,{children:h.jsx(xj,{children:h.jsx("div",{className:"max-w-[430px] mx-auto min-h-screen bg-background-light dark:bg-background-dark shadow-2xl relative overflow-hidden",children:h.jsxs(YC,{children:[h.jsx(ln,{path:"/",element:h.jsx(q6,{})}),h.jsx(ln,{path:"/editorial",element:h.jsx(H6,{})}),h.jsx(ln,{path:"/result",element:h.jsx(Nc,{children:h.jsx(G6,{})})}),h.jsx(ln,{path:"/celebrity/:id",element:h.jsx(TT,{})}),h.jsx(ln,{path:"/celebrity",element:h.jsx(TT,{})}),h.jsx(ln,{path:"/quiz",element:h.jsx(K6,{})}),h.jsx(ln,{path:"/library",element:h.jsx(Nc,{children:h.jsx(Y6,{})})}),h.jsx(ln,{path:"/profile",element:h.jsx(Nc,{children:h.jsx(W6,{})})}),h.jsx(ln,{path:"/admin",element:h.jsx(Nc,{children:h.jsx(s9,{})})}),h.jsx(ln,{path:"/login",element:h.jsx(r9,{})}),h.jsx(ln,{path:"/about",element:h.jsx(a9,{})}),h.jsx(ln,{path:"/privacy",element:h.jsx(o9,{})}),h.jsx(ln,{path:"/contact",element:h.jsx(l9,{})}),h.jsx(ln,{path:"/review/:id",element:h.jsx(p9,{})}),h.jsx(ln,{path:"/reading-notes",element:h.jsx(Nc,{children:h.jsx(y9,{})})})]})})})})}QR.createRoot(document.getElementById("root")).render(h.jsx(x9,{}));
