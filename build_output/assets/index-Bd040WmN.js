(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function NT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kp={exports:{}},Tc={};var gw;function UR(){if(gw)return Tc;gw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Tc.Fragment=e,Tc.jsx=n,Tc.jsxs=n,Tc}var yw;function zR(){return yw||(yw=1,kp.exports=UR()),kp.exports}var h=zR(),Dp={exports:{}},Se={};var xw;function FR(){if(xw)return Se;xw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function j(q){return q===null||typeof q!="object"?null:(q=T&&q[T]||q["@@iterator"],typeof q=="function"?q:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,B={};function F(q,se,ue){this.props=q,this.context=se,this.refs=B,this.updater=ue||D}F.prototype.isReactComponent={},F.prototype.setState=function(q,se){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,se,"setState")},F.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function $(){}$.prototype=F.prototype;function M(q,se,ue){this.props=q,this.context=se,this.refs=B,this.updater=ue||D}var w=M.prototype=new $;w.constructor=M,z(w,F.prototype),w.isPureReactComponent=!0;var E=Array.isArray;function I(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(q,se,ue){var he=ue.ref;return{$$typeof:t,type:q,key:se,ref:he!==void 0?he:null,props:ue}}function V(q,se){return R(q.type,se,q.props)}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function G(q){var se={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ue){return se[ue]})}var L=/\/+/g;function De(q,se){return typeof q=="object"&&q!==null&&q.key!=null?G(""+q.key):se.toString(36)}function We(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(I,I):(q.status="pending",q.then(function(se){q.status==="pending"&&(q.status="fulfilled",q.value=se)},function(se){q.status==="pending"&&(q.status="rejected",q.reason=se)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ee(q,se,ue,he,_e){var Re=typeof q;(Re==="undefined"||Re==="boolean")&&(q=null);var Ve=!1;if(q===null)Ve=!0;else switch(Re){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(q.$$typeof){case t:case e:Ve=!0;break;case x:return Ve=q._init,ee(Ve(q._payload),se,ue,he,_e)}}if(Ve)return _e=_e(q),Ve=he===""?"."+De(q,0):he,E(_e)?(ue="",Ve!=null&&(ue=Ve.replace(L,"$&/")+"/"),ee(_e,se,ue,"",function(gi){return gi})):_e!=null&&(O(_e)&&(_e=V(_e,ue+(_e.key==null||q&&q.key===_e.key?"":(""+_e.key).replace(L,"$&/")+"/")+Ve)),se.push(_e)),1;Ve=0;var vt=he===""?".":he+":";if(E(q))for(var et=0;et<q.length;et++)he=q[et],Re=vt+De(he,et),Ve+=ee(he,se,ue,Re,_e);else if(et=j(q),typeof et=="function")for(q=et.call(q),et=0;!(he=q.next()).done;)he=he.value,Re=vt+De(he,et++),Ve+=ee(he,se,ue,Re,_e);else if(Re==="object"){if(typeof q.then=="function")return ee(We(q),se,ue,he,_e);throw se=String(q),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function le(q,se,ue){if(q==null)return q;var he=[],_e=0;return ee(q,he,"","",function(Re){return se.call(ue,Re,_e++)}),he}function fe(q){if(q._status===-1){var se=q._result;se=se(),se.then(function(ue){(q._status===0||q._status===-1)&&(q._status=1,q._result=ue)},function(ue){(q._status===0||q._status===-1)&&(q._status=2,q._result=ue)}),q._status===-1&&(q._status=0,q._result=se)}if(q._status===1)return q._result.default;throw q._result}var Ne=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ke={map:le,forEach:function(q,se,ue){le(q,function(){se.apply(this,arguments)},ue)},count:function(q){var se=0;return le(q,function(){se++}),se},toArray:function(q){return le(q,function(se){return se})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Se.Activity=b,Se.Children=ke,Se.Component=F,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=M,Se.StrictMode=i,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(q){return N.H.useMemoCache(q)}},Se.cache=function(q){return function(){return q.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(q,se,ue){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var he=z({},q.props),_e=q.key;if(se!=null)for(Re in se.key!==void 0&&(_e=""+se.key),se)!A.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(he[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)he.children=ue;else if(1<Re){for(var Ve=Array(Re),vt=0;vt<Re;vt++)Ve[vt]=arguments[vt+2];he.children=Ve}return R(q.type,_e,he)},Se.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Se.createElement=function(q,se,ue){var he,_e={},Re=null;if(se!=null)for(he in se.key!==void 0&&(Re=""+se.key),se)A.call(se,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(_e[he]=se[he]);var Ve=arguments.length-2;if(Ve===1)_e.children=ue;else if(1<Ve){for(var vt=Array(Ve),et=0;et<Ve;et++)vt[et]=arguments[et+2];_e.children=vt}if(q&&q.defaultProps)for(he in Ve=q.defaultProps,Ve)_e[he]===void 0&&(_e[he]=Ve[he]);return R(q,Re,_e)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(q){return{$$typeof:f,render:q}},Se.isValidElement=O,Se.lazy=function(q){return{$$typeof:x,_payload:{_status:-1,_result:q},_init:fe}},Se.memo=function(q,se){return{$$typeof:y,type:q,compare:se===void 0?null:se}},Se.startTransition=function(q){var se=N.T,ue={};N.T=ue;try{var he=q(),_e=N.S;_e!==null&&_e(ue,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(I,Ne)}catch(Re){Ne(Re)}finally{se!==null&&ue.types!==null&&(se.types=ue.types),N.T=se}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(q){return N.H.use(q)},Se.useActionState=function(q,se,ue){return N.H.useActionState(q,se,ue)},Se.useCallback=function(q,se){return N.H.useCallback(q,se)},Se.useContext=function(q){return N.H.useContext(q)},Se.useDebugValue=function(){},Se.useDeferredValue=function(q,se){return N.H.useDeferredValue(q,se)},Se.useEffect=function(q,se){return N.H.useEffect(q,se)},Se.useEffectEvent=function(q){return N.H.useEffectEvent(q)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(q,se,ue){return N.H.useImperativeHandle(q,se,ue)},Se.useInsertionEffect=function(q,se){return N.H.useInsertionEffect(q,se)},Se.useLayoutEffect=function(q,se){return N.H.useLayoutEffect(q,se)},Se.useMemo=function(q,se){return N.H.useMemo(q,se)},Se.useOptimistic=function(q,se){return N.H.useOptimistic(q,se)},Se.useReducer=function(q,se,ue){return N.H.useReducer(q,se,ue)},Se.useRef=function(q){return N.H.useRef(q)},Se.useState=function(q){return N.H.useState(q)},Se.useSyncExternalStore=function(q,se,ue){return N.H.useSyncExternalStore(q,se,ue)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.4",Se}var vw;function my(){return vw||(vw=1,Dp.exports=FR()),Dp.exports}var P=my();const Ia=NT(P);var Pp={exports:{}},Ec={},Mp={exports:{}},Vp={};var bw;function qR(){return bw||(bw=1,(function(t){function e(ee,le){var fe=ee.length;ee.push(le);e:for(;0<fe;){var Ne=fe-1>>>1,ke=ee[Ne];if(0<a(ke,le))ee[Ne]=le,ee[fe]=ke,fe=Ne;else break e}}function n(ee){return ee.length===0?null:ee[0]}function i(ee){if(ee.length===0)return null;var le=ee[0],fe=ee.pop();if(fe!==le){ee[0]=fe;e:for(var Ne=0,ke=ee.length,q=ke>>>1;Ne<q;){var se=2*(Ne+1)-1,ue=ee[se],he=se+1,_e=ee[he];if(0>a(ue,fe))he<ke&&0>a(_e,ue)?(ee[Ne]=_e,ee[he]=fe,Ne=he):(ee[Ne]=ue,ee[se]=fe,Ne=se);else if(he<ke&&0>a(_e,fe))ee[Ne]=_e,ee[he]=fe,Ne=he;else break e}}return le}function a(ee,le){var fe=ee.sortIndex-le.sortIndex;return fe!==0?fe:ee.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],y=[],x=1,b=null,T=3,j=!1,D=!1,z=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function w(ee){for(var le=n(y);le!==null;){if(le.callback===null)i(y);else if(le.startTime<=ee)i(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function E(ee){if(z=!1,w(ee),!D)if(n(p)!==null)D=!0,I||(I=!0,G());else{var le=n(y);le!==null&&We(E,le.startTime-ee)}}var I=!1,N=-1,A=5,R=-1;function V(){return B?!0:!(t.unstable_now()-R<A)}function O(){if(B=!1,I){var ee=t.unstable_now();R=ee;var le=!0;try{e:{D=!1,z&&(z=!1,$(N),N=-1),j=!0;var fe=T;try{t:{for(w(ee),b=n(p);b!==null&&!(b.expirationTime>ee&&V());){var Ne=b.callback;if(typeof Ne=="function"){b.callback=null,T=b.priorityLevel;var ke=Ne(b.expirationTime<=ee);if(ee=t.unstable_now(),typeof ke=="function"){b.callback=ke,w(ee),le=!0;break t}b===n(p)&&i(p),w(ee)}else i(p);b=n(p)}if(b!==null)le=!0;else{var q=n(y);q!==null&&We(E,q.startTime-ee),le=!1}}break e}finally{b=null,T=fe,j=!1}le=void 0}}finally{le?G():I=!1}}}var G;if(typeof M=="function")G=function(){M(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,De=L.port2;L.port1.onmessage=O,G=function(){De.postMessage(null)}}else G=function(){F(O,0)};function We(ee,le){N=F(function(){ee(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(ee){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var fe=T;T=le;try{return ee()}finally{T=fe}},t.unstable_requestPaint=function(){B=!0},t.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var fe=T;T=ee;try{return le()}finally{T=fe}},t.unstable_scheduleCallback=function(ee,le,fe){var Ne=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ne+fe:Ne):fe=Ne,ee){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=fe+ke,ee={id:x++,callback:le,priorityLevel:ee,startTime:fe,expirationTime:ke,sortIndex:-1},fe>Ne?(ee.sortIndex=fe,e(y,ee),n(p)===null&&ee===n(y)&&(z?($(N),N=-1):z=!0,We(E,fe-Ne))):(ee.sortIndex=ke,e(p,ee),D||j||(D=!0,I||(I=!0,G()))),ee},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ee){var le=T;return function(){var fe=T;T=le;try{return ee.apply(this,arguments)}finally{T=fe}}}})(Vp)),Vp}var ww;function HR(){return ww||(ww=1,Mp.exports=qR()),Mp.exports}var Op={exports:{}},ln={};var _w;function GR(){if(_w)return ln;_w=1;var t=my();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,y,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:p,containerInfo:y,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(p,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(p,y,null,x)},ln.flushSync=function(p){var y=u.T,x=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=y,i.p=x,i.d.f()}},ln.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},ln.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},ln.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var x=y.as,b=f(x,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:j}):x==="script"&&i.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ln.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=f(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},ln.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,b=f(x,y.crossOrigin);i.d.L(p,x,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ln.preloadModule=function(p,y){if(typeof p=="string")if(y){var x=f(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},ln.requestFormReset=function(p){i.d.r(p)},ln.unstable_batchedUpdates=function(p,y){return p(y)},ln.useFormState=function(p,y,x){return u.H.useFormState(p,y,x)},ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},ln.version="19.2.4",ln}var Tw;function $R(){if(Tw)return Op.exports;Tw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Op.exports=GR(),Op.exports}var Ew;function KR(){if(Ew)return Ec;Ew=1;var t=HR(),e=my(),n=$R();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function u(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function p(s){if(l(s)!==s)throw Error(i(188))}function y(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,c=r;;){var m=o.return;if(m===null)break;var g=m.alternate;if(g===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===g.child){for(g=m.child;g;){if(g===o)return p(m),s;if(g===c)return p(m),r;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=m,c=g;else{for(var _=!1,C=m.child;C;){if(C===o){_=!0,o=m,c=g;break}if(C===c){_=!0,c=m,o=g;break}C=C.sibling}if(!_){for(C=g.child;C;){if(C===o){_=!0,o=g,c=m;break}if(C===c){_=!0,c=g,o=m;break}C=C.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function x(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=x(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),M=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var L=Symbol.for("react.client.reference");function De(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===L?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case F:return"Profiler";case B:return"StrictMode";case E:return"Suspense";case I:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case M:return s.displayName||"Context";case $:return(s._context.displayName||"Context")+".Consumer";case w:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return r=s.displayName||null,r!==null?r:De(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return De(s(r))}catch{}}return null}var We=Array.isArray,ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ne=[],ke=-1;function q(s){return{current:s}}function se(s){0>ke||(s.current=Ne[ke],Ne[ke]=null,ke--)}function ue(s,r){ke++,Ne[ke]=s.current,s.current=r}var he=q(null),_e=q(null),Re=q(null),Ve=q(null);function vt(s,r){switch(ue(Re,r),ue(_e,s),ue(he,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Bb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Bb(r),s=Ub(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}se(he),ue(he,s)}function et(){se(he),se(_e),se(Re)}function gi(s){s.memoizedState!==null&&ue(Ve,s);var r=he.current,o=Ub(r,s.type);r!==o&&(ue(_e,s),ue(he,o))}function Ki(s){_e.current===s&&(se(he),se(_e)),Ve.current===s&&(se(Ve),vc._currentValue=fe)}var zn,Yi;function Fn(s){if(zn===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);zn=r&&r[1]||"",Yi=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zn+s+Yi}var Jr=!1;function Is(s,r){if(!s||Jr)return"";Jr=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var X=Z}Reflect.construct(s,[],ie)}else{try{ie.call()}catch(Z){X=Z}s.call(ie.prototype)}}else{try{throw Error()}catch(Z){X=Z}(ie=s())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),_=g[0],C=g[1];if(_&&C){var U=_.split(`
`),Q=C.split(`
`);for(m=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(c===U.length||m===Q.length)for(c=U.length-1,m=Q.length-1;1<=c&&0<=m&&U[c]!==Q[m];)m--;for(;1<=c&&0<=m;c--,m--)if(U[c]!==Q[m]){if(c!==1||m!==1)do if(c--,m--,0>m||U[c]!==Q[m]){var te=`
`+U[c].replace(" at new "," at ");return s.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",s.displayName)),te}while(1<=c&&0<=m);break}}}finally{Jr=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?Fn(o):""}function ks(s,r){switch(s.tag){case 26:case 27:case 5:return Fn(s.type);case 16:return Fn("Lazy");case 13:return s.child!==r&&r!==null?Fn("Suspense Fallback"):Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 15:return Is(s.type,!1);case 11:return Is(s.type.render,!1);case 1:return Is(s.type,!0);case 31:return Fn("Activity");default:return""}}function yi(s){try{var r="",o=null;do r+=ks(s,o),o=s,s=s.return;while(s);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var at=Object.prototype.hasOwnProperty,ct=t.unstable_scheduleCallback,Ds=t.unstable_cancelCallback,Ps=t.unstable_shouldYield,Zr=t.unstable_requestPaint,oe=t.unstable_now,Fe=t.unstable_getCurrentPriorityLevel,os=t.unstable_ImmediatePriority,Ms=t.unstable_UserBlockingPriority,zt=t.unstable_NormalPriority,Mf=t.unstable_LowPriority,Nu=t.unstable_IdlePriority,Ru=t.log,Cu=t.unstable_setDisableYieldValue,ls=null,Xt=null;function qn(s){if(typeof Ru=="function"&&Cu(s),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ls,s)}catch{}}var Et=Math.clz32?Math.clz32:Iu,ju=Math.log,$a=Math.LN2;function Iu(s){return s>>>=0,s===0?32:31-(ju(s)/$a|0)|0}var Vs=256,ea=262144,Ct=4194304;function Os(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ls(s,r,o){var c=s.pendingLanes;if(c===0)return 0;var m=0,g=s.suspendedLanes,_=s.pingedLanes;s=s.warmLanes;var C=c&134217727;return C!==0?(c=C&~g,c!==0?m=Os(c):(_&=C,_!==0?m=Os(_):o||(o=C&~s,o!==0&&(m=Os(o))))):(C=c&~g,C!==0?m=Os(C):_!==0?m=Os(_):o||(o=c&~s,o!==0&&(m=Os(o)))),m===0?0:r!==0&&r!==m&&(r&g)===0&&(g=m&-m,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:m}function cs(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Vf(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(){var s=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),s}function Bs(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function ta(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Of(s,r,o,c,m,g){var _=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var C=s.entanglements,U=s.expirationTimes,Q=s.hiddenUpdates;for(o=_&~o;0<o;){var te=31-Et(o),ie=1<<te;C[te]=0,U[te]=-1;var X=Q[te];if(X!==null)for(Q[te]=null,te=0;te<X.length;te++){var Z=X[te];Z!==null&&(Z.lane&=-536870913)}o&=~ie}c!==0&&na(s,c,0),g!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=g&~(_&~r))}function na(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var c=31-Et(r);s.entangledLanes|=r,s.entanglements[c]=s.entanglements[c]|1073741824|o&261930}function El(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var c=31-Et(o),m=1<<c;m&r|s[c]&r&&(s[c]|=r),o&=~m}}function Sl(s,r){var o=r&-r;return o=(o&42)!==0?1:sa(o),(o&(s.suspendedLanes|r))!==0?0:o}function sa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Du(){var s=le.p;return s!==0?s:(s=window.event,s===void 0?32:cw(s.type))}function us(s,r){var o=le.p;try{return le.p=s,r()}finally{le.p=o}}var hs=Math.random().toString(36).slice(2),jt="__reactFiber$"+hs,$t="__reactProps$"+hs,Us="__reactContainer$"+hs,Ka="__reactEvents$"+hs,Lf="__reactListeners$"+hs,Pu="__reactHandles$"+hs,Mu="__reactResources$"+hs,zs="__reactMarker$"+hs;function Ya(s){delete s[jt],delete s[$t],delete s[Ka],delete s[Lf],delete s[Pu]}function Fs(s){var r=s[jt];if(r)return r;for(var o=s.parentNode;o;){if(r=o[Us]||o[jt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=Kb(s);s!==null;){if(o=s[jt])return o;s=Kb(s)}return r}s=o,o=s.parentNode}return null}function Hn(s){if(s=s[jt]||s[Us]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Rn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function qs(s){var r=s[Mu];return r||(r=s[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function It(s){s[zs]=!0}var Al=new Set,Nl={};function Hs(s,r){Gs(s,r),Gs(s+"Capture",r)}function Gs(s,r){for(Nl[s]=r,s=0;s<r.length;s++)Al.add(r[s])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},jl={};function Vu(s){return at.call(jl,s)?!0:at.call(Cl,s)?!1:Rl.test(s)?jl[s]=!0:(Cl[s]=!0,!1)}function Wa(s,r,o){if(Vu(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function Cn(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function kt(s,r,o,c){if(c===null)s.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+c)}}function Kt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Wi(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Il(s,r,o){var c=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,g=c.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(s,r,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Xe(s){if(!s._valueTracker){var r=Wi(s)?"checked":"value";s._valueTracker=Il(s,r,""+s[r])}}function ia(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return s&&(c=Wi(s)?s.checked?"true":"false":s.value),s=c,s!==o?(r.setValue(s),!0):!1}function $s(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ra=/[\n"\\]/g;function vn(s){return s.replace(ra,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Qa(s,r,o,c,m,g,_,C){s.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?s.type=_:s.removeAttribute("type"),r!=null?_==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Kt(r)):s.value!==""+Kt(r)&&(s.value=""+Kt(r)):_!=="submit"&&_!=="reset"||s.removeAttribute("value"),r!=null?kl(s,_,Kt(r)):o!=null?kl(s,_,Kt(o)):c!=null&&s.removeAttribute("value"),m==null&&g!=null&&(s.defaultChecked=!!g),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.name=""+Kt(C):s.removeAttribute("name")}function Ou(s,r,o,c,m,g,_,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){Xe(s);return}o=o!=null?""+Kt(o):"",r=r!=null?""+Kt(r):o,C||r===s.value||(s.value=r),s.defaultValue=r}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=C?s.checked:!!c,s.defaultChecked=!!c,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(s.name=_),Xe(s)}function kl(s,r,o){r==="number"&&$s(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Qi(s,r,o,c){if(s=s.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<s.length;o++)m=r.hasOwnProperty("$"+s[o].value),s[o].selected!==m&&(s[o].selected=m),m&&c&&(s[o].defaultSelected=!0)}else{for(o=""+Kt(o),r=null,m=0;m<s.length;m++){if(s[m].value===o){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Lu(s,r,o){if(r!=null&&(r=""+Kt(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+Kt(o):""}function Xi(s,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(i(92));if(We(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=Kt(r),s.defaultValue=o,c=s.textContent,c===o&&c!==""&&c!==null&&(s.value=c),Xe(s)}function bn(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var Bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(s,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":c?s.setProperty(r,o):typeof o!="number"||o===0||Bu.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Pl(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in r)c=r[m],r.hasOwnProperty(m)&&o[m]!==c&&Dl(s,m,c)}else for(var g in r)r.hasOwnProperty(g)&&Dl(s,g,r[g])}function Xa(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ji=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(s){return Ji.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ds(){}var Ml=null;function Gn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Zi=null,Ks=null;function aa(s){var r=Hn(s);if(r&&(s=r.stateNode)){var o=s[$t]||null;e:switch(s=r.stateNode,r.type){case"input":if(Qa(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==s&&c.form===s.form){var m=c[$t]||null;if(!m)throw Error(i(90));Qa(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===s.form&&ia(c)}break e;case"textarea":Lu(s,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Qi(s,!!o.multiple,r,!1)}}}var Za=!1;function er(s,r,o){if(Za)return s(r,o);Za=!0;try{var c=s(r);return c}finally{if(Za=!1,(Zi!==null||Ks!==null)&&(Dh(),Zi&&(r=Zi,s=Ks,Ks=Zi=null,aa(r),s)))for(r=0;r<s.length;r++)aa(s[r])}}function fs(s,r){var o=s.stateNode;if(o===null)return null;var c=o[$t]||null;if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oa=!1;if($n)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){oa=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{oa=!1}var Ys=null,Vl=null,la=null;function Ol(){if(la)return la;var s,r=Vl,o=r.length,c,m="value"in Ys?Ys.value:Ys.textContent,g=m.length;for(s=0;s<o&&r[s]===m[s];s++);var _=o-s;for(c=1;c<=_&&r[o-c]===m[g-c];c++);return la=m.slice(s,1<c?1-c:void 0)}function ca(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function vi(){return!0}function ms(){return!1}function Jt(s){function r(o,c,m,g,_){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var C in s)s.hasOwnProperty(C)&&(o=s[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?vi:ms,this.isPropagationStopped=ms,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),r}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Jt(bi),tr=b({},bi,{view:0,detail:0}),Ll=Jt(tr),nr,eo,Qs,to=b({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Qs&&(Qs&&s.type==="mousemove"?(nr=s.screenX-Qs.screenX,eo=s.screenY-Qs.screenY):eo=nr=0,Qs=s),nr)},movementY:function(s){return"movementY"in s?s.movementY:eo}}),Bl=Jt(to),ua=b({},to,{dataTransfer:0}),zu=Jt(ua),Fu=b({},tr,{relatedTarget:0}),ha=Jt(Fu),Ul=b({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),qu=Jt(Ul),no=b({},bi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hu=Jt(no),Gu=b({},bi,{data:0}),Xs=Jt(Gu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Yu[s])?!!r[s]:!1}function sr(){return Wu}var pn=b({},tr,{key:function(s){if(s.key){var r=$u[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ca(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ku[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(s){return s.type==="keypress"?ca(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ca(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qu=Jt(pn),Xu=b({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wi=Jt(Xu),d=b({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),v=Jt(d),S=b({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=Jt(S),Y=b({},to,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=Jt(Y),ce=b({},bi,{newState:0,oldState:0}),Ce=Jt(ce),St=[9,13,27,32],Ke=$n&&"CompositionEvent"in window,ft=null;$n&&"documentMode"in document&&(ft=document.documentMode);var Kn=$n&&"TextEvent"in window&&!ft,Js=$n&&(!Ke||ft&&8<ft&&11>=ft),ps=" ",gs=!1;function da(s,r){switch(s){case"keyup":return St.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function so(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var io=!1;function uN(s,r){switch(s){case"compositionend":return so(r);case"keypress":return r.which!==32?null:(gs=!0,ps);case"textInput":return s=r.data,s===ps&&gs?null:s;default:return null}}function hN(s,r){if(io)return s==="compositionend"||!Ke&&da(s,r)?(s=Ol(),la=Vl=Ys=null,io=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Js&&r.locale!=="ko"?null:r.data;default:return null}}var dN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!dN[s.type]:r==="textarea"}function X0(s,r,o,c){Zi?Ks?Ks.push(c):Ks=[c]:Zi=c,r=Uh(r,"onChange"),0<r.length&&(o=new Ws("onChange","change",null,o,c),s.push({event:o,listeners:r}))}var zl=null,Fl=null;function fN(s){Db(s,0)}function Ju(s){var r=Rn(s);if(ia(r))return s}function J0(s,r){if(s==="change")return r}var Z0=!1;if($n){var Bf;if($n){var Uf="oninput"in document;if(!Uf){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),Uf=typeof ex.oninput=="function"}Bf=Uf}else Bf=!1;Z0=Bf&&(!document.documentMode||9<document.documentMode)}function tx(){zl&&(zl.detachEvent("onpropertychange",nx),Fl=zl=null)}function nx(s){if(s.propertyName==="value"&&Ju(Fl)){var r=[];X0(r,Fl,s,Gn(s)),er(fN,r)}}function mN(s,r,o){s==="focusin"?(tx(),zl=r,Fl=o,zl.attachEvent("onpropertychange",nx)):s==="focusout"&&tx()}function pN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ju(Fl)}function gN(s,r){if(s==="click")return Ju(r)}function yN(s,r){if(s==="input"||s==="change")return Ju(r)}function xN(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var jn=typeof Object.is=="function"?Object.is:xN;function ql(s,r){if(jn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!at.call(r,m)||!jn(s[m],r[m]))return!1}return!0}function sx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function ix(s,r){var o=sx(s);s=0;for(var c;o;){if(o.nodeType===3){if(c=s+o.textContent.length,s<=r&&c>=r)return{node:o,offset:r-s};s=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sx(o)}}function rx(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?rx(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function ax(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=$s(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=$s(s.document)}return r}function zf(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var vN=$n&&"documentMode"in document&&11>=document.documentMode,ro=null,Ff=null,Hl=null,qf=!1;function ox(s,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;qf||ro==null||ro!==$s(c)||(c=ro,"selectionStart"in c&&zf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Hl&&ql(Hl,c)||(Hl=c,c=Uh(Ff,"onSelect"),0<c.length&&(r=new Ws("onSelect","select",null,r,o),s.push({event:r,listeners:c}),r.target=ro)))}function fa(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var ao={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Hf={},lx={};$n&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ma(s){if(Hf[s])return Hf[s];if(!ao[s])return s;var r=ao[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in lx)return Hf[s]=r[o];return s}var cx=ma("animationend"),ux=ma("animationiteration"),hx=ma("animationstart"),bN=ma("transitionrun"),wN=ma("transitionstart"),_N=ma("transitioncancel"),dx=ma("transitionend"),fx=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function ys(s,r){fx.set(s,r),Hs(r,[s])}var Zu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Yn=[],oo=0,$f=0;function eh(){for(var s=oo,r=$f=oo=0;r<s;){var o=Yn[r];Yn[r++]=null;var c=Yn[r];Yn[r++]=null;var m=Yn[r];Yn[r++]=null;var g=Yn[r];if(Yn[r++]=null,c!==null&&m!==null){var _=c.pending;_===null?m.next=m:(m.next=_.next,_.next=m),c.pending=m}g!==0&&mx(o,m,g)}}function th(s,r,o,c){Yn[oo++]=s,Yn[oo++]=r,Yn[oo++]=o,Yn[oo++]=c,$f|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Kf(s,r,o,c){return th(s,r,o,c),nh(s)}function pa(s,r){return th(s,null,null,r),nh(s)}function mx(s,r,o){s.lanes|=o;var c=s.alternate;c!==null&&(c.lanes|=o);for(var m=!1,g=s.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(m=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,m&&r!==null&&(m=31-Et(o),s=g.hiddenUpdates,c=s[m],c===null?s[m]=[r]:c.push(r),r.lane=o|536870912),g):null}function nh(s){if(50<dc)throw dc=0,np=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var lo={};function TN(s,r,o,c){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(s,r,o,c){return new TN(s,r,o,c)}function Yf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _i(s,r){var o=s.alternate;return o===null?(o=In(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function px(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function sh(s,r,o,c,m,g){var _=0;if(c=s,typeof s=="function")Yf(s)&&(_=1);else if(typeof s=="string")_=RR(s,o,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=In(31,o,r,m),s.elementType=R,s.lanes=g,s;case z:return ga(o.children,m,g,r);case B:_=8,m|=24;break;case F:return s=In(12,o,r,m|2),s.elementType=F,s.lanes=g,s;case E:return s=In(13,o,r,m),s.elementType=E,s.lanes=g,s;case I:return s=In(19,o,r,m),s.elementType=I,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:_=10;break e;case $:_=9;break e;case w:_=11;break e;case N:_=14;break e;case A:_=16,c=null;break e}_=29,o=Error(i(130,s===null?"null":typeof s,"")),c=null}return r=In(_,o,r,m),r.elementType=s,r.type=c,r.lanes=g,r}function ga(s,r,o,c){return s=In(7,s,c,r),s.lanes=o,s}function Wf(s,r,o){return s=In(6,s,null,r),s.lanes=o,s}function gx(s){var r=In(18,null,null,0);return r.stateNode=s,r}function Qf(s,r,o){return r=In(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var yx=new WeakMap;function Wn(s,r){if(typeof s=="object"&&s!==null){var o=yx.get(s);return o!==void 0?o:(r={value:s,source:r,stack:yi(r)},yx.set(s,r),r)}return{value:s,source:r,stack:yi(r)}}var co=[],uo=0,ih=null,Gl=0,Qn=[],Xn=0,ir=null,Zs=1,ei="";function Ti(s,r){co[uo++]=Gl,co[uo++]=ih,ih=s,Gl=r}function xx(s,r,o){Qn[Xn++]=Zs,Qn[Xn++]=ei,Qn[Xn++]=ir,ir=s;var c=Zs;s=ei;var m=32-Et(c)-1;c&=~(1<<m),o+=1;var g=32-Et(r)+m;if(30<g){var _=m-m%5;g=(c&(1<<_)-1).toString(32),c>>=_,m-=_,Zs=1<<32-Et(r)+m|o<<m|c,ei=g+s}else Zs=1<<g|o<<m|c,ei=s}function Xf(s){s.return!==null&&(Ti(s,1),xx(s,1,0))}function Jf(s){for(;s===ih;)ih=co[--uo],co[uo]=null,Gl=co[--uo],co[uo]=null;for(;s===ir;)ir=Qn[--Xn],Qn[Xn]=null,ei=Qn[--Xn],Qn[Xn]=null,Zs=Qn[--Xn],Qn[Xn]=null}function vx(s,r){Qn[Xn++]=Zs,Qn[Xn++]=ei,Qn[Xn++]=ir,Zs=r.id,ei=r.overflow,ir=s}var Zt=null,ut=null,qe=!1,rr=null,Jn=!1,Zf=Error(i(519));function ar(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Wn(r,s)),Zf}function bx(s){var r=s.stateNode,o=s.type,c=s.memoizedProps;switch(r[jt]=s,r[$t]=c,o){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(o=0;o<mc.length;o++)Me(mc[o],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Ou(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Xi(r,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||Ob(r.textContent,o)?(c.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),c.onScroll!=null&&Me("scroll",r),c.onScrollEnd!=null&&Me("scrollend",r),c.onClick!=null&&(r.onclick=ds),r=!0):r=!1,r||ar(s,!0)}function wx(s){for(Zt=s.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Zt=Zt.return}}function ho(s){if(s!==Zt)return!1;if(!qe)return wx(s),qe=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||yp(s.type,s.memoizedProps)),o=!o),o&&ut&&ar(s),wx(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ut=$b(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ut=$b(s)}else r===27?(r=ut,br(s.type)?(s=_p,_p=null,ut=s):ut=r):ut=Zt?es(s.stateNode.nextSibling):null;return!0}function ya(){ut=Zt=null,qe=!1}function em(){var s=rr;return s!==null&&(En===null?En=s:En.push.apply(En,s),rr=null),s}function $l(s){rr===null?rr=[s]:rr.push(s)}var tm=q(null),xa=null,Ei=null;function or(s,r,o){ue(tm,r._currentValue),r._currentValue=o}function Si(s){s._currentValue=tm.current,se(tm)}function nm(s,r,o){for(;s!==null;){var c=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),s===o)break;s=s.return}}function sm(s,r,o,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var g=m.dependencies;if(g!==null){var _=m.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=m;for(var U=0;U<r.length;U++)if(C.context===r[U]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),nm(g.return,o,s),c||(_=null);break e}g=C.next}}else if(m.tag===18){if(_=m.return,_===null)throw Error(i(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),nm(_,o,s),_=null}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}}function fo(s,r,o,c){s=null;for(var m=r,g=!1;m!==null;){if(!g){if((m.flags&524288)!==0)g=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var _=m.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var C=m.type;jn(m.pendingProps.value,_.value)||(s!==null?s.push(C):s=[C])}}else if(m===Ve.current){if(_=m.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(vc):s=[vc])}m=m.return}s!==null&&sm(r,s,o,c),r.flags|=262144}function rh(s){for(s=s.firstContext;s!==null;){if(!jn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function va(s){xa=s,Ei=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return _x(xa,s)}function ah(s,r){return xa===null&&va(s),_x(s,r)}function _x(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ei===null){if(s===null)throw Error(i(308));Ei=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ei=Ei.next=r;return o}var EN=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,c){s.push(c)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},SN=t.unstable_scheduleCallback,AN=t.unstable_NormalPriority,Dt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new EN,data:new Map,refCount:0}}function Kl(s){s.refCount--,s.refCount===0&&SN(AN,function(){s.controller.abort()})}var Yl=null,rm=0,mo=0,po=null;function NN(s,r){if(Yl===null){var o=Yl=[];rm=0,mo=lp(),po={status:"pending",value:void 0,then:function(c){o.push(c)}}}return rm++,r.then(Tx,Tx),r}function Tx(){if(--rm===0&&Yl!==null){po!==null&&(po.status="fulfilled");var s=Yl;Yl=null,mo=0,po=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function RN(s,r){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return s.then(function(){c.status="fulfilled",c.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Ex=ee.S;ee.S=function(s,r){ob=oe(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NN(s,r),Ex!==null&&Ex(s,r)};var ba=q(null);function am(){var s=ba.current;return s!==null?s:rt.pooledCache}function oh(s,r){r===null?ue(ba,ba.current):ue(ba,r.pool)}function Sx(){var s=am();return s===null?null:{parent:Dt._currentValue,pool:s}}var go=Error(i(460)),om=Error(i(474)),lh=Error(i(542)),ch={then:function(){}};function Ax(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Nx(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ds,ds),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Cx(s),s;default:if(typeof r.status=="string")r.then(ds,ds);else{if(s=rt,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(c){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=c}},function(c){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Cx(s),s}throw _a=r,go}}function wa(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(_a=o,go):o}}var _a=null;function Rx(){if(_a===null)throw Error(i(459));var s=_a;return _a=null,s}function Cx(s){if(s===go||s===lh)throw Error(i(483))}var yo=null,Wl=0;function uh(s){var r=Wl;return Wl+=1,yo===null&&(yo=[]),Nx(yo,s,r)}function Ql(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function hh(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function jx(s){function r(K,H){if(s){var W=K.deletions;W===null?(K.deletions=[H],K.flags|=16):W.push(H)}}function o(K,H){if(!s)return null;for(;H!==null;)r(K,H),H=H.sibling;return null}function c(K){for(var H=new Map;K!==null;)K.key!==null?H.set(K.key,K):H.set(K.index,K),K=K.sibling;return H}function m(K,H){return K=_i(K,H),K.index=0,K.sibling=null,K}function g(K,H,W){return K.index=W,s?(W=K.alternate,W!==null?(W=W.index,W<H?(K.flags|=67108866,H):W):(K.flags|=67108866,H)):(K.flags|=1048576,H)}function _(K){return s&&K.alternate===null&&(K.flags|=67108866),K}function C(K,H,W,ne){return H===null||H.tag!==6?(H=Wf(W,K.mode,ne),H.return=K,H):(H=m(H,W),H.return=K,H)}function U(K,H,W,ne){var xe=W.type;return xe===z?te(K,H,W.props.children,ne,W.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&wa(xe)===H.type)?(H=m(H,W.props),Ql(H,W),H.return=K,H):(H=sh(W.type,W.key,W.props,null,K.mode,ne),Ql(H,W),H.return=K,H)}function Q(K,H,W,ne){return H===null||H.tag!==4||H.stateNode.containerInfo!==W.containerInfo||H.stateNode.implementation!==W.implementation?(H=Qf(W,K.mode,ne),H.return=K,H):(H=m(H,W.children||[]),H.return=K,H)}function te(K,H,W,ne,xe){return H===null||H.tag!==7?(H=ga(W,K.mode,ne,xe),H.return=K,H):(H=m(H,W),H.return=K,H)}function ie(K,H,W){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Wf(""+H,K.mode,W),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return W=sh(H.type,H.key,H.props,null,K.mode,W),Ql(W,H),W.return=K,W;case D:return H=Qf(H,K.mode,W),H.return=K,H;case A:return H=wa(H),ie(K,H,W)}if(We(H)||G(H))return H=ga(H,K.mode,W,null),H.return=K,H;if(typeof H.then=="function")return ie(K,uh(H),W);if(H.$$typeof===M)return ie(K,ah(K,H),W);hh(K,H)}return null}function X(K,H,W,ne){var xe=H!==null?H.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return xe!==null?null:C(K,H,""+W,ne);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return W.key===xe?U(K,H,W,ne):null;case D:return W.key===xe?Q(K,H,W,ne):null;case A:return W=wa(W),X(K,H,W,ne)}if(We(W)||G(W))return xe!==null?null:te(K,H,W,ne,null);if(typeof W.then=="function")return X(K,H,uh(W),ne);if(W.$$typeof===M)return X(K,H,ah(K,W),ne);hh(K,W)}return null}function Z(K,H,W,ne,xe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return K=K.get(W)||null,C(H,K,""+ne,xe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case j:return K=K.get(ne.key===null?W:ne.key)||null,U(H,K,ne,xe);case D:return K=K.get(ne.key===null?W:ne.key)||null,Q(H,K,ne,xe);case A:return ne=wa(ne),Z(K,H,W,ne,xe)}if(We(ne)||G(ne))return K=K.get(W)||null,te(H,K,ne,xe,null);if(typeof ne.then=="function")return Z(K,H,W,uh(ne),xe);if(ne.$$typeof===M)return Z(K,H,W,ah(H,ne),xe);hh(H,ne)}return null}function pe(K,H,W,ne){for(var xe=null,Ge=null,ye=H,Ie=H=0,Le=null;ye!==null&&Ie<W.length;Ie++){ye.index>Ie?(Le=ye,ye=null):Le=ye.sibling;var $e=X(K,ye,W[Ie],ne);if($e===null){ye===null&&(ye=Le);break}s&&ye&&$e.alternate===null&&r(K,ye),H=g($e,H,Ie),Ge===null?xe=$e:Ge.sibling=$e,Ge=$e,ye=Le}if(Ie===W.length)return o(K,ye),qe&&Ti(K,Ie),xe;if(ye===null){for(;Ie<W.length;Ie++)ye=ie(K,W[Ie],ne),ye!==null&&(H=g(ye,H,Ie),Ge===null?xe=ye:Ge.sibling=ye,Ge=ye);return qe&&Ti(K,Ie),xe}for(ye=c(ye);Ie<W.length;Ie++)Le=Z(ye,K,Ie,W[Ie],ne),Le!==null&&(s&&Le.alternate!==null&&ye.delete(Le.key===null?Ie:Le.key),H=g(Le,H,Ie),Ge===null?xe=Le:Ge.sibling=Le,Ge=Le);return s&&ye.forEach(function(Sr){return r(K,Sr)}),qe&&Ti(K,Ie),xe}function be(K,H,W,ne){if(W==null)throw Error(i(151));for(var xe=null,Ge=null,ye=H,Ie=H=0,Le=null,$e=W.next();ye!==null&&!$e.done;Ie++,$e=W.next()){ye.index>Ie?(Le=ye,ye=null):Le=ye.sibling;var Sr=X(K,ye,$e.value,ne);if(Sr===null){ye===null&&(ye=Le);break}s&&ye&&Sr.alternate===null&&r(K,ye),H=g(Sr,H,Ie),Ge===null?xe=Sr:Ge.sibling=Sr,Ge=Sr,ye=Le}if($e.done)return o(K,ye),qe&&Ti(K,Ie),xe;if(ye===null){for(;!$e.done;Ie++,$e=W.next())$e=ie(K,$e.value,ne),$e!==null&&(H=g($e,H,Ie),Ge===null?xe=$e:Ge.sibling=$e,Ge=$e);return qe&&Ti(K,Ie),xe}for(ye=c(ye);!$e.done;Ie++,$e=W.next())$e=Z(ye,K,Ie,$e.value,ne),$e!==null&&(s&&$e.alternate!==null&&ye.delete($e.key===null?Ie:$e.key),H=g($e,H,Ie),Ge===null?xe=$e:Ge.sibling=$e,Ge=$e);return s&&ye.forEach(function(BR){return r(K,BR)}),qe&&Ti(K,Ie),xe}function it(K,H,W,ne){if(typeof W=="object"&&W!==null&&W.type===z&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case j:e:{for(var xe=W.key;H!==null;){if(H.key===xe){if(xe=W.type,xe===z){if(H.tag===7){o(K,H.sibling),ne=m(H,W.props.children),ne.return=K,K=ne;break e}}else if(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===A&&wa(xe)===H.type){o(K,H.sibling),ne=m(H,W.props),Ql(ne,W),ne.return=K,K=ne;break e}o(K,H);break}else r(K,H);H=H.sibling}W.type===z?(ne=ga(W.props.children,K.mode,ne,W.key),ne.return=K,K=ne):(ne=sh(W.type,W.key,W.props,null,K.mode,ne),Ql(ne,W),ne.return=K,K=ne)}return _(K);case D:e:{for(xe=W.key;H!==null;){if(H.key===xe)if(H.tag===4&&H.stateNode.containerInfo===W.containerInfo&&H.stateNode.implementation===W.implementation){o(K,H.sibling),ne=m(H,W.children||[]),ne.return=K,K=ne;break e}else{o(K,H);break}else r(K,H);H=H.sibling}ne=Qf(W,K.mode,ne),ne.return=K,K=ne}return _(K);case A:return W=wa(W),it(K,H,W,ne)}if(We(W))return pe(K,H,W,ne);if(G(W)){if(xe=G(W),typeof xe!="function")throw Error(i(150));return W=xe.call(W),be(K,H,W,ne)}if(typeof W.then=="function")return it(K,H,uh(W),ne);if(W.$$typeof===M)return it(K,H,ah(K,W),ne);hh(K,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,H!==null&&H.tag===6?(o(K,H.sibling),ne=m(H,W),ne.return=K,K=ne):(o(K,H),ne=Wf(W,K.mode,ne),ne.return=K,K=ne),_(K)):o(K,H)}return function(K,H,W,ne){try{Wl=0;var xe=it(K,H,W,ne);return yo=null,xe}catch(ye){if(ye===go||ye===lh)throw ye;var Ge=In(29,ye,null,K.mode);return Ge.lanes=ne,Ge.return=K,Ge}}}var Ta=jx(!0),Ix=jx(!1),lr=!1;function lm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cm(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function cr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function ur(s,r,o){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Ye&2)!==0){var m=c.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),c.pending=r,r=nh(s),mx(s,null,o),r}return th(s,c,r,o),nh(s)}function Xl(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,El(s,o)}}function um(s,r){var o=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?m=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?m=g=r:g=g.next=r}else m=g=r;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var hm=!1;function Jl(){if(hm){var s=po;if(s!==null)throw s}}function Zl(s,r,o,c){hm=!1;var m=s.updateQueue;lr=!1;var g=m.firstBaseUpdate,_=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var U=C,Q=U.next;U.next=null,_===null?g=Q:_.next=Q,_=U;var te=s.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==_&&(C===null?te.firstBaseUpdate=Q:C.next=Q,te.lastBaseUpdate=U))}if(g!==null){var ie=m.baseState;_=0,te=Q=U=null,C=g;do{var X=C.lane&-536870913,Z=X!==C.lane;if(Z?(Oe&X)===X:(c&X)===X){X!==0&&X===mo&&(hm=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var pe=s,be=C;X=r;var it=o;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ie=pe.call(it,ie,X);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,X=typeof pe=="function"?pe.call(it,ie,X):pe,X==null)break e;ie=b({},ie,X);break e;case 2:lr=!0}}X=C.callback,X!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=m.callbacks,Z===null?m.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(Q=te=Z,U=ie):te=te.next=Z,_|=X;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);te===null&&(U=ie),m.baseState=U,m.firstBaseUpdate=Q,m.lastBaseUpdate=te,g===null&&(m.shared.lanes=0),pr|=_,s.lanes=_,s.memoizedState=ie}}function kx(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Dx(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)kx(o[s],r)}var xo=q(null),dh=q(0);function Px(s,r){s=Pi,ue(dh,s),ue(xo,r),Pi=s|r.baseLanes}function dm(){ue(dh,Pi),ue(xo,xo.current)}function fm(){Pi=dh.current,se(xo),se(dh)}var kn=q(null),Zn=null;function hr(s){var r=s.alternate;ue(At,At.current&1),ue(kn,s),Zn===null&&(r===null||xo.current!==null||r.memoizedState!==null)&&(Zn=s)}function mm(s){ue(At,At.current),ue(kn,s),Zn===null&&(Zn=s)}function Mx(s){s.tag===22?(ue(At,At.current),ue(kn,s),Zn===null&&(Zn=s)):dr()}function dr(){ue(At,At.current),ue(kn,kn.current)}function Dn(s){se(kn),Zn===s&&(Zn=null),se(At)}var At=q(0);function fh(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||bp(o)||wp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ai=0,je=null,nt=null,Pt=null,mh=!1,vo=!1,Ea=!1,ph=0,ec=0,bo=null,CN=0;function bt(){throw Error(i(321))}function pm(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!jn(s[o],r[o]))return!1;return!0}function gm(s,r,o,c,m,g){return Ai=g,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ee.H=s===null||s.memoizedState===null?xv:Im,Ea=!1,g=o(c,m),Ea=!1,vo&&(g=Ox(r,o,c,m)),Vx(s),g}function Vx(s){ee.H=sc;var r=nt!==null&&nt.next!==null;if(Ai=0,Pt=nt=je=null,mh=!1,ec=0,bo=null,r)throw Error(i(300));s===null||Mt||(s=s.dependencies,s!==null&&rh(s)&&(Mt=!0))}function Ox(s,r,o,c){je=s;var m=0;do{if(vo&&(bo=null),ec=0,vo=!1,25<=m)throw Error(i(301));if(m+=1,Pt=nt=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}ee.H=vv,g=r(o,c)}while(vo);return g}function jN(){var s=ee.H,r=s.useState()[0];return r=typeof r.then=="function"?tc(r):r,s=s.useState()[0],(nt!==null?nt.memoizedState:null)!==s&&(je.flags|=1024),r}function ym(){var s=ph!==0;return ph=0,s}function xm(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function vm(s){if(mh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}mh=!1}Ai=0,Pt=nt=je=null,vo=!1,ec=ph=0,bo=null}function gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?je.memoizedState=Pt=s:Pt=Pt.next=s,Pt}function Nt(){if(nt===null){var s=je.alternate;s=s!==null?s.memoizedState:null}else s=nt.next;var r=Pt===null?je.memoizedState:Pt.next;if(r!==null)Pt=r,nt=s;else{if(s===null)throw je.alternate===null?Error(i(467)):Error(i(310));nt=s,s={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Pt===null?je.memoizedState=Pt=s:Pt=Pt.next=s}return Pt}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(s){var r=ec;return ec+=1,bo===null&&(bo=[]),s=Nx(bo,s,r),r=je,(Pt===null?r.memoizedState:Pt.next)===null&&(r=r.alternate,ee.H=r===null||r.memoizedState===null?xv:Im),s}function yh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return tc(s);if(s.$$typeof===M)return en(s)}throw Error(i(438,String(s)))}function bm(s){var r=null,o=je.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=gh(),je.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),c=0;c<s;c++)o[c]=V;return r.index++,o}function Ni(s,r){return typeof r=="function"?r(s):r}function xh(s){var r=Nt();return wm(r,nt,s)}function wm(s,r,o){var c=s.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var m=s.baseQueue,g=c.pending;if(g!==null){if(m!==null){var _=m.next;m.next=g.next,g.next=_}r.baseQueue=m=g,c.pending=null}if(g=s.baseState,m===null)s.memoizedState=g;else{r=m.next;var C=_=null,U=null,Q=r,te=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(Oe&ie)===ie:(Ai&ie)===ie){var X=Q.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===mo&&(te=!0);else if((Ai&X)===X){Q=Q.next,X===mo&&(te=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(C=U=ie,_=g):U=U.next=ie,je.lanes|=X,pr|=X;ie=Q.action,Ea&&o(g,ie),g=Q.hasEagerState?Q.eagerState:o(g,ie)}else X={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(C=U=X,_=g):U=U.next=X,je.lanes|=ie,pr|=ie;Q=Q.next}while(Q!==null&&Q!==r);if(U===null?_=g:U.next=C,!jn(g,s.memoizedState)&&(Mt=!0,te&&(o=po,o!==null)))throw o;s.memoizedState=g,s.baseState=_,s.baseQueue=U,c.lastRenderedState=g}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function _m(s){var r=Nt(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var c=o.dispatch,m=o.pending,g=r.memoizedState;if(m!==null){o.pending=null;var _=m=m.next;do g=s(g,_.action),_=_.next;while(_!==m);jn(g,r.memoizedState)||(Mt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function Lx(s,r,o){var c=je,m=Nt(),g=qe;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var _=!jn((nt||m).memoizedState,o);if(_&&(m.memoizedState=o,Mt=!0),m=m.queue,Sm(zx.bind(null,c,m,s),[s]),m.getSnapshot!==r||_||Pt!==null&&Pt.memoizedState.tag&1){if(c.flags|=2048,wo(9,{destroy:void 0},Ux.bind(null,c,m,o,r),null),rt===null)throw Error(i(349));g||(Ai&127)!==0||Bx(c,r,o)}return o}function Bx(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=je.updateQueue,r===null?(r=gh(),je.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function Ux(s,r,o,c){r.value=o,r.getSnapshot=c,Fx(r)&&qx(s)}function zx(s,r,o){return o(function(){Fx(r)&&qx(s)})}function Fx(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!jn(s,o)}catch{return!0}}function qx(s){var r=pa(s,2);r!==null&&Sn(r,s,2)}function Tm(s){var r=gn();if(typeof s=="function"){var o=s;if(s=o(),Ea){qn(!0);try{o()}finally{qn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},r}function Hx(s,r,o,c){return s.baseState=o,wm(s,nt,typeof c=="function"?c:Ni)}function IN(s,r,o,c,m){if(wh(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};ee.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,Gx(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Gx(s,r){var o=r.action,c=r.payload,m=s.state;if(r.isTransition){var g=ee.T,_={};ee.T=_;try{var C=o(m,c),U=ee.S;U!==null&&U(_,C),$x(s,r,C)}catch(Q){Em(s,r,Q)}finally{g!==null&&_.types!==null&&(g.types=_.types),ee.T=g}}else try{g=o(m,c),$x(s,r,g)}catch(Q){Em(s,r,Q)}}function $x(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Kx(s,r,c)},function(c){return Em(s,r,c)}):Kx(s,r,o)}function Kx(s,r,o){r.status="fulfilled",r.value=o,Yx(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,Gx(s,o)))}function Em(s,r,o){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,Yx(r),r=r.next;while(r!==c)}s.action=null}function Yx(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function Wx(s,r){return r}function Qx(s,r){if(qe){var o=rt.formState;if(o!==null){e:{var c=je;if(qe){if(ut){t:{for(var m=ut,g=Jn;m.nodeType!==8;){if(!g){m=null;break t}if(m=es(m.nextSibling),m===null){m=null;break t}}g=m.data,m=g==="F!"||g==="F"?m:null}if(m){ut=es(m.nextSibling),c=m.data==="F!";break e}}ar(c)}c=!1}c&&(r=o[0])}}return o=gn(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wx,lastRenderedState:r},o.queue=c,o=pv.bind(null,je,c),c.dispatch=o,c=Tm(!1),g=jm.bind(null,je,!1,c.queue),c=gn(),m={state:r,dispatch:null,action:s,pending:null},c.queue=m,o=IN.bind(null,je,m,g,o),m.dispatch=o,c.memoizedState=s,[r,o,!1]}function Xx(s){var r=Nt();return Jx(r,nt,s)}function Jx(s,r,o){if(r=wm(s,r,Wx)[0],s=xh(Ni)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=tc(r)}catch(_){throw _===go?lh:_}else c=r;r=Nt();var m=r.queue,g=m.dispatch;return o!==r.memoizedState&&(je.flags|=2048,wo(9,{destroy:void 0},kN.bind(null,m,o),null)),[c,g,s]}function kN(s,r){s.action=r}function Zx(s){var r=Nt(),o=nt;if(o!==null)return Jx(r,o,s);Nt(),r=r.memoizedState,o=Nt();var c=o.queue.dispatch;return o.memoizedState=s,[r,c,!1]}function wo(s,r,o,c){return s={tag:s,create:o,deps:c,inst:r,next:null},r=je.updateQueue,r===null&&(r=gh(),je.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(c=o.next,o.next=s,s.next=c,r.lastEffect=s),s}function ev(){return Nt().memoizedState}function vh(s,r,o,c){var m=gn();je.flags|=s,m.memoizedState=wo(1|r,{destroy:void 0},o,c===void 0?null:c)}function bh(s,r,o,c){var m=Nt();c=c===void 0?null:c;var g=m.memoizedState.inst;nt!==null&&c!==null&&pm(c,nt.memoizedState.deps)?m.memoizedState=wo(r,g,o,c):(je.flags|=s,m.memoizedState=wo(1|r,g,o,c))}function tv(s,r){vh(8390656,8,s,r)}function Sm(s,r){bh(2048,8,s,r)}function DN(s){je.flags|=4;var r=je.updateQueue;if(r===null)r=gh(),je.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function nv(s){var r=Nt().memoizedState;return DN({ref:r,nextImpl:s}),function(){if((Ye&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function sv(s,r){return bh(4,2,s,r)}function iv(s,r){return bh(4,4,s,r)}function rv(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function av(s,r,o){o=o!=null?o.concat([s]):null,bh(4,4,rv.bind(null,r,s),o)}function Am(){}function ov(s,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&pm(r,c[1])?c[0]:(o.memoizedState=[s,r],s)}function lv(s,r){var o=Nt();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&pm(r,c[1]))return c[0];if(c=s(),Ea){qn(!0);try{s()}finally{qn(!1)}}return o.memoizedState=[c,r],c}function Nm(s,r,o){return o===void 0||(Ai&1073741824)!==0&&(Oe&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=cb(),je.lanes|=s,pr|=s,o)}function cv(s,r,o,c){return jn(o,r)?o:xo.current!==null?(s=Nm(s,o,c),jn(s,r)||(Mt=!0),s):(Ai&42)===0||(Ai&1073741824)!==0&&(Oe&261930)===0?(Mt=!0,s.memoizedState=o):(s=cb(),je.lanes|=s,pr|=s,r)}function uv(s,r,o,c,m){var g=le.p;le.p=g!==0&&8>g?g:8;var _=ee.T,C={};ee.T=C,jm(s,!1,r,o);try{var U=m(),Q=ee.S;if(Q!==null&&Q(C,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var te=RN(U,c);nc(s,r,te,Vn(s))}else nc(s,r,c,Vn(s))}catch(ie){nc(s,r,{then:function(){},status:"rejected",reason:ie},Vn())}finally{le.p=g,_!==null&&C.types!==null&&(_.types=C.types),ee.T=_}}function PN(){}function Rm(s,r,o,c){if(s.tag!==5)throw Error(i(476));var m=hv(s).queue;uv(s,m,r,fe,o===null?PN:function(){return dv(s),o(c)})}function hv(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:fe},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function dv(s){var r=hv(s);r.next===null&&(r=s.alternate.memoizedState),nc(s,r.next.queue,{},Vn())}function Cm(){return en(vc)}function fv(){return Nt().memoizedState}function mv(){return Nt().memoizedState}function MN(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Vn();s=cr(o);var c=ur(r,s,o);c!==null&&(Sn(c,r,o),Xl(c,r,o)),r={cache:im()},s.payload=r;return}r=r.return}}function VN(s,r,o){var c=Vn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wh(s)?gv(r,o):(o=Kf(s,r,o,c),o!==null&&(Sn(o,s,c),yv(o,r,c)))}function pv(s,r,o){var c=Vn();nc(s,r,o,c)}function nc(s,r,o,c){var m={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(wh(s))gv(r,m);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,C=g(_,o);if(m.hasEagerState=!0,m.eagerState=C,jn(C,_))return th(s,r,m,0),rt===null&&eh(),!1}catch{}if(o=Kf(s,r,m,c),o!==null)return Sn(o,s,c),yv(o,r,c),!0}return!1}function jm(s,r,o,c){if(c={lane:2,revertLane:lp(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},wh(s)){if(r)throw Error(i(479))}else r=Kf(s,o,c,2),r!==null&&Sn(r,s,2)}function wh(s){var r=s.alternate;return s===je||r!==null&&r===je}function gv(s,r){vo=mh=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function yv(s,r,o){if((o&4194048)!==0){var c=r.lanes;c&=s.pendingLanes,o|=c,r.lanes=o,El(s,o)}}var sc={readContext:en,use:yh,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};sc.useEffectEvent=bt;var xv={readContext:en,use:yh,useCallback:function(s,r){return gn().memoizedState=[s,r===void 0?null:r],s},useContext:en,useEffect:tv,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,vh(4194308,4,rv.bind(null,r,s),o)},useLayoutEffect:function(s,r){return vh(4194308,4,s,r)},useInsertionEffect:function(s,r){vh(4,2,s,r)},useMemo:function(s,r){var o=gn();r=r===void 0?null:r;var c=s();if(Ea){qn(!0);try{s()}finally{qn(!1)}}return o.memoizedState=[c,r],c},useReducer:function(s,r,o){var c=gn();if(o!==void 0){var m=o(r);if(Ea){qn(!0);try{o(r)}finally{qn(!1)}}}else m=r;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=VN.bind(null,je,s),[c.memoizedState,s]},useRef:function(s){var r=gn();return s={current:s},r.memoizedState=s},useState:function(s){s=Tm(s);var r=s.queue,o=pv.bind(null,je,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Am,useDeferredValue:function(s,r){var o=gn();return Nm(o,s,r)},useTransition:function(){var s=Tm(!1);return s=uv.bind(null,je,s.queue,!0,!1),gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var c=je,m=gn();if(qe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),rt===null)throw Error(i(349));(Oe&127)!==0||Bx(c,r,o)}m.memoizedState=o;var g={value:o,getSnapshot:r};return m.queue=g,tv(zx.bind(null,c,g,s),[s]),c.flags|=2048,wo(9,{destroy:void 0},Ux.bind(null,c,g,o,r),null),o},useId:function(){var s=gn(),r=rt.identifierPrefix;if(qe){var o=ei,c=Zs;o=(c&~(1<<32-Et(c)-1)).toString(32)+o,r="_"+r+"R_"+o,o=ph++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=CN++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Cm,useFormState:Qx,useActionState:Qx,useOptimistic:function(s){var r=gn();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=jm.bind(null,je,!0,o),o.dispatch=r,[s,r]},useMemoCache:bm,useCacheRefresh:function(){return gn().memoizedState=MN.bind(null,je)},useEffectEvent:function(s){var r=gn(),o={impl:s};return r.memoizedState=o,function(){if((Ye&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Im={readContext:en,use:yh,useCallback:ov,useContext:en,useEffect:Sm,useImperativeHandle:av,useInsertionEffect:sv,useLayoutEffect:iv,useMemo:lv,useReducer:xh,useRef:ev,useState:function(){return xh(Ni)},useDebugValue:Am,useDeferredValue:function(s,r){var o=Nt();return cv(o,nt.memoizedState,s,r)},useTransition:function(){var s=xh(Ni)[0],r=Nt().memoizedState;return[typeof s=="boolean"?s:tc(s),r]},useSyncExternalStore:Lx,useId:fv,useHostTransitionStatus:Cm,useFormState:Xx,useActionState:Xx,useOptimistic:function(s,r){var o=Nt();return Hx(o,nt,s,r)},useMemoCache:bm,useCacheRefresh:mv};Im.useEffectEvent=nv;var vv={readContext:en,use:yh,useCallback:ov,useContext:en,useEffect:Sm,useImperativeHandle:av,useInsertionEffect:sv,useLayoutEffect:iv,useMemo:lv,useReducer:_m,useRef:ev,useState:function(){return _m(Ni)},useDebugValue:Am,useDeferredValue:function(s,r){var o=Nt();return nt===null?Nm(o,s,r):cv(o,nt.memoizedState,s,r)},useTransition:function(){var s=_m(Ni)[0],r=Nt().memoizedState;return[typeof s=="boolean"?s:tc(s),r]},useSyncExternalStore:Lx,useId:fv,useHostTransitionStatus:Cm,useFormState:Zx,useActionState:Zx,useOptimistic:function(s,r){var o=Nt();return nt!==null?Hx(o,nt,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:bm,useCacheRefresh:mv};vv.useEffectEvent=nv;function km(s,r,o,c){r=s.memoizedState,o=o(c,r),o=o==null?r:b({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Dm={enqueueSetState:function(s,r,o){s=s._reactInternals;var c=Vn(),m=cr(c);m.payload=r,o!=null&&(m.callback=o),r=ur(s,m,c),r!==null&&(Sn(r,s,c),Xl(r,s,c))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var c=Vn(),m=cr(c);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=ur(s,m,c),r!==null&&(Sn(r,s,c),Xl(r,s,c))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Vn(),c=cr(o);c.tag=2,r!=null&&(c.callback=r),r=ur(s,c,o),r!==null&&(Sn(r,s,o),Xl(r,s,o))}};function bv(s,r,o,c,m,g,_){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,g,_):r.prototype&&r.prototype.isPureReactComponent?!ql(o,c)||!ql(m,g):!0}function wv(s,r,o,c){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==s&&Dm.enqueueReplaceState(r,r.state,null)}function Sa(s,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(s=s.defaultProps){o===r&&(o=b({},o));for(var m in s)o[m]===void 0&&(o[m]=s[m])}return o}function _v(s){Zu(s)}function Tv(s){console.error(s)}function Ev(s){Zu(s)}function _h(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Sv(s,r,o){try{var c=s.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Pm(s,r,o){return o=cr(o),o.tag=3,o.payload={element:null},o.callback=function(){_h(s,r)},o}function Av(s){return s=cr(s),s.tag=3,s}function Nv(s,r,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var g=c.value;s.payload=function(){return m(g)},s.callback=function(){Sv(r,o,c)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(s.callback=function(){Sv(r,o,c),typeof m!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function ON(s,r,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&fo(r,o,m,!0),o=kn.current,o!==null){switch(o.tag){case 31:case 13:return Zn===null?Ph():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===ch?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),rp(s,c,m)),!1;case 22:return o.flags|=65536,c===ch?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),rp(s,c,m)),!1}throw Error(i(435,o.tag))}return rp(s,c,m),Ph(),!1}if(qe)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,c!==Zf&&(s=Error(i(422),{cause:c}),$l(Wn(s,o)))):(c!==Zf&&(r=Error(i(423),{cause:c}),$l(Wn(r,o))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=Wn(c,o),m=Pm(s.stateNode,c,m),um(s,m),wt!==4&&(wt=2)),!1;var g=Error(i(520),{cause:c});if(g=Wn(g,o),hc===null?hc=[g]:hc.push(g),wt!==4&&(wt=2),r===null)return!0;c=Wn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=m&-m,o.lanes|=s,s=Pm(o.stateNode,c,s),um(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(gr===null||!gr.has(g))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Av(m),Nv(m,s,o,c),um(o,m),!1}o=o.return}while(o!==null);return!1}var Mm=Error(i(461)),Mt=!1;function tn(s,r,o,c){r.child=s===null?Ix(r,null,o,c):Ta(r,s.child,o,c)}function Rv(s,r,o,c,m){o=o.render;var g=r.ref;if("ref"in c){var _={};for(var C in c)C!=="ref"&&(_[C]=c[C])}else _=c;return va(r),c=gm(s,r,o,_,g,m),C=ym(),s!==null&&!Mt?(xm(s,r,m),Ri(s,r,m)):(qe&&C&&Xf(r),r.flags|=1,tn(s,r,c,m),r.child)}function Cv(s,r,o,c,m){if(s===null){var g=o.type;return typeof g=="function"&&!Yf(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,jv(s,r,g,c,m)):(s=sh(o.type,null,c,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!qm(s,m)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:ql,o(_,c)&&s.ref===r.ref)return Ri(s,r,m)}return r.flags|=1,s=_i(g,c),s.ref=r.ref,s.return=r,r.child=s}function jv(s,r,o,c,m){if(s!==null){var g=s.memoizedProps;if(ql(g,c)&&s.ref===r.ref)if(Mt=!1,r.pendingProps=c=g,qm(s,m))(s.flags&131072)!==0&&(Mt=!0);else return r.lanes=s.lanes,Ri(s,r,m)}return Vm(s,r,o,c,m)}function Iv(s,r,o,c){var m=c.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(c=r.child=s.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~g}else c=0,r.child=null;return kv(s,r,g,o,c)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&oh(r,g!==null?g.cachePool:null),g!==null?Px(r,g):dm(),Mx(r);else return c=r.lanes=536870912,kv(s,r,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(oh(r,g.cachePool),Px(r,g),dr(),r.memoizedState=null):(s!==null&&oh(r,null),dm(),dr());return tn(s,r,m,o),r.child}function ic(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function kv(s,r,o,c,m){var g=am();return g=g===null?null:{parent:Dt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&oh(r,null),dm(),Mx(r),s!==null&&fo(s,r,c,!0),r.childLanes=m,null}function Th(s,r){return r=Sh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function Dv(s,r,o){return Ta(r,s.child,null,o),s=Th(r,r.pendingProps),s.flags|=2,Dn(r),r.memoizedState=null,s}function LN(s,r,o){var c=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(qe){if(c.mode==="hidden")return s=Th(r,c),r.lanes=536870912,ic(null,s);if(mm(r),(s=ut)?(s=Gb(s,Jn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ir!==null?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=gx(s),o.return=r,r.child=o,Zt=r,ut=null)):s=null,s===null)throw ar(r);return r.lanes=536870912,null}return Th(r,c)}var g=s.memoizedState;if(g!==null){var _=g.dehydrated;if(mm(r),m)if(r.flags&256)r.flags&=-257,r=Dv(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Mt||fo(s,r,o,!1),m=(o&s.childLanes)!==0,Mt||m){if(c=rt,c!==null&&(_=Sl(c,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,pa(s,_),Sn(c,s,_),Mm;Ph(),r=Dv(s,r,o)}else s=g.treeContext,ut=es(_.nextSibling),Zt=r,qe=!0,rr=null,Jn=!1,s!==null&&vx(r,s),r=Th(r,c),r.flags|=4096;return r}return s=_i(s.child,{mode:c.mode,children:c.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Eh(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Vm(s,r,o,c,m){return va(r),o=gm(s,r,o,c,void 0,m),c=ym(),s!==null&&!Mt?(xm(s,r,m),Ri(s,r,m)):(qe&&c&&Xf(r),r.flags|=1,tn(s,r,o,m),r.child)}function Pv(s,r,o,c,m,g){return va(r),r.updateQueue=null,o=Ox(r,c,o,m),Vx(s),c=ym(),s!==null&&!Mt?(xm(s,r,g),Ri(s,r,g)):(qe&&c&&Xf(r),r.flags|=1,tn(s,r,o,g),r.child)}function Mv(s,r,o,c,m){if(va(r),r.stateNode===null){var g=lo,_=o.contextType;typeof _=="object"&&_!==null&&(g=en(_)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Dm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},lm(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?en(_):lo,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(km(r,o,_,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Dm.enqueueReplaceState(g,g.state,null),Zl(r,c,g,m),Jl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(s===null){g=r.stateNode;var C=r.memoizedProps,U=Sa(o,C);g.props=U;var Q=g.context,te=o.contextType;_=lo,typeof te=="object"&&te!==null&&(_=en(te));var ie=o.getDerivedStateFromProps;te=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||Q!==_)&&wv(r,g,c,_),lr=!1;var X=r.memoizedState;g.state=X,Zl(r,c,g,m),Jl(),Q=r.memoizedState,C||X!==Q||lr?(typeof ie=="function"&&(km(r,o,ie,c),Q=r.memoizedState),(U=lr||bv(r,o,U,c,X,Q,_))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=Q),g.props=c,g.state=Q,g.context=_,c=U):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,cm(s,r),_=r.memoizedProps,te=Sa(o,_),g.props=te,ie=r.pendingProps,X=g.context,Q=o.contextType,U=lo,typeof Q=="object"&&Q!==null&&(U=en(Q)),C=o.getDerivedStateFromProps,(Q=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==ie||X!==U)&&wv(r,g,c,U),lr=!1,X=r.memoizedState,g.state=X,Zl(r,c,g,m),Jl();var Z=r.memoizedState;_!==ie||X!==Z||lr||s!==null&&s.dependencies!==null&&rh(s.dependencies)?(typeof C=="function"&&(km(r,o,C,c),Z=r.memoizedState),(te=lr||bv(r,o,te,c,X,Z,U)||s!==null&&s.dependencies!==null&&rh(s.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,U)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Z),g.props=c,g.state=Z,g.context=U,c=te):(typeof g.componentDidUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===s.memoizedProps&&X===s.memoizedState||(r.flags|=1024),c=!1)}return g=c,Eh(s,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&c?(r.child=Ta(r,s.child,null,m),r.child=Ta(r,null,o,m)):tn(s,r,o,m),r.memoizedState=g.state,s=r.child):s=Ri(s,r,m),s}function Vv(s,r,o,c){return ya(),r.flags|=256,tn(s,r,o,c),r.child}var Om={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lm(s){return{baseLanes:s,cachePool:Sx()}}function Bm(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Mn),s}function Ov(s,r,o){var c=r.pendingProps,m=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=s!==null&&s.memoizedState===null?!1:(At.current&2)!==0),_&&(m=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,s===null){if(qe){if(m?hr(r):dr(),(s=ut)?(s=Gb(s,Jn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:ir!==null?{id:Zs,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},o=gx(s),o.return=r,r.child=o,Zt=r,ut=null)):s=null,s===null)throw ar(r);return wp(s)?r.lanes=32:r.lanes=536870912,null}var C=c.children;return c=c.fallback,m?(dr(),m=r.mode,C=Sh({mode:"hidden",children:C},m),c=ga(c,m,o,null),C.return=r,c.return=r,C.sibling=c,r.child=C,c=r.child,c.memoizedState=Lm(o),c.childLanes=Bm(s,_,o),r.memoizedState=Om,ic(null,c)):(hr(r),Um(r,C))}var U=s.memoizedState;if(U!==null&&(C=U.dehydrated,C!==null)){if(g)r.flags&256?(hr(r),r.flags&=-257,r=zm(s,r,o)):r.memoizedState!==null?(dr(),r.child=s.child,r.flags|=128,r=null):(dr(),C=c.fallback,m=r.mode,c=Sh({mode:"visible",children:c.children},m),C=ga(C,m,o,null),C.flags|=2,c.return=r,C.return=r,c.sibling=C,r.child=c,Ta(r,s.child,null,o),c=r.child,c.memoizedState=Lm(o),c.childLanes=Bm(s,_,o),r.memoizedState=Om,r=ic(null,c));else if(hr(r),wp(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var Q=_.dgst;_=Q,c=Error(i(419)),c.stack="",c.digest=_,$l({value:c,source:null,stack:null}),r=zm(s,r,o)}else if(Mt||fo(s,r,o,!1),_=(o&s.childLanes)!==0,Mt||_){if(_=rt,_!==null&&(c=Sl(_,o),c!==0&&c!==U.retryLane))throw U.retryLane=c,pa(s,c),Sn(_,s,c),Mm;bp(C)||Ph(),r=zm(s,r,o)}else bp(C)?(r.flags|=192,r.child=s.child,r=null):(s=U.treeContext,ut=es(C.nextSibling),Zt=r,qe=!0,rr=null,Jn=!1,s!==null&&vx(r,s),r=Um(r,c.children),r.flags|=4096);return r}return m?(dr(),C=c.fallback,m=r.mode,U=s.child,Q=U.sibling,c=_i(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,Q!==null?C=_i(Q,C):(C=ga(C,m,o,null),C.flags|=2),C.return=r,c.return=r,c.sibling=C,r.child=c,ic(null,c),c=r.child,C=s.child.memoizedState,C===null?C=Lm(o):(m=C.cachePool,m!==null?(U=Dt._currentValue,m=m.parent!==U?{parent:U,pool:U}:m):m=Sx(),C={baseLanes:C.baseLanes|o,cachePool:m}),c.memoizedState=C,c.childLanes=Bm(s,_,o),r.memoizedState=Om,ic(s.child,c)):(hr(r),o=s.child,s=o.sibling,o=_i(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,s!==null&&(_=r.deletions,_===null?(r.deletions=[s],r.flags|=16):_.push(s)),r.child=o,r.memoizedState=null,o)}function Um(s,r){return r=Sh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Sh(s,r){return s=In(22,s,null,r),s.lanes=0,s}function zm(s,r,o){return Ta(r,s.child,null,o),s=Um(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Lv(s,r,o){s.lanes|=r;var c=s.alternate;c!==null&&(c.lanes|=r),nm(s.return,r,o)}function Fm(s,r,o,c,m,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m,treeForkCount:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=c,_.tail=o,_.tailMode=m,_.treeForkCount=g)}function Bv(s,r,o){var c=r.pendingProps,m=c.revealOrder,g=c.tail;c=c.children;var _=At.current,C=(_&2)!==0;if(C?(_=_&1|2,r.flags|=128):_&=1,ue(At,_),tn(s,r,c,o),c=qe?Gl:0,!C&&s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Lv(s,o,r);else if(s.tag===19)Lv(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)s=o.alternate,s!==null&&fh(s)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),Fm(r,!1,m,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&fh(s)===null){r.child=m;break}s=m.sibling,m.sibling=o,o=m,m=s}Fm(r,!0,o,null,g,c);break;case"together":Fm(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Ri(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),pr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(fo(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=_i(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=_i(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function qm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&rh(s)))}function BN(s,r,o){switch(r.tag){case 3:vt(r,r.stateNode.containerInfo),or(r,Dt,s.memoizedState.cache),ya();break;case 27:case 5:gi(r);break;case 4:vt(r,r.stateNode.containerInfo);break;case 10:or(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,mm(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(hr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Ov(s,r,o):(hr(r),s=Ri(s,r,o),s!==null?s.sibling:null);hr(r);break;case 19:var m=(s.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(fo(s,r,o,!1),c=(o&r.childLanes)!==0),m){if(c)return Bv(s,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ue(At,At.current),c)break;return null;case 22:return r.lanes=0,Iv(s,r,o,r.pendingProps);case 24:or(r,Dt,s.memoizedState.cache)}return Ri(s,r,o)}function Uv(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)Mt=!0;else{if(!qm(s,o)&&(r.flags&128)===0)return Mt=!1,BN(s,r,o);Mt=(s.flags&131072)!==0}else Mt=!1,qe&&(r.flags&1048576)!==0&&xx(r,Gl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(s=wa(r.elementType),r.type=s,typeof s=="function")Yf(s)?(c=Sa(s,c),r.tag=1,r=Mv(null,r,s,c,o)):(r.tag=0,r=Vm(null,r,s,c,o));else{if(s!=null){var m=s.$$typeof;if(m===w){r.tag=11,r=Rv(null,r,s,c,o);break e}else if(m===N){r.tag=14,r=Cv(null,r,s,c,o);break e}}throw r=De(s)||s,Error(i(306,r,""))}}return r;case 0:return Vm(s,r,r.type,r.pendingProps,o);case 1:return c=r.type,m=Sa(c,r.pendingProps),Mv(s,r,c,m,o);case 3:e:{if(vt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));c=r.pendingProps;var g=r.memoizedState;m=g.element,cm(s,r),Zl(r,c,null,o);var _=r.memoizedState;if(c=_.cache,or(r,Dt,c),c!==g.cache&&sm(r,[Dt],o,!0),Jl(),c=_.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Vv(s,r,c,o);break e}else if(c!==m){m=Wn(Error(i(424)),r),$l(m),r=Vv(s,r,c,o);break e}else for(s=r.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,ut=es(s.firstChild),Zt=r,qe=!0,rr=null,Jn=!0,o=Ix(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ya(),c===m){r=Ri(s,r,o);break e}tn(s,r,c,o)}r=r.child}return r;case 26:return Eh(s,r),s===null?(o=Xb(r.type,null,r.pendingProps,null))?r.memoizedState=o:qe||(o=r.type,s=r.pendingProps,c=zh(Re.current).createElement(o),c[jt]=r,c[$t]=s,nn(c,o,s),It(c),r.stateNode=c):r.memoizedState=Xb(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return gi(r),s===null&&qe&&(c=r.stateNode=Yb(r.type,r.pendingProps,Re.current),Zt=r,Jn=!0,m=ut,br(r.type)?(_p=m,ut=es(c.firstChild)):ut=m),tn(s,r,r.pendingProps.children,o),Eh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&qe&&((m=c=ut)&&(c=pR(c,r.type,r.pendingProps,Jn),c!==null?(r.stateNode=c,Zt=r,ut=es(c.firstChild),Jn=!1,m=!0):m=!1),m||ar(r)),gi(r),m=r.type,g=r.pendingProps,_=s!==null?s.memoizedProps:null,c=g.children,yp(m,g)?c=null:_!==null&&yp(m,_)&&(r.flags|=32),r.memoizedState!==null&&(m=gm(s,r,jN,null,null,o),vc._currentValue=m),Eh(s,r),tn(s,r,c,o),r.child;case 6:return s===null&&qe&&((s=o=ut)&&(o=gR(o,r.pendingProps,Jn),o!==null?(r.stateNode=o,Zt=r,ut=null,s=!0):s=!1),s||ar(r)),null;case 13:return Ov(s,r,o);case 4:return vt(r,r.stateNode.containerInfo),c=r.pendingProps,s===null?r.child=Ta(r,null,c,o):tn(s,r,c,o),r.child;case 11:return Rv(s,r,r.type,r.pendingProps,o);case 7:return tn(s,r,r.pendingProps,o),r.child;case 8:return tn(s,r,r.pendingProps.children,o),r.child;case 12:return tn(s,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,or(r,r.type,c.value),tn(s,r,c.children,o),r.child;case 9:return m=r.type._context,c=r.pendingProps.children,va(r),m=en(m),c=c(m),r.flags|=1,tn(s,r,c,o),r.child;case 14:return Cv(s,r,r.type,r.pendingProps,o);case 15:return jv(s,r,r.type,r.pendingProps,o);case 19:return Bv(s,r,o);case 31:return LN(s,r,o);case 22:return Iv(s,r,o,r.pendingProps);case 24:return va(r),c=en(Dt),s===null?(m=am(),m===null&&(m=rt,g=im(),m.pooledCache=g,g.refCount++,g!==null&&(m.pooledCacheLanes|=o),m=g),r.memoizedState={parent:c,cache:m},lm(r),or(r,Dt,m)):((s.lanes&o)!==0&&(cm(s,r),Zl(r,null,null,o),Jl()),m=s.memoizedState,g=r.memoizedState,m.parent!==c?(m={parent:c,cache:c},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),or(r,Dt,c)):(c=g.cache,or(r,Dt,c),c!==m.cache&&sm(r,[Dt],o,!0))),tn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ci(s){s.flags|=4}function Hm(s,r,o,c,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(fb())s.flags|=8192;else throw _a=ch,om}else s.flags&=-16777217}function zv(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!nw(r))if(fb())s.flags|=8192;else throw _a=ch,om}function Ah(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?ku():536870912,s.lanes|=r,So|=r)}function rc(s,r){if(!qe)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function ht(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,c=0;if(r)for(var m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=o,r}function UN(s,r,o){var c=r.pendingProps;switch(Jf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return o=r.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Si(Dt),et(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(ho(r)?Ci(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,em())),ht(r),null;case 26:var m=r.type,g=r.memoizedState;return s===null?(Ci(r),g!==null?(ht(r),zv(r,g)):(ht(r),Hm(r,m,null,c,o))):g?g!==s.memoizedState?(Ci(r),ht(r),zv(r,g)):(ht(r),r.flags&=-16777217):(s=s.memoizedProps,s!==c&&Ci(r),ht(r),Hm(r,m,s,c,o)),null;case 27:if(Ki(r),o=Re.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Ci(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ht(r),null}s=he.current,ho(r)?bx(r):(s=Yb(m,c,o),r.stateNode=s,Ci(r))}return ht(r),null;case 5:if(Ki(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==c&&Ci(r);else{if(!c){if(r.stateNode===null)throw Error(i(166));return ht(r),null}if(g=he.current,ho(r))bx(r);else{var _=zh(Re.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?_.createElement("select",{is:c.is}):_.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?_.createElement(m,{is:c.is}):_.createElement(m)}}g[jt]=r,g[$t]=c;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=g;e:switch(nn(g,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ci(r)}}return ht(r),Hm(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==c&&Ci(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(i(166));if(s=Re.current,ho(r)){if(s=r.stateNode,o=r.memoizedProps,c=null,m=Zt,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[jt]=r,s=!!(s.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Ob(s.nodeValue,o)),s||ar(r,!0)}else s=zh(s).createTextNode(c),s[jt]=r,r.stateNode=s}return ht(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(c=ho(r),o!==null){if(s===null){if(!c)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[jt]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),s=!1}else o=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Dn(r),r):(Dn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ht(r),null;case 13:if(c=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=ho(r),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[jt]=r}else ya(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),m=!1}else m=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Dn(r),r):(Dn(r),null)}return Dn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=c!==null,s=s!==null&&s.memoizedState!==null,o&&(c=r.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),Ah(r,r.updateQueue),ht(r),null);case 4:return et(),s===null&&dp(r.stateNode.containerInfo),ht(r),null;case 10:return Si(r.type),ht(r),null;case 19:if(se(At),c=r.memoizedState,c===null)return ht(r),null;if(m=(r.flags&128)!==0,g=c.rendering,g===null)if(m)rc(c,!1);else{if(wt!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=fh(s),g!==null){for(r.flags|=128,rc(c,!1),s=g.updateQueue,r.updateQueue=s,Ah(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)px(o,s),o=o.sibling;return ue(At,At.current&1|2),qe&&Ti(r,c.treeForkCount),r.child}s=s.sibling}c.tail!==null&&oe()>Ih&&(r.flags|=128,m=!0,rc(c,!1),r.lanes=4194304)}else{if(!m)if(s=fh(g),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Ah(r,s),rc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!qe)return ht(r),null}else 2*oe()-c.renderingStartTime>Ih&&o!==536870912&&(r.flags|=128,m=!0,rc(c,!1),r.lanes=4194304);c.isBackwards?(g.sibling=r.child,r.child=g):(s=c.last,s!==null?s.sibling=g:r.child=g,c.last=g)}return c.tail!==null?(s=c.tail,c.rendering=s,c.tail=s.sibling,c.renderingStartTime=oe(),s.sibling=null,o=At.current,ue(At,m?o&1|2:o&1),qe&&Ti(r,c.treeForkCount),s):(ht(r),null);case 22:case 23:return Dn(r),fm(),c=r.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),o=r.updateQueue,o!==null&&Ah(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),s!==null&&se(ba),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Si(Dt),ht(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function zN(s,r){switch(Jf(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return Si(Dt),et(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ki(r),null;case 31:if(r.memoizedState!==null){if(Dn(r),r.alternate===null)throw Error(i(340));ya()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Dn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ya()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return se(At),null;case 4:return et(),null;case 10:return Si(r.type),null;case 22:case 23:return Dn(r),fm(),s!==null&&se(ba),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return Si(Dt),null;case 25:return null;default:return null}}function Fv(s,r){switch(Jf(r),r.tag){case 3:Si(Dt),et();break;case 26:case 27:case 5:Ki(r);break;case 4:et();break;case 31:r.memoizedState!==null&&Dn(r);break;case 13:Dn(r);break;case 19:se(At);break;case 10:Si(r.type);break;case 22:case 23:Dn(r),fm(),s!==null&&se(ba);break;case 24:Si(Dt)}}function ac(s,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&s)===s){c=void 0;var g=o.create,_=o.inst;c=g(),_.destroy=c}o=o.next}while(o!==m)}}catch(C){Ze(r,r.return,C)}}function fr(s,r,o){try{var c=r.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){var _=c.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,m=r;var U=o,Q=C;try{Q()}catch(te){Ze(m,U,te)}}}c=c.next}while(c!==g)}}catch(te){Ze(r,r.return,te)}}function qv(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{Dx(r,o)}catch(c){Ze(s,s.return,c)}}}function Hv(s,r,o){o.props=Sa(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(c){Ze(s,r,c)}}function oc(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof o=="function"?s.refCleanup=o(c):o.current=c}}catch(m){Ze(s,r,m)}}function ti(s,r){var o=s.ref,c=s.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){Ze(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ze(s,r,m)}else o.current=null}function Gv(s){var r=s.type,o=s.memoizedProps,c=s.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){Ze(s,s.return,m)}}function Gm(s,r,o){try{var c=s.stateNode;cR(c,s.type,o,r),c[$t]=r}catch(m){Ze(s,s.return,m)}}function $v(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&br(s.type)||s.tag===4}function $m(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$v(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&br(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Km(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ds));else if(c!==4&&(c===27&&br(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(Km(s,r,o),s=s.sibling;s!==null;)Km(s,r,o),s=s.sibling}function Nh(s,r,o){var c=s.tag;if(c===5||c===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(c!==4&&(c===27&&br(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(Nh(s,r,o),s=s.sibling;s!==null;)Nh(s,r,o),s=s.sibling}function Kv(s){var r=s.stateNode,o=s.memoizedProps;try{for(var c=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);nn(r,c,o),r[jt]=s,r[$t]=o}catch(g){Ze(s,s.return,g)}}var ji=!1,Vt=!1,Ym=!1,Yv=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function FN(s,r){if(s=s.containerInfo,pp=Yh,s=ax(s),zf(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else e:{o=(o=s.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,C=-1,U=-1,Q=0,te=0,ie=s,X=null;t:for(;;){for(var Z;ie!==o||m!==0&&ie.nodeType!==3||(C=_+m),ie!==g||c!==0&&ie.nodeType!==3||(U=_+c),ie.nodeType===3&&(_+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)X=ie,ie=Z;for(;;){if(ie===s)break t;if(X===o&&++Q===m&&(C=_),X===g&&++te===c&&(U=_),(Z=ie.nextSibling)!==null)break;ie=X,X=ie.parentNode}ie=Z}o=C===-1||U===-1?null:{start:C,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(gp={focusedElem:s,selectionRange:o},Yh=!1,Yt=r;Yt!==null;)if(r=Yt,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Yt=s;else for(;Yt!==null;){switch(r=Yt,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)m=s[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,m=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=Sa(o.type,m);s=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=s}catch(be){Ze(o,o.return,be)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)vp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":vp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Yt=s;break}Yt=r.return}}function Wv(s,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ki(s,o),c&4&&ac(5,o);break;case 1:if(ki(s,o),c&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(_){Ze(o,o.return,_)}else{var m=Sa(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(o,o.return,_)}}c&64&&qv(o),c&512&&oc(o,o.return);break;case 3:if(ki(s,o),c&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Dx(s,r)}catch(_){Ze(o,o.return,_)}}break;case 27:r===null&&c&4&&Kv(o);case 26:case 5:ki(s,o),r===null&&c&4&&Gv(o),c&512&&oc(o,o.return);break;case 12:ki(s,o);break;case 31:ki(s,o),c&4&&Jv(s,o);break;case 13:ki(s,o),c&4&&Zv(s,o),c&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=XN.bind(null,o),yR(s,o))));break;case 22:if(c=o.memoizedState!==null||ji,!c){r=r!==null&&r.memoizedState!==null||Vt,m=ji;var g=Vt;ji=c,(Vt=r)&&!g?Di(s,o,(o.subtreeFlags&8772)!==0):ki(s,o),ji=m,Vt=g}break;case 30:break;default:ki(s,o)}}function Qv(s){var r=s.alternate;r!==null&&(s.alternate=null,Qv(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Ya(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var mt=null,wn=!1;function Ii(s,r,o){for(o=o.child;o!==null;)Xv(s,r,o),o=o.sibling}function Xv(s,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ls,o)}catch{}switch(o.tag){case 26:Vt||ti(o,r),Ii(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Vt||ti(o,r);var c=mt,m=wn;br(o.type)&&(mt=o.stateNode,wn=!1),Ii(s,r,o),gc(o.stateNode),mt=c,wn=m;break;case 5:Vt||ti(o,r);case 6:if(c=mt,m=wn,mt=null,Ii(s,r,o),mt=c,wn=m,mt!==null)if(wn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(g){Ze(o,r,g)}else try{mt.removeChild(o.stateNode)}catch(g){Ze(o,r,g)}break;case 18:mt!==null&&(wn?(s=mt,qb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),Do(s)):qb(mt,o.stateNode));break;case 4:c=mt,m=wn,mt=o.stateNode.containerInfo,wn=!0,Ii(s,r,o),mt=c,wn=m;break;case 0:case 11:case 14:case 15:fr(2,o,r),Vt||fr(4,o,r),Ii(s,r,o);break;case 1:Vt||(ti(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Hv(o,r,c)),Ii(s,r,o);break;case 21:Ii(s,r,o);break;case 22:Vt=(c=Vt)||o.memoizedState!==null,Ii(s,r,o),Vt=c;break;default:Ii(s,r,o)}}function Jv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Do(s)}catch(o){Ze(r,r.return,o)}}}function Zv(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Do(s)}catch(o){Ze(r,r.return,o)}}function qN(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new Yv),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new Yv),r;default:throw Error(i(435,s.tag))}}function Rh(s,r){var o=qN(s);r.forEach(function(c){if(!o.has(c)){o.add(c);var m=JN.bind(null,s,c);c.then(m,m)}})}function _n(s,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],g=s,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(br(C.type)){mt=C.stateNode,wn=!1;break e}break;case 5:mt=C.stateNode,wn=!1;break e;case 3:case 4:mt=C.stateNode.containerInfo,wn=!0;break e}C=C.return}if(mt===null)throw Error(i(160));Xv(g,_,m),mt=null,wn=!1,g=m.alternate,g!==null&&(g.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)eb(r,s),r=r.sibling}var xs=null;function eb(s,r){var o=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:_n(r,s),Tn(s),c&4&&(fr(3,s,s.return),ac(3,s),fr(5,s,s.return));break;case 1:_n(r,s),Tn(s),c&512&&(Vt||o===null||ti(o,o.return)),c&64&&ji&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=xs;if(_n(r,s),Tn(s),c&512&&(Vt||o===null||ti(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=s.memoizedState,o===null)if(c===null)if(s.stateNode===null){e:{c=s.type,o=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":g=m.getElementsByTagName("title")[0],(!g||g[zs]||g[jt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=m.createElement(c),m.head.insertBefore(g,m.querySelector("head > title"))),nn(g,c,o),g[jt]=s,It(g),c=g;break e;case"link":var _=ew("link","href",m).get(c+(o.href||""));if(_){for(var C=0;C<_.length;C++)if(g=_[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(C,1);break t}}g=m.createElement(c),nn(g,c,o),m.head.appendChild(g);break;case"meta":if(_=ew("meta","content",m).get(c+(o.content||""))){for(C=0;C<_.length;C++)if(g=_[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(C,1);break t}}g=m.createElement(c),nn(g,c,o),m.head.appendChild(g);break;default:throw Error(i(468,c))}g[jt]=s,It(g),c=g}s.stateNode=c}else tw(m,s.type,s.stateNode);else s.stateNode=Zb(m,c,s.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?tw(m,s.type,s.stateNode):Zb(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&Gm(s,s.memoizedProps,o.memoizedProps)}break;case 27:_n(r,s),Tn(s),c&512&&(Vt||o===null||ti(o,o.return)),o!==null&&c&4&&Gm(s,s.memoizedProps,o.memoizedProps);break;case 5:if(_n(r,s),Tn(s),c&512&&(Vt||o===null||ti(o,o.return)),s.flags&32){m=s.stateNode;try{bn(m,"")}catch(pe){Ze(s,s.return,pe)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,Gm(s,m,o!==null?o.memoizedProps:m)),c&1024&&(Ym=!0);break;case 6:if(_n(r,s),Tn(s),c&4){if(s.stateNode===null)throw Error(i(162));c=s.memoizedProps,o=s.stateNode;try{o.nodeValue=c}catch(pe){Ze(s,s.return,pe)}}break;case 3:if(Hh=null,m=xs,xs=Fh(r.containerInfo),_n(r,s),xs=m,Tn(s),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Do(r.containerInfo)}catch(pe){Ze(s,s.return,pe)}Ym&&(Ym=!1,tb(s));break;case 4:c=xs,xs=Fh(s.stateNode.containerInfo),_n(r,s),Tn(s),xs=c;break;case 12:_n(r,s),Tn(s);break;case 31:_n(r,s),Tn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Rh(s,c)));break;case 13:_n(r,s),Tn(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jh=oe()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Rh(s,c)));break;case 22:m=s.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Q=ji,te=Vt;if(ji=Q||m,Vt=te||U,_n(r,s),Vt=te,ji=Q,Tn(s),c&8192)e:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||U||ji||Vt||Aa(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){U=o=r;try{if(g=U.stateNode,m)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=U.stateNode;var ie=U.memoizedProps.style,X=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;C.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(pe){Ze(U,U.return,pe)}}}else if(r.tag===6){if(o===null){U=r;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(pe){Ze(U,U.return,pe)}}}else if(r.tag===18){if(o===null){U=r;try{var Z=U.stateNode;m?Hb(Z,!0):Hb(U.stateNode,!1)}catch(pe){Ze(U,U.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=s.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Rh(s,o))));break;case 19:_n(r,s),Tn(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Rh(s,c)));break;case 30:break;case 21:break;default:_n(r,s),Tn(s)}}function Tn(s){var r=s.flags;if(r&2){try{for(var o,c=s.return;c!==null;){if($v(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var m=o.stateNode,g=$m(s);Nh(s,g,m);break;case 5:var _=o.stateNode;o.flags&32&&(bn(_,""),o.flags&=-33);var C=$m(s);Nh(s,C,_);break;case 3:case 4:var U=o.stateNode.containerInfo,Q=$m(s);Km(s,Q,U);break;default:throw Error(i(161))}}catch(te){Ze(s,s.return,te)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function tb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;tb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function ki(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Wv(s,r.alternate,r),r=r.sibling}function Aa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:fr(4,r,r.return),Aa(r);break;case 1:ti(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Hv(r,r.return,o),Aa(r);break;case 27:gc(r.stateNode);case 26:case 5:ti(r,r.return),Aa(r);break;case 22:r.memoizedState===null&&Aa(r);break;case 30:Aa(r);break;default:Aa(r)}s=s.sibling}}function Di(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,m=s,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:Di(m,g,o),ac(4,g);break;case 1:if(Di(m,g,o),c=g,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){Ze(c,c.return,Q)}if(c=g,m=c.updateQueue,m!==null){var C=c.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)kx(U[m],C)}catch(Q){Ze(c,c.return,Q)}}o&&_&64&&qv(g),oc(g,g.return);break;case 27:Kv(g);case 26:case 5:Di(m,g,o),o&&c===null&&_&4&&Gv(g),oc(g,g.return);break;case 12:Di(m,g,o);break;case 31:Di(m,g,o),o&&_&4&&Jv(m,g);break;case 13:Di(m,g,o),o&&_&4&&Zv(m,g);break;case 22:g.memoizedState===null&&Di(m,g,o),oc(g,g.return);break;case 30:break;default:Di(m,g,o)}r=r.sibling}}function Wm(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&Kl(o))}function Qm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Kl(s))}function vs(s,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)nb(s,r,o,c),r=r.sibling}function nb(s,r,o,c){var m=r.flags;switch(r.tag){case 0:case 11:case 15:vs(s,r,o,c),m&2048&&ac(9,r);break;case 1:vs(s,r,o,c);break;case 3:vs(s,r,o,c),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Kl(s)));break;case 12:if(m&2048){vs(s,r,o,c),s=r.stateNode;try{var g=r.memoizedProps,_=g.id,C=g.onPostCommit;typeof C=="function"&&C(_,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(U){Ze(r,r.return,U)}}else vs(s,r,o,c);break;case 31:vs(s,r,o,c);break;case 13:vs(s,r,o,c);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?vs(s,r,o,c):lc(s,r):g._visibility&2?vs(s,r,o,c):(g._visibility|=2,_o(s,r,o,c,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Wm(_,r);break;case 24:vs(s,r,o,c),m&2048&&Qm(r.alternate,r);break;default:vs(s,r,o,c)}}function _o(s,r,o,c,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,_=r,C=o,U=c,Q=_.flags;switch(_.tag){case 0:case 11:case 15:_o(g,_,C,U,m),ac(8,_);break;case 23:break;case 22:var te=_.stateNode;_.memoizedState!==null?te._visibility&2?_o(g,_,C,U,m):lc(g,_):(te._visibility|=2,_o(g,_,C,U,m)),m&&Q&2048&&Wm(_.alternate,_);break;case 24:_o(g,_,C,U,m),m&&Q&2048&&Qm(_.alternate,_);break;default:_o(g,_,C,U,m)}r=r.sibling}}function lc(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,c=r,m=c.flags;switch(c.tag){case 22:lc(o,c),m&2048&&Wm(c.alternate,c);break;case 24:lc(o,c),m&2048&&Qm(c.alternate,c);break;default:lc(o,c)}r=r.sibling}}var cc=8192;function To(s,r,o){if(s.subtreeFlags&cc)for(s=s.child;s!==null;)sb(s,r,o),s=s.sibling}function sb(s,r,o){switch(s.tag){case 26:To(s,r,o),s.flags&cc&&s.memoizedState!==null&&CR(o,xs,s.memoizedState,s.memoizedProps);break;case 5:To(s,r,o);break;case 3:case 4:var c=xs;xs=Fh(s.stateNode.containerInfo),To(s,r,o),xs=c;break;case 22:s.memoizedState===null&&(c=s.alternate,c!==null&&c.memoizedState!==null?(c=cc,cc=16777216,To(s,r,o),cc=c):To(s,r,o));break;default:To(s,r,o)}}function ib(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function uc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Yt=c,ab(c,s)}ib(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rb(s),s=s.sibling}function rb(s){switch(s.tag){case 0:case 11:case 15:uc(s),s.flags&2048&&fr(9,s,s.return);break;case 3:uc(s);break;case 12:uc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Ch(s)):uc(s);break;default:uc(s)}}function Ch(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];Yt=c,ab(c,s)}ib(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:fr(8,r,r.return),Ch(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Ch(r));break;default:Ch(r)}s=s.sibling}}function ab(s,r){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:fr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Kl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yt=c;else e:for(o=s;Yt!==null;){c=Yt;var m=c.sibling,g=c.return;if(Qv(c),c===o){Yt=null;break e}if(m!==null){m.return=g,Yt=m;break e}Yt=g}}}var HN={getCacheForType:function(s){var r=en(Dt),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return en(Dt).controller.signal}},GN=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Pe=null,Oe=0,Je=0,Pn=null,mr=!1,Eo=!1,Xm=!1,Pi=0,wt=0,pr=0,Na=0,Jm=0,Mn=0,So=0,hc=null,En=null,Zm=!1,jh=0,ob=0,Ih=1/0,kh=null,gr=null,Ft=0,yr=null,Ao=null,Mi=0,ep=0,tp=null,lb=null,dc=0,np=null;function Vn(){return(Ye&2)!==0&&Oe!==0?Oe&-Oe:ee.T!==null?lp():Du()}function cb(){if(Mn===0)if((Oe&536870912)===0||qe){var s=ea;ea<<=1,(ea&3932160)===0&&(ea=262144),Mn=s}else Mn=536870912;return s=kn.current,s!==null&&(s.flags|=32),Mn}function Sn(s,r,o){(s===rt&&(Je===2||Je===9)||s.cancelPendingCommit!==null)&&(No(s,0),xr(s,Oe,Mn,!1)),ta(s,o),((Ye&2)===0||s!==rt)&&(s===rt&&((Ye&2)===0&&(Na|=o),wt===4&&xr(s,Oe,Mn,!1)),ni(s))}function ub(s,r,o){if((Ye&6)!==0)throw Error(i(327));var c=!o&&(r&127)===0&&(r&s.expiredLanes)===0||cs(s,r),m=c?YN(s,r):ip(s,r,!0),g=c;do{if(m===0){Eo&&!c&&xr(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!$N(o)){m=ip(s,r,!1),g=!1;continue}if(m===2){if(g=r,s.errorRecoveryDisabledLanes&g)var _=0;else _=s.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var C=s;m=hc;var U=C.current.memoizedState.isDehydrated;if(U&&(No(C,_).flags|=256),_=ip(C,_,!1),_!==2){if(Xm&&!U){C.errorRecoveryDisabledLanes|=g,Na|=g,m=4;break e}g=En,En=m,g!==null&&(En===null?En=g:En.push.apply(En,g))}m=_}if(g=!1,m!==2)continue}}if(m===1){No(s,0),xr(s,r,0,!0);break}e:{switch(c=s,g=m,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:xr(c,r,Mn,!mr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=jh+300-oe(),10<m)){if(xr(c,r,Mn,!mr),Ls(c,0,!0)!==0)break e;Mi=r,c.timeoutHandle=zb(hb.bind(null,c,o,En,kh,Zm,r,Mn,Na,So,mr,g,"Throttled",-0,0),m);break e}hb(c,o,En,kh,Zm,r,Mn,Na,So,mr,g,null,-0,0)}}break}while(!0);ni(s)}function hb(s,r,o,c,m,g,_,C,U,Q,te,ie,X,Z){if(s.timeoutHandle=-1,ie=r.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ds},sb(r,g,ie);var pe=(g&62914560)===g?jh-oe():(g&4194048)===g?ob-oe():0;if(pe=jR(ie,pe),pe!==null){Mi=g,s.cancelPendingCommit=pe(vb.bind(null,s,r,g,o,c,m,_,C,U,te,ie,null,X,Z)),xr(s,g,_,!Q);return}}vb(s,r,g,o,c,m,_,C,U)}function $N(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],g=m.getSnapshot;m=m.value;try{if(!jn(g(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xr(s,r,o,c){r&=~Jm,r&=~Na,s.suspendedLanes|=r,s.pingedLanes&=~r,c&&(s.warmLanes|=r),c=s.expirationTimes;for(var m=r;0<m;){var g=31-Et(m),_=1<<g;c[g]=-1,m&=~_}o!==0&&na(s,o,r)}function Dh(){return(Ye&6)===0?(fc(0),!1):!0}function sp(){if(Pe!==null){if(Je===0)var s=Pe.return;else s=Pe,Ei=xa=null,vm(s),yo=null,Wl=0,s=Pe;for(;s!==null;)Fv(s.alternate,s),s=s.return;Pe=null}}function No(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,dR(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Mi=0,sp(),rt=s,Pe=o=_i(s.current,null),Oe=r,Je=0,Pn=null,mr=!1,Eo=cs(s,r),Xm=!1,So=Mn=Jm=Na=pr=wt=0,En=hc=null,Zm=!1,(r&8)!==0&&(r|=r&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=r;0<c;){var m=31-Et(c),g=1<<m;r|=s[m],c&=~g}return Pi=r,eh(),o}function db(s,r){je=null,ee.H=sc,r===go||r===lh?(r=Rx(),Je=3):r===om?(r=Rx(),Je=4):Je=r===Mm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pn=r,Pe===null&&(wt=1,_h(s,Wn(r,s.current)))}function fb(){var s=kn.current;return s===null?!0:(Oe&4194048)===Oe?Zn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?s===Zn:!1}function mb(){var s=ee.H;return ee.H=sc,s===null?sc:s}function pb(){var s=ee.A;return ee.A=HN,s}function Ph(){wt=4,mr||(Oe&4194048)!==Oe&&kn.current!==null||(Eo=!0),(pr&134217727)===0&&(Na&134217727)===0||rt===null||xr(rt,Oe,Mn,!1)}function ip(s,r,o){var c=Ye;Ye|=2;var m=mb(),g=pb();(rt!==s||Oe!==r)&&(kh=null,No(s,r)),r=!1;var _=wt;e:do try{if(Je!==0&&Pe!==null){var C=Pe,U=Pn;switch(Je){case 8:sp(),_=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var Q=Je;if(Je=0,Pn=null,Ro(s,C,U,Q),o&&Eo){_=0;break e}break;default:Q=Je,Je=0,Pn=null,Ro(s,C,U,Q)}}KN(),_=wt;break}catch(te){db(s,te)}while(!0);return r&&s.shellSuspendCounter++,Ei=xa=null,Ye=c,ee.H=m,ee.A=g,Pe===null&&(rt=null,Oe=0,eh()),_}function KN(){for(;Pe!==null;)gb(Pe)}function YN(s,r){var o=Ye;Ye|=2;var c=mb(),m=pb();rt!==s||Oe!==r?(kh=null,Ih=oe()+500,No(s,r)):Eo=cs(s,r);e:do try{if(Je!==0&&Pe!==null){r=Pe;var g=Pn;t:switch(Je){case 1:Je=0,Pn=null,Ro(s,r,g,1);break;case 2:case 9:if(Ax(g)){Je=0,Pn=null,yb(r);break}r=function(){Je!==2&&Je!==9||rt!==s||(Je=7),ni(s)},g.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Ax(g)?(Je=0,Pn=null,yb(r)):(Je=0,Pn=null,Ro(s,r,g,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var C=Pe;if(_?nw(_):C.stateNode.complete){Je=0,Pn=null;var U=C.sibling;if(U!==null)Pe=U;else{var Q=C.return;Q!==null?(Pe=Q,Mh(Q)):Pe=null}break t}}Je=0,Pn=null,Ro(s,r,g,5);break;case 6:Je=0,Pn=null,Ro(s,r,g,6);break;case 8:sp(),wt=6;break e;default:throw Error(i(462))}}WN();break}catch(te){db(s,te)}while(!0);return Ei=xa=null,ee.H=c,ee.A=m,Ye=o,Pe!==null?0:(rt=null,Oe=0,eh(),wt)}function WN(){for(;Pe!==null&&!Ps();)gb(Pe)}function gb(s){var r=Uv(s.alternate,s,Pi);s.memoizedProps=s.pendingProps,r===null?Mh(s):Pe=r}function yb(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=Pv(o,r,r.pendingProps,r.type,void 0,Oe);break;case 11:r=Pv(o,r,r.pendingProps,r.type.render,r.ref,Oe);break;case 5:vm(r);default:Fv(o,r),r=Pe=px(r,Pi),r=Uv(o,r,Pi)}s.memoizedProps=s.pendingProps,r===null?Mh(s):Pe=r}function Ro(s,r,o,c){Ei=xa=null,vm(r),yo=null,Wl=0;var m=r.return;try{if(ON(s,m,r,o,Oe)){wt=1,_h(s,Wn(o,s.current)),Pe=null;return}}catch(g){if(m!==null)throw Pe=m,g;wt=1,_h(s,Wn(o,s.current)),Pe=null;return}r.flags&32768?(qe||c===1?s=!0:Eo||(Oe&536870912)!==0?s=!1:(mr=s=!0,(c===2||c===9||c===3||c===6)&&(c=kn.current,c!==null&&c.tag===13&&(c.flags|=16384))),xb(r,s)):Mh(r)}function Mh(s){var r=s;do{if((r.flags&32768)!==0){xb(r,mr);return}s=r.return;var o=UN(r.alternate,r,Pi);if(o!==null){Pe=o;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=s}while(r!==null);wt===0&&(wt=5)}function xb(s,r){do{var o=zN(s.alternate,s);if(o!==null){o.flags&=32767,Pe=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Pe=s;return}Pe=s=o}while(s!==null);wt=6,Pe=null}function vb(s,r,o,c,m,g,_,C,U){s.cancelPendingCommit=null;do Vh();while(Ft!==0);if((Ye&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=$f,Of(s,o,g,_,C,U),s===rt&&(Pe=rt=null,Oe=0),Ao=r,yr=s,Mi=o,ep=g,tp=m,lb=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,ZN(zt,function(){return Eb(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=ee.T,ee.T=null,m=le.p,le.p=2,_=Ye,Ye|=4;try{FN(s,r,o)}finally{Ye=_,le.p=m,ee.T=c}}Ft=1,bb(),wb(),_b()}}function bb(){if(Ft===1){Ft=0;var s=yr,r=Ao,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=ee.T,ee.T=null;var c=le.p;le.p=2;var m=Ye;Ye|=4;try{eb(r,s);var g=gp,_=ax(s.containerInfo),C=g.focusedElem,U=g.selectionRange;if(_!==C&&C&&C.ownerDocument&&rx(C.ownerDocument.documentElement,C)){if(U!==null&&zf(C)){var Q=U.start,te=U.end;if(te===void 0&&(te=Q),"selectionStart"in C)C.selectionStart=Q,C.selectionEnd=Math.min(te,C.value.length);else{var ie=C.ownerDocument||document,X=ie&&ie.defaultView||window;if(X.getSelection){var Z=X.getSelection(),pe=C.textContent.length,be=Math.min(U.start,pe),it=U.end===void 0?be:Math.min(U.end,pe);!Z.extend&&be>it&&(_=it,it=be,be=_);var K=ix(C,be),H=ix(C,it);if(K&&H&&(Z.rangeCount!==1||Z.anchorNode!==K.node||Z.anchorOffset!==K.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var W=ie.createRange();W.setStart(K.node,K.offset),Z.removeAllRanges(),be>it?(Z.addRange(W),Z.extend(H.node,H.offset)):(W.setEnd(H.node,H.offset),Z.addRange(W))}}}}for(ie=[],Z=C;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ie.length;C++){var ne=ie[C];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Yh=!!pp,gp=pp=null}finally{Ye=m,le.p=c,ee.T=o}}s.current=r,Ft=2}}function wb(){if(Ft===2){Ft=0;var s=yr,r=Ao,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=ee.T,ee.T=null;var c=le.p;le.p=2;var m=Ye;Ye|=4;try{Wv(s,r.alternate,r)}finally{Ye=m,le.p=c,ee.T=o}}Ft=3}}function _b(){if(Ft===4||Ft===3){Ft=0,Zr();var s=yr,r=Ao,o=Mi,c=lb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,Ao=yr=null,Tb(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(gr=null),xi(o),r=r.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ls,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=ee.T,m=le.p,le.p=2,ee.T=null;try{for(var g=s.onRecoverableError,_=0;_<c.length;_++){var C=c[_];g(C.value,{componentStack:C.stack})}}finally{ee.T=r,le.p=m}}(Mi&3)!==0&&Vh(),ni(s),m=s.pendingLanes,(o&261930)!==0&&(m&42)!==0?s===np?dc++:(dc=0,np=s):dc=0,fc(0)}}function Tb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Kl(r)))}function Vh(){return bb(),wb(),_b(),Eb()}function Eb(){if(Ft!==5)return!1;var s=yr,r=ep;ep=0;var o=xi(Mi),c=ee.T,m=le.p;try{le.p=32>o?32:o,ee.T=null,o=tp,tp=null;var g=yr,_=Mi;if(Ft=0,Ao=yr=null,Mi=0,(Ye&6)!==0)throw Error(i(331));var C=Ye;if(Ye|=4,rb(g.current),nb(g,g.current,_,o),Ye=C,fc(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ls,g)}catch{}return!0}finally{le.p=m,ee.T=c,Tb(s,r)}}function Sb(s,r,o){r=Wn(o,r),r=Pm(s.stateNode,r,2),s=ur(s,r,2),s!==null&&(ta(s,2),ni(s))}function Ze(s,r,o){if(s.tag===3)Sb(s,s,o);else for(;r!==null;){if(r.tag===3){Sb(r,s,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gr===null||!gr.has(c))){s=Wn(o,s),o=Av(2),c=ur(r,o,2),c!==null&&(Nv(o,c,r,s),ta(c,2),ni(c));break}}r=r.return}}function rp(s,r,o){var c=s.pingCache;if(c===null){c=s.pingCache=new GN;var m=new Set;c.set(r,m)}else m=c.get(r),m===void 0&&(m=new Set,c.set(r,m));m.has(o)||(Xm=!0,m.add(o),s=QN.bind(null,s,r,o),r.then(s,s))}function QN(s,r,o){var c=s.pingCache;c!==null&&c.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,rt===s&&(Oe&o)===o&&(wt===4||wt===3&&(Oe&62914560)===Oe&&300>oe()-jh?(Ye&2)===0&&No(s,0):Jm|=o,So===Oe&&(So=0)),ni(s)}function Ab(s,r){r===0&&(r=ku()),s=pa(s,r),s!==null&&(ta(s,r),ni(s))}function XN(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),Ab(s,o)}function JN(s,r){var o=0;switch(s.tag){case 31:case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(r),Ab(s,o)}function ZN(s,r){return ct(s,r)}var Oh=null,Co=null,ap=!1,Lh=!1,op=!1,vr=0;function ni(s){s!==Co&&s.next===null&&(Co===null?Oh=Co=s:Co=Co.next=s),Lh=!0,ap||(ap=!0,tR())}function fc(s,r){if(!op&&Lh){op=!0;do for(var o=!1,c=Oh;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var g=0;else{var _=c.suspendedLanes,C=c.pingedLanes;g=(1<<31-Et(42|s)+1)-1,g&=m&~(_&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,jb(c,g))}else g=Oe,g=Ls(c,c===rt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||cs(c,g)||(o=!0,jb(c,g));c=c.next}while(o);op=!1}}function eR(){Nb()}function Nb(){Lh=ap=!1;var s=0;vr!==0&&hR()&&(s=vr);for(var r=oe(),o=null,c=Oh;c!==null;){var m=c.next,g=Rb(c,r);g===0?(c.next=null,o===null?Oh=m:o.next=m,m===null&&(Co=o)):(o=c,(s!==0||(g&3)!==0)&&(Lh=!0)),c=m}Ft!==0&&Ft!==5||fc(s),vr!==0&&(vr=0)}function Rb(s,r){for(var o=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var _=31-Et(g),C=1<<_,U=m[_];U===-1?((C&o)===0||(C&c)!==0)&&(m[_]=Vf(C,r)):U<=r&&(s.expiredLanes|=C),g&=~C}if(r=rt,o=Oe,o=Ls(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,o===0||s===r&&(Je===2||Je===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Ds(c),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||cs(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(c!==null&&Ds(c),xi(o)){case 2:case 8:o=Ms;break;case 32:o=zt;break;case 268435456:o=Nu;break;default:o=zt}return c=Cb.bind(null,s),o=ct(o,c),s.callbackPriority=r,s.callbackNode=o,r}return c!==null&&c!==null&&Ds(c),s.callbackPriority=2,s.callbackNode=null,2}function Cb(s,r){if(Ft!==0&&Ft!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Vh()&&s.callbackNode!==o)return null;var c=Oe;return c=Ls(s,s===rt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(ub(s,c,r),Rb(s,oe()),s.callbackNode!=null&&s.callbackNode===o?Cb.bind(null,s):null)}function jb(s,r){if(Vh())return null;ub(s,r,!0)}function tR(){fR(function(){(Ye&6)!==0?ct(os,eR):Nb()})}function lp(){if(vr===0){var s=mo;s===0&&(s=Vs,Vs<<=1,(Vs&261888)===0&&(Vs=256)),vr=s}return vr}function Ib(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ja(""+s)}function kb(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function nR(s,r,o,c,m){if(r==="submit"&&o&&o.stateNode===m){var g=Ib((m[$t]||null).action),_=c.submitter;_&&(r=(r=_[$t]||null)?Ib(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var C=new Ws("action","action",null,c,m);s.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vr!==0){var U=_?kb(m,_):new FormData(m);Rm(o,{pending:!0,data:U,method:m.method,action:g},null,U)}}else typeof g=="function"&&(C.preventDefault(),U=_?kb(m,_):new FormData(m),Rm(o,{pending:!0,data:U,method:m.method,action:g},g,U))},currentTarget:m}]})}}for(var cp=0;cp<Gf.length;cp++){var up=Gf[cp],sR=up.toLowerCase(),iR=up[0].toUpperCase()+up.slice(1);ys(sR,"on"+iR)}ys(cx,"onAnimationEnd"),ys(ux,"onAnimationIteration"),ys(hx,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(bN,"onTransitionRun"),ys(wN,"onTransitionStart"),ys(_N,"onTransitionCancel"),ys(dx,"onTransitionEnd"),Gs("onMouseEnter",["mouseout","mouseover"]),Gs("onMouseLeave",["mouseout","mouseover"]),Gs("onPointerEnter",["pointerout","pointerover"]),Gs("onPointerLeave",["pointerout","pointerover"]),Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function Db(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var c=s[o],m=c.event;c=c.listeners;e:{var g=void 0;if(r)for(var _=c.length-1;0<=_;_--){var C=c[_],U=C.instance,Q=C.currentTarget;if(C=C.listener,U!==g&&m.isPropagationStopped())break e;g=C,m.currentTarget=Q;try{g(m)}catch(te){Zu(te)}m.currentTarget=null,g=U}else for(_=0;_<c.length;_++){if(C=c[_],U=C.instance,Q=C.currentTarget,C=C.listener,U!==g&&m.isPropagationStopped())break e;g=C,m.currentTarget=Q;try{g(m)}catch(te){Zu(te)}m.currentTarget=null,g=U}}}}function Me(s,r){var o=r[Ka];o===void 0&&(o=r[Ka]=new Set);var c=s+"__bubble";o.has(c)||(Pb(r,s,2,!1),o.add(c))}function hp(s,r,o){var c=0;r&&(c|=4),Pb(o,s,c,r)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function dp(s){if(!s[Bh]){s[Bh]=!0,Al.forEach(function(o){o!=="selectionchange"&&(rR.has(o)||hp(o,!1,s),hp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Bh]||(r[Bh]=!0,hp("selectionchange",!1,r))}}function Pb(s,r,o,c){switch(cw(r)){case 2:var m=DR;break;case 8:m=PR;break;default:m=Np}o=m.bind(null,r,o,s),m=void 0,!oa||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(r,o,{capture:!0,passive:m}):s.addEventListener(r,o,!0):m!==void 0?s.addEventListener(r,o,{passive:m}):s.addEventListener(r,o,!1)}function fp(s,r,o,c,m){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var C=c.stateNode.containerInfo;if(C===m)break;if(_===4)for(_=c.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===m)return;_=_.return}for(;C!==null;){if(_=Fs(C),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){c=g=_;continue e}C=C.parentNode}}c=c.return}er(function(){var Q=g,te=Gn(o),ie=[];e:{var X=fx.get(s);if(X!==void 0){var Z=Ws,pe=s;switch(s){case"keypress":if(ca(o)===0)break e;case"keydown":case"keyup":Z=Qu;break;case"focusin":pe="focus",Z=ha;break;case"focusout":pe="blur",Z=ha;break;case"beforeblur":case"afterblur":Z=ha;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case cx:case ux:case hx:Z=qu;break;case dx:Z=k;break;case"scroll":case"scrollend":Z=Ll;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=wi;break;case"toggle":case"beforetoggle":Z=Ce}var be=(r&4)!==0,it=!be&&(s==="scroll"||s==="scrollend"),K=be?X!==null?X+"Capture":null:X;be=[];for(var H=Q,W;H!==null;){var ne=H;if(W=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||W===null||K===null||(ne=fs(H,K),ne!=null&&be.push(pc(H,ne,W))),it)break;H=H.return}0<be.length&&(X=new Z(X,pe,null,o,te),ie.push({event:X,listeners:be}))}}if((r&7)===0){e:{if(X=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",X&&o!==Ml&&(pe=o.relatedTarget||o.fromElement)&&(Fs(pe)||pe[Us]))break e;if((Z||X)&&(X=te.window===te?te:(X=te.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(pe=o.relatedTarget||o.toElement,Z=Q,pe=pe?Fs(pe):null,pe!==null&&(it=l(pe),be=pe.tag,pe!==it||be!==5&&be!==27&&be!==6)&&(pe=null)):(Z=null,pe=Q),Z!==pe)){if(be=Bl,ne="onMouseLeave",K="onMouseEnter",H="mouse",(s==="pointerout"||s==="pointerover")&&(be=wi,ne="onPointerLeave",K="onPointerEnter",H="pointer"),it=Z==null?X:Rn(Z),W=pe==null?X:Rn(pe),X=new be(ne,H+"leave",Z,o,te),X.target=it,X.relatedTarget=W,ne=null,Fs(te)===Q&&(be=new be(K,H+"enter",pe,o,te),be.target=W,be.relatedTarget=it,ne=be),it=ne,Z&&pe)t:{for(be=aR,K=Z,H=pe,W=0,ne=K;ne;ne=be(ne))W++;ne=0;for(var xe=H;xe;xe=be(xe))ne++;for(;0<W-ne;)K=be(K),W--;for(;0<ne-W;)H=be(H),ne--;for(;W--;){if(K===H||H!==null&&K===H.alternate){be=K;break t}K=be(K),H=be(H)}be=null}else be=null;Z!==null&&Mb(ie,X,Z,be,!1),pe!==null&&it!==null&&Mb(ie,it,pe,be,!0)}}e:{if(X=Q?Rn(Q):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var Ge=J0;else if(Q0(X))if(Z0)Ge=yN;else{Ge=pN;var ye=mN}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Xa(Q.elementType)&&(Ge=J0):Ge=gN;if(Ge&&(Ge=Ge(s,Q))){X0(ie,Ge,o,te);break e}ye&&ye(s,X,Q),s==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&kl(X,"number",X.value)}switch(ye=Q?Rn(Q):window,s){case"focusin":(Q0(ye)||ye.contentEditable==="true")&&(ro=ye,Ff=Q,Hl=null);break;case"focusout":Hl=Ff=ro=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,ox(ie,o,te);break;case"selectionchange":if(vN)break;case"keydown":case"keyup":ox(ie,o,te)}var Ie;if(Ke)e:{switch(s){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else io?da(s,o)&&(Le="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(Js&&o.locale!=="ko"&&(io||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&io&&(Ie=Ol()):(Ys=te,Vl="value"in Ys?Ys.value:Ys.textContent,io=!0)),ye=Uh(Q,Le),0<ye.length&&(Le=new Xs(Le,s,null,o,te),ie.push({event:Le,listeners:ye}),Ie?Le.data=Ie:(Ie=so(o),Ie!==null&&(Le.data=Ie)))),(Ie=Kn?uN(s,o):hN(s,o))&&(Le=Uh(Q,"onBeforeInput"),0<Le.length&&(ye=new Xs("onBeforeInput","beforeinput",null,o,te),ie.push({event:ye,listeners:Le}),ye.data=Ie)),nR(ie,s,Q,o,te)}Db(ie,r)})}function pc(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Uh(s,r){for(var o=r+"Capture",c=[];s!==null;){var m=s,g=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||g===null||(m=fs(s,o),m!=null&&c.unshift(pc(s,m,g)),m=fs(s,r),m!=null&&c.push(pc(s,m,g))),s.tag===3)return c;s=s.return}return[]}function aR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Mb(s,r,o,c,m){for(var g=r._reactName,_=[];o!==null&&o!==c;){var C=o,U=C.alternate,Q=C.stateNode;if(C=C.tag,U!==null&&U===c)break;C!==5&&C!==26&&C!==27||Q===null||(U=Q,m?(Q=fs(o,g),Q!=null&&_.unshift(pc(o,Q,U))):m||(Q=fs(o,g),Q!=null&&_.push(pc(o,Q,U)))),o=o.return}_.length!==0&&s.push({event:r,listeners:_})}var oR=/\r\n?/g,lR=/\u0000|\uFFFD/g;function Vb(s){return(typeof s=="string"?s:""+s).replace(oR,`
`).replace(lR,"")}function Ob(s,r){return r=Vb(r),Vb(s)===r}function st(s,r,o,c,m,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||bn(s,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&bn(s,""+c);break;case"className":Cn(s,"class",c);break;case"tabIndex":Cn(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(s,o,c);break;case"style":Pl(s,c,g);break;case"data":if(r!=="object"){Cn(s,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Ja(""+c),s.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&st(s,r,"name",m.name,m,null),st(s,r,"formEncType",m.formEncType,m,null),st(s,r,"formMethod",m.formMethod,m,null),st(s,r,"formTarget",m.formTarget,m,null)):(st(s,r,"encType",m.encType,m,null),st(s,r,"method",m.method,m,null),st(s,r,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(o);break}c=Ja(""+c),s.setAttribute(o,c);break;case"onClick":c!=null&&(s.onclick=ds);break;case"onScroll":c!=null&&Me("scroll",s);break;case"onScrollEnd":c!=null&&Me("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}o=Ja(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""+c):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":c===!0?s.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(o,c):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(o,c):s.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(o):s.setAttribute(o,c);break;case"popover":Me("beforetoggle",s),Me("toggle",s),Wa(s,"popover",c);break;case"xlinkActuate":kt(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kt(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kt(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kt(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kt(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kt(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kt(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Wa(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uu.get(o)||o,Wa(s,o,c))}}function mp(s,r,o,c,m,g){switch(o){case"style":Pl(s,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof c=="string"?bn(s,c):(typeof c=="number"||typeof c=="bigint")&&bn(s,""+c);break;case"onScroll":c!=null&&Me("scroll",s);break;case"onScrollEnd":c!=null&&Me("scrollend",s);break;case"onClick":c!=null&&(s.onclick=ds);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),g=s[$t]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,m),typeof c=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,c,m);break e}o in s?s[o]=c:c===!0?s.setAttribute(o,""):Wa(s,o,c)}}}function nn(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",s),Me("load",s);var c=!1,m=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,g,_,o,null)}}m&&st(s,r,"srcSet",o.srcSet,o,null),c&&st(s,r,"src",o.src,o,null);return;case"input":Me("invalid",s);var C=g=_=m=null,U=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var te=o[c];if(te!=null)switch(c){case"name":m=te;break;case"type":_=te;break;case"checked":U=te;break;case"defaultChecked":Q=te;break;case"value":g=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,r));break;default:st(s,r,c,te,o,null)}}Ou(s,g,C,U,Q,_,m,!1);return;case"select":Me("invalid",s),c=_=g=null;for(m in o)if(o.hasOwnProperty(m)&&(C=o[m],C!=null))switch(m){case"value":g=C;break;case"defaultValue":_=C;break;case"multiple":c=C;default:st(s,r,m,C,o,null)}r=g,o=_,s.multiple=!!c,r!=null?Qi(s,!!c,r,!1):o!=null&&Qi(s,!!c,o,!0);return;case"textarea":Me("invalid",s),g=m=c=null;for(_ in o)if(o.hasOwnProperty(_)&&(C=o[_],C!=null))switch(_){case"value":c=C;break;case"defaultValue":m=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:st(s,r,_,C,o,null)}Xi(s,c,m,g);return;case"option":for(U in o)o.hasOwnProperty(U)&&(c=o[U],c!=null)&&(U==="selected"?s.selected=c&&typeof c!="function"&&typeof c!="symbol":st(s,r,U,c,o,null));return;case"dialog":Me("beforetoggle",s),Me("toggle",s),Me("cancel",s),Me("close",s);break;case"iframe":case"object":Me("load",s);break;case"video":case"audio":for(c=0;c<mc.length;c++)Me(mc[c],s);break;case"image":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"embed":case"source":case"link":Me("error",s),Me("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:st(s,r,Q,c,o,null)}return;default:if(Xa(r)){for(te in o)o.hasOwnProperty(te)&&(c=o[te],c!==void 0&&mp(s,r,te,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&st(s,r,C,c,o,null))}function cR(s,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,g=null,_=null,C=null,U=null,Q=null,te=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":U=ie;default:c.hasOwnProperty(Z)||st(s,r,Z,null,c,ie)}}for(var X in c){var Z=c[X];if(ie=o[X],c.hasOwnProperty(X)&&(Z!=null||ie!=null))switch(X){case"type":g=Z;break;case"name":m=Z;break;case"checked":Q=Z;break;case"defaultChecked":te=Z;break;case"value":_=Z;break;case"defaultValue":C=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:Z!==ie&&st(s,r,X,Z,c,ie)}}Qa(s,_,C,U,Q,te,g,m);return;case"select":Z=_=C=X=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":Z=U;default:c.hasOwnProperty(g)||st(s,r,g,null,c,U)}for(m in c)if(g=c[m],U=o[m],c.hasOwnProperty(m)&&(g!=null||U!=null))switch(m){case"value":X=g;break;case"defaultValue":C=g;break;case"multiple":_=g;default:g!==U&&st(s,r,m,g,c,U)}r=C,o=_,c=Z,X!=null?Qi(s,!!o,X,!1):!!c!=!!o&&(r!=null?Qi(s,!!o,r,!0):Qi(s,!!o,o?[]:"",!1));return;case"textarea":Z=X=null;for(C in o)if(m=o[C],o.hasOwnProperty(C)&&m!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:st(s,r,C,null,c,m)}for(_ in c)if(m=c[_],g=o[_],c.hasOwnProperty(_)&&(m!=null||g!=null))switch(_){case"value":X=m;break;case"defaultValue":Z=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==g&&st(s,r,_,m,c,g)}Lu(s,X,Z);return;case"option":for(var pe in o)X=o[pe],o.hasOwnProperty(pe)&&X!=null&&!c.hasOwnProperty(pe)&&(pe==="selected"?s.selected=!1:st(s,r,pe,null,c,X));for(U in c)X=c[U],Z=o[U],c.hasOwnProperty(U)&&X!==Z&&(X!=null||Z!=null)&&(U==="selected"?s.selected=X&&typeof X!="function"&&typeof X!="symbol":st(s,r,U,X,c,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)X=o[be],o.hasOwnProperty(be)&&X!=null&&!c.hasOwnProperty(be)&&st(s,r,be,null,c,X);for(Q in c)if(X=c[Q],Z=o[Q],c.hasOwnProperty(Q)&&X!==Z&&(X!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:st(s,r,Q,X,c,Z)}return;default:if(Xa(r)){for(var it in o)X=o[it],o.hasOwnProperty(it)&&X!==void 0&&!c.hasOwnProperty(it)&&mp(s,r,it,void 0,c,X);for(te in c)X=c[te],Z=o[te],!c.hasOwnProperty(te)||X===Z||X===void 0&&Z===void 0||mp(s,r,te,X,c,Z);return}}for(var K in o)X=o[K],o.hasOwnProperty(K)&&X!=null&&!c.hasOwnProperty(K)&&st(s,r,K,null,c,X);for(ie in c)X=c[ie],Z=o[ie],!c.hasOwnProperty(ie)||X===Z||X==null&&Z==null||st(s,r,ie,X,c,Z)}function Lb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var m=o[c],g=m.transferSize,_=m.initiatorType,C=m.duration;if(g&&C&&Lb(_)){for(_=0,C=m.responseEnd,c+=1;c<o.length;c++){var U=o[c],Q=U.startTime;if(Q>C)break;var te=U.transferSize,ie=U.initiatorType;te&&Lb(ie)&&(U=U.responseEnd,_+=te*(U<C?1:(C-Q)/(U-Q)))}if(--c,r+=8*(g+_)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var pp=null,gp=null;function zh(s){return s.nodeType===9?s:s.ownerDocument}function Bb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ub(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function yp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xp=null;function hR(){var s=window.event;return s&&s.type==="popstate"?s===xp?!1:(xp=s,!0):(xp=null,!1)}var zb=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,fR=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(s){return Fb.resolve(null).then(s).catch(mR)}:zb;function mR(s){setTimeout(function(){throw s})}function br(s){return s==="head"}function qb(s,r){var o=r,c=0;do{var m=o.nextSibling;if(s.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(c===0){s.removeChild(m),Do(r);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")gc(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,gc(o);for(var g=o.firstChild;g;){var _=g.nextSibling,C=g.nodeName;g[zs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&gc(s.ownerDocument.body);o=m}while(o);Do(r)}function Hb(s,r){var o=s;s=0;do{var c=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=c}while(o)}function vp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vp(o),Ya(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function pR(s,r,o,c){for(;s.nodeType===1;){var m=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[zs])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=es(s.nextSibling),s===null)break}return null}function gR(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=es(s.nextSibling),s===null))return null;return s}function Gb(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=es(s.nextSibling),s===null))return null;return s}function bp(s){return s.data==="$?"||s.data==="$~"}function wp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function yR(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function es(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var _p=null;function $b(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return es(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function Kb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function Yb(s,r,o){switch(r=zh(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function gc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Ya(s)}var ts=new Map,Wb=new Set;function Fh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Vi=le.d;le.d={f:xR,r:vR,D:bR,C:wR,L:_R,m:TR,X:SR,S:ER,M:AR};function xR(){var s=Vi.f(),r=Dh();return s||r}function vR(s){var r=Hn(s);r!==null&&r.tag===5&&r.type==="form"?dv(r):Vi.r(s)}var jo=typeof document>"u"?null:document;function Qb(s,r,o){var c=jo;if(c&&typeof r=="string"&&r){var m=vn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),Wb.has(m)||(Wb.add(m),s={rel:s,crossOrigin:o,href:r},c.querySelector(m)===null&&(r=c.createElement("link"),nn(r,"link",s),It(r),c.head.appendChild(r)))}}function bR(s){Vi.D(s),Qb("dns-prefetch",s,null)}function wR(s,r){Vi.C(s,r),Qb("preconnect",s,r)}function _R(s,r,o){Vi.L(s,r,o);var c=jo;if(c&&s&&r){var m='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+vn(o.imageSizes)+'"]')):m+='[href="'+vn(s)+'"]';var g=m;switch(r){case"style":g=Io(s);break;case"script":g=ko(s)}ts.has(g)||(s=b({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ts.set(g,s),c.querySelector(m)!==null||r==="style"&&c.querySelector(yc(g))||r==="script"&&c.querySelector(xc(g))||(r=c.createElement("link"),nn(r,"link",s),It(r),c.head.appendChild(r)))}}function TR(s,r){Vi.m(s,r);var o=jo;if(o&&s){var c=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+vn(c)+'"][href="'+vn(s)+'"]',g=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ko(s)}if(!ts.has(g)&&(s=b({rel:"modulepreload",href:s},r),ts.set(g,s),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(xc(g)))return}c=o.createElement("link"),nn(c,"link",s),It(c),o.head.appendChild(c)}}}function ER(s,r,o){Vi.S(s,r,o);var c=jo;if(c&&s){var m=qs(c).hoistableStyles,g=Io(s);r=r||"default";var _=m.get(g);if(!_){var C={loading:0,preload:null};if(_=c.querySelector(yc(g)))C.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ts.get(g))&&Tp(s,o);var U=_=c.createElement("link");It(U),nn(U,"link",s),U._p=new Promise(function(Q,te){U.onload=Q,U.onerror=te}),U.addEventListener("load",function(){C.loading|=1}),U.addEventListener("error",function(){C.loading|=2}),C.loading|=4,qh(_,r,c)}_={type:"stylesheet",instance:_,count:1,state:C},m.set(g,_)}}}function SR(s,r){Vi.X(s,r);var o=jo;if(o&&s){var c=qs(o).hoistableScripts,m=ko(s),g=c.get(m);g||(g=o.querySelector(xc(m)),g||(s=b({src:s,async:!0},r),(r=ts.get(m))&&Ep(s,r),g=o.createElement("script"),It(g),nn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function AR(s,r){Vi.M(s,r);var o=jo;if(o&&s){var c=qs(o).hoistableScripts,m=ko(s),g=c.get(m);g||(g=o.querySelector(xc(m)),g||(s=b({src:s,async:!0,type:"module"},r),(r=ts.get(m))&&Ep(s,r),g=o.createElement("script"),It(g),nn(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(m,g))}}function Xb(s,r,o,c){var m=(m=Re.current)?Fh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Io(o.href),o=qs(m).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=Io(o.href);var g=qs(m).hoistableStyles,_=g.get(s);if(_||(m=m.ownerDocument||m,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,_),(g=m.querySelector(yc(s)))&&!g._p&&(_.instance=g,_.state.loading=5),ts.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ts.set(s,o),g||NR(m,s,o,_.state))),r&&c===null)throw Error(i(528,""));return _}if(r&&c!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ko(o),o=qs(m).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Io(s){return'href="'+vn(s)+'"'}function yc(s){return'link[rel="stylesheet"]['+s+"]"}function Jb(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function NR(s,r,o,c){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=s.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),nn(r,"link",o),It(r),s.head.appendChild(r))}function ko(s){return'[src="'+vn(s)+'"]'}function xc(s){return"script[async]"+s}function Zb(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=s.querySelector('style[data-href~="'+vn(o.href)+'"]');if(c)return r.instance=c,It(c),c;var m=b({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),It(c),nn(c,"style",m),qh(c,o.precedence,s),r.instance=c;case"stylesheet":m=Io(o.href);var g=s.querySelector(yc(m));if(g)return r.state.loading|=4,r.instance=g,It(g),g;c=Jb(o),(m=ts.get(m))&&Tp(c,m),g=(s.ownerDocument||s).createElement("link"),It(g);var _=g;return _._p=new Promise(function(C,U){_.onload=C,_.onerror=U}),nn(g,"link",c),r.state.loading|=4,qh(g,o.precedence,s),r.instance=g;case"script":return g=ko(o.src),(m=s.querySelector(xc(g)))?(r.instance=m,It(m),m):(c=o,(m=ts.get(g))&&(c=b({},o),Ep(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),It(m),nn(m,"link",c),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,qh(c,o.precedence,s));return r.instance}function qh(s,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,g=m,_=0;_<c.length;_++){var C=c[_];if(C.dataset.precedence===r)g=C;else if(g!==m)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function Tp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Ep(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Hh=null;function ew(s,r,o){if(Hh===null){var c=new Map,m=Hh=new Map;m.set(o,c)}else m=Hh,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(s))return c;for(c.set(s,null),o=o.getElementsByTagName(s),m=0;m<o.length;m++){var g=o[m];if(!(g[zs]||g[jt]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=s+_;var C=c.get(_);C?C.push(g):c.set(_,[g])}}return c}function tw(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function RR(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(s=r.disabled,typeof r.precedence=="string"&&s==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function nw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function CR(s,r,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Io(c.href),g=r.querySelector(yc(m));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Gh.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,It(g);return}g=r.ownerDocument||r,c=Jb(c),(m=ts.get(m))&&Tp(c,m),g=g.createElement("link"),It(g);var _=g;_._p=new Promise(function(C,U){_.onload=C,_.onerror=U}),nn(g,"link",c),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Gh.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var Sp=0;function jR(s,r){return s.stylesheets&&s.count===0&&Kh(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var c=setTimeout(function(){if(s.stylesheets&&Kh(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&Sp===0&&(Sp=62500*uR());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Kh(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>Sp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Gh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var $h=null;function Kh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,$h=new Map,r.forEach(IR,s),$h=null,Gh.call(s))}function IR(s,r){if(!(r.state.loading&4)){var o=$h.get(s);if(o)var c=o.get(null);else{o=new Map,$h.set(s,o);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<m.length;g++){var _=m[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),c=_)}c&&o.set(null,c)}m=r.instance,_=m.getAttribute("data-precedence"),g=o.get(_)||c,g===c&&o.set(null,m),o.set(_,m),this.count++,c=Gh.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),g?g.parentNode.insertBefore(m,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var vc={$$typeof:M,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function kR(s,r,o,c,m,g,_,C,U){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bs(0),this.hiddenUpdates=Bs(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function sw(s,r,o,c,m,g,_,C,U,Q,te,ie){return s=new kR(s,r,o,_,U,Q,te,ie,C),r=1,g===!0&&(r|=24),g=In(3,null,null,r),s.current=g,g.stateNode=s,r=im(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},lm(g),s}function iw(s){return s?(s=lo,s):lo}function rw(s,r,o,c,m,g){m=iw(m),c.context===null?c.context=m:c.pendingContext=m,c=cr(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ur(s,c,r),o!==null&&(Sn(o,s,r),Xl(o,s,r))}function aw(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Ap(s,r){aw(s,r),(s=s.alternate)&&aw(s,r)}function ow(s){if(s.tag===13||s.tag===31){var r=pa(s,67108864);r!==null&&Sn(r,s,67108864),Ap(s,67108864)}}function lw(s){if(s.tag===13||s.tag===31){var r=Vn();r=sa(r);var o=pa(s,r);o!==null&&Sn(o,s,r),Ap(s,r)}}var Yh=!0;function DR(s,r,o,c){var m=ee.T;ee.T=null;var g=le.p;try{le.p=2,Np(s,r,o,c)}finally{le.p=g,ee.T=m}}function PR(s,r,o,c){var m=ee.T;ee.T=null;var g=le.p;try{le.p=8,Np(s,r,o,c)}finally{le.p=g,ee.T=m}}function Np(s,r,o,c){if(Yh){var m=Rp(c);if(m===null)fp(s,r,c,Wh,o),uw(s,c);else if(VR(m,s,r,o,c))c.stopPropagation();else if(uw(s,c),r&4&&-1<MR.indexOf(s)){for(;m!==null;){var g=Hn(m);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=Os(g.pendingLanes);if(_!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var U=1<<31-Et(_);C.entanglements[1]|=U,_&=~U}ni(g),(Ye&6)===0&&(Ih=oe()+500,fc(0))}}break;case 31:case 13:C=pa(g,2),C!==null&&Sn(C,g,2),Dh(),Ap(g,2)}if(g=Rp(c),g===null&&fp(s,r,c,Wh,o),g===m)break;m=g}m!==null&&c.stopPropagation()}else fp(s,r,c,null,o)}}function Rp(s){return s=Gn(s),Cp(s)}var Wh=null;function Cp(s){if(Wh=null,s=Fs(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=u(r),s!==null)return s;s=null}else if(o===31){if(s=f(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Wh=s,null}function cw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fe()){case os:return 2;case Ms:return 8;case zt:case Mf:return 32;case Nu:return 268435456;default:return 32}default:return 32}}var jp=!1,wr=null,_r=null,Tr=null,bc=new Map,wc=new Map,Er=[],MR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uw(s,r){switch(s){case"focusin":case"focusout":wr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":Tr=null;break;case"pointerover":case"pointerout":bc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(r.pointerId)}}function _c(s,r,o,c,m,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[m]},r!==null&&(r=Hn(r),r!==null&&ow(r)),s):(s.eventSystemFlags|=c,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function VR(s,r,o,c,m){switch(r){case"focusin":return wr=_c(wr,s,r,o,c,m),!0;case"dragenter":return _r=_c(_r,s,r,o,c,m),!0;case"mouseover":return Tr=_c(Tr,s,r,o,c,m),!0;case"pointerover":var g=m.pointerId;return bc.set(g,_c(bc.get(g)||null,s,r,o,c,m)),!0;case"gotpointercapture":return g=m.pointerId,wc.set(g,_c(wc.get(g)||null,s,r,o,c,m)),!0}return!1}function hw(s){var r=Fs(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=u(o),r!==null){s.blockedOn=r,us(s.priority,function(){lw(o)});return}}else if(r===31){if(r=f(o),r!==null){s.blockedOn=r,us(s.priority,function(){lw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Rp(s.nativeEvent);if(o===null){o=s.nativeEvent;var c=new o.constructor(o.type,o);Ml=c,o.target.dispatchEvent(c),Ml=null}else return r=Hn(o),r!==null&&ow(r),s.blockedOn=o,!1;r.shift()}return!0}function dw(s,r,o){Qh(s)&&o.delete(r)}function OR(){jp=!1,wr!==null&&Qh(wr)&&(wr=null),_r!==null&&Qh(_r)&&(_r=null),Tr!==null&&Qh(Tr)&&(Tr=null),bc.forEach(dw),wc.forEach(dw)}function Xh(s,r){s.blockedOn===r&&(s.blockedOn=null,jp||(jp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OR)))}var Jh=null;function fw(s){Jh!==s&&(Jh=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jh===s&&(Jh=null);for(var r=0;r<s.length;r+=3){var o=s[r],c=s[r+1],m=s[r+2];if(typeof c!="function"){if(Cp(c||o)===null)continue;break}var g=Hn(o);g!==null&&(s.splice(r,3),r-=3,Rm(g,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function Do(s){function r(U){return Xh(U,s)}wr!==null&&Xh(wr,s),_r!==null&&Xh(_r,s),Tr!==null&&Xh(Tr,s),bc.forEach(r),wc.forEach(r);for(var o=0;o<Er.length;o++){var c=Er[o];c.blockedOn===s&&(c.blockedOn=null)}for(;0<Er.length&&(o=Er[0],o.blockedOn===null);)hw(o),o.blockedOn===null&&Er.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],_=m[$t]||null;if(typeof g=="function")_||fw(o);else if(_){var C=null;if(g&&g.hasAttribute("formAction")){if(m=g,_=g[$t]||null)C=_.formAction;else if(Cp(m)!==null)continue}else C=_.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),fw(o)}}}function mw(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return m=_})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Ip(s){this._internalRoot=s}Zh.prototype.render=Ip.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,c=Vn();rw(o,c,s,r,null,null)},Zh.prototype.unmount=Ip.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;rw(s.current,2,null,s,null,null),Dh(),r[Us]=null}};function Zh(s){this._internalRoot=s}Zh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Du();s={blockedOn:null,target:s,priority:r};for(var o=0;o<Er.length&&r!==0&&r<Er[o].priority;o++);Er.splice(o,0,s),o===0&&hw(s)}};var pw=e.version;if(pw!=="19.2.4")throw Error(i(527,pw,"19.2.4"));le.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=y(r),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var LR={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ed=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ed.isDisabled&&ed.supportsFiber)try{ls=ed.inject(LR),Xt=ed}catch{}}return Ec.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,c="",m=_v,g=Tv,_=Ev;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=sw(s,1,!1,null,null,o,c,null,m,g,_,mw),s[Us]=r.current,dp(s),new Ip(r)},Ec.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var c=!1,m="",g=_v,_=Tv,C=Ev,U=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),r=sw(s,1,!0,r,o??null,c,m,U,g,_,C,mw),r.context=iw(null),o=r.current,c=Vn(),c=sa(c),m=cr(c),m.callback=null,ur(o,m,c),o=c,r.current.lanes=o,ta(r,o),ni(r),s[Us]=r.current,dp(s),new Zh(r)},Ec.version="19.2.4",Ec}var Sw;function YR(){if(Sw)return Pp.exports;Sw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pp.exports=KR(),Pp.exports}var WR=YR();const QR=NT(WR);var Aw="popstate";function XR(t={}){function e(i,a){let{pathname:l,search:u,hash:f}=i.location;return gg("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Gc(a)}return ZR(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JR(){return Math.random().toString(36).substring(2,10)}function Nw(t,e){return{usr:t.state,key:t.key,idx:e}}function gg(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ll(e):e,state:n,key:e&&e.key||i||JR()}}function Gc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ll(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function ZR(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,f="POP",p=null,y=x();y==null&&(y=0,u.replaceState({...u.state,idx:y},""));function x(){return(u.state||{idx:null}).idx}function b(){f="POP";let B=x(),F=B==null?null:B-y;y=B,p&&p({action:f,location:z.location,delta:F})}function T(B,F){f="PUSH";let $=gg(z.location,B,F);y=x()+1;let M=Nw($,y),w=z.createHref($);try{u.pushState(M,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(w)}l&&p&&p({action:f,location:z.location,delta:1})}function j(B,F){f="REPLACE";let $=gg(z.location,B,F);y=x();let M=Nw($,y),w=z.createHref($);u.replaceState(M,"",w),l&&p&&p({action:f,location:z.location,delta:0})}function D(B){return eC(B)}let z={get action(){return f},get location(){return t(a,u)},listen(B){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(Aw,b),p=B,()=>{a.removeEventListener(Aw,b),p=null}},createHref(B){return e(a,B)},createURL:D,encodeLocation(B){let F=D(B);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:j,go(B){return u.go(B)}};return z}function eC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Gc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function RT(t,e,n="/"){return tC(t,e,n,!1)}function tC(t,e,n,i){let a=typeof e=="string"?ll(e):e,l=Ui(a.pathname||"/",n);if(l==null)return null;let u=CT(t);nC(u);let f=null;for(let p=0;f==null&&p<u.length;++p){let y=fC(l);f=hC(u[p],y,i)}return f}function CT(t,e=[],n=[],i="",a=!1){let l=(u,f,p=a,y)=>{let x={relativePath:y===void 0?u.path||"":y,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};if(x.relativePath.startsWith("/")){if(!x.relativePath.startsWith(i)&&p)return;gt(x.relativePath.startsWith(i),`Absolute route path "${x.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(i.length)}let b=Bi([i,x.relativePath]),T=n.concat(x);u.children&&u.children.length>0&&(gt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),CT(u.children,e,T,b,p)),!(u.path==null&&!u.index)&&e.push({path:b,score:cC(b,u.index),routesMeta:T})};return t.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))l(u,f);else for(let p of jT(u.path))l(u,f,!0,p)}),e}function jT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=jT(i.join("/")),f=[];return f.push(...u.map(p=>p===""?l:[l,p].join("/"))),a&&f.push(...u),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function nC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var sC=/^:[\w-]+$/,iC=3,rC=2,aC=1,oC=10,lC=-2,Rw=t=>t==="*";function cC(t,e){let n=t.split("/"),i=n.length;return n.some(Rw)&&(i+=lC),e&&(i+=rC),n.filter(a=>!Rw(a)).reduce((a,l)=>a+(sC.test(l)?iC:l===""?aC:oC),i)}function uC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function hC(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,x=l==="/"?e:e.slice(l.length)||"/",b=Md({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},x),T=p.route;if(!b&&y&&n&&!i[i.length-1].route.index&&(b=Md({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Bi([l,b.pathname]),pathnameBase:yC(Bi([l,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(l=Bi([l,b.pathnameBase]))}return u}function Md(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=dC(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:i.reduce((y,{paramName:x,isOptional:b},T)=>{if(x==="*"){let D=f[T]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const j=f[T];return b&&!j?y[x]=void 0:y[x]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:u,pattern:t}}function dC(t,e=!1,n=!0){Rs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function fC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var mC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function pC(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?ll(t):t,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=Cw(n.substring(1),"/"):l=Cw(n,e)):l=e,{pathname:l,search:xC(i),hash:vC(a)}}function Cw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Lp(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function py(t){let e=gC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function gy(t,e,n,i=!1){let a;typeof t=="string"?a=ll(t):(a={...t},gt(!a.pathname||!a.pathname.includes("?"),Lp("?","pathname","search",a)),gt(!a.pathname||!a.pathname.includes("#"),Lp("#","pathname","hash",a)),gt(!a.search||!a.search.includes("#"),Lp("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let b=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),b-=1;a.pathname=T.join("/")}f=b>=0?e[b]:"/"}let p=pC(a,f),y=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||x)&&(p.pathname+="/"),p}var Bi=t=>t.join("/").replace(/\/\/+/g,"/"),yC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,bC=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function wC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function _C(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var IT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kT(t,e){let n=t;if(typeof n!="string"||!mC.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(IT)try{let l=new URL(window.location.href),u=n.startsWith("//")?new URL(l.protocol+n):new URL(n),f=Ui(u.pathname,e);u.origin===l.origin&&f!=null?n=f+u.search+u.hash:a=!0}catch{Rs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DT=["POST","PUT","PATCH","DELETE"];new Set(DT);var TC=["GET",...DT];new Set(TC);var cl=P.createContext(null);cl.displayName="DataRouter";var uf=P.createContext(null);uf.displayName="DataRouterState";var EC=P.createContext(!1),PT=P.createContext({isTransitioning:!1});PT.displayName="ViewTransition";var SC=P.createContext(new Map);SC.displayName="Fetchers";var AC=P.createContext(null);AC.displayName="Await";var Ln=P.createContext(null);Ln.displayName="Navigation";var cu=P.createContext(null);cu.displayName="Location";var js=P.createContext({outlet:null,matches:[],isDataRoute:!1});js.displayName="Route";var yy=P.createContext(null);yy.displayName="RouteError";var MT="REACT_ROUTER_ERROR",NC="REDIRECT",RC="ROUTE_ERROR_RESPONSE";function CC(t){if(t.startsWith(`${MT}:${NC}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function jC(t){if(t.startsWith(`${MT}:${RC}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new bC(e.status,e.statusText,e.data)}catch{}}function IC(t,{relative:e}={}){gt(ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Ln),{hash:a,pathname:l,search:u}=uu(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Bi([n,l])),i.createHref({pathname:f,search:u,hash:a})}function ul(){return P.useContext(cu)!=null}function pi(){return gt(ul(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(cu).location}var VT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OT(t){P.useContext(Ln).static||P.useLayoutEffect(t)}function rs(){let{isDataRoute:t}=P.useContext(js);return t?HC():kC()}function kC(){gt(ul(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(cl),{basename:e,navigator:n}=P.useContext(Ln),{matches:i}=P.useContext(js),{pathname:a}=pi(),l=JSON.stringify(py(i)),u=P.useRef(!1);return OT(()=>{u.current=!0}),P.useCallback((p,y={})=>{if(Rs(u.current,VT),!u.current)return;if(typeof p=="number"){n.go(p);return}let x=gy(p,JSON.parse(l),a,y.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Bi([e,x.pathname])),(y.replace?n.replace:n.push)(x,y.state,y)},[e,n,l,a,t])}P.createContext(null);function LT(){let{matches:t}=P.useContext(js),e=t[t.length-1];return e?e.params:{}}function uu(t,{relative:e}={}){let{matches:n}=P.useContext(js),{pathname:i}=pi(),a=JSON.stringify(py(n));return P.useMemo(()=>gy(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function DC(t,e){return BT(t,e)}function BT(t,e,n,i,a){gt(ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=P.useContext(Ln),{matches:u}=P.useContext(js),f=u[u.length-1],p=f?f.params:{},y=f?f.pathname:"/",x=f?f.pathnameBase:"/",b=f&&f.route;{let $=b&&b.path||"";zT(y,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let T=pi(),j;if(e){let $=typeof e=="string"?ll(e):e;gt(x==="/"||$.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${$.pathname}" was given in the \`location\` prop.`),j=$}else j=T;let D=j.pathname||"/",z=D;if(x!=="/"){let $=x.replace(/^\//,"").split("/");z="/"+D.replace(/^\//,"").split("/").slice($.length).join("/")}let B=RT(t,{pathname:z});Rs(b||B!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Rs(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=LC(B&&B.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Bi([x,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?x:Bi([x,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,n,i,a);return e&&F?P.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},F):F}function PC(){let t=qC(),e=wC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:l},"ErrorBoundary")," or"," ",P.createElement("code",{style:l},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:a},n):null,u)}var MC=P.createElement(PC,null),UT=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=jC(t.digest);n&&(t=n)}let e=t!==void 0?P.createElement(js.Provider,{value:this.props.routeContext},P.createElement(yy.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?P.createElement(VC,{error:t},e):e}};UT.contextType=EC;var Bp=new WeakMap;function VC({children:t,error:e}){let{basename:n}=P.useContext(Ln);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=CC(e.digest);if(i){let a=Bp.get(e);if(a)throw a;let l=kT(i.location,n);if(IT&&!Bp.get(e))if(l.isExternal||i.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:i.replace}));throw Bp.set(e,u),u}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function OC({routeContext:t,match:e,children:n}){let i=P.useContext(cl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(js.Provider,{value:t},n)}function LC(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let x=l.findIndex(b=>b.route.id&&u?.[b.route.id]!==void 0);gt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,x+1))}let f=!1,p=-1;if(n)for(let x=0;x<l.length;x++){let b=l[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=x),b.route.id){let{loaderData:T,errors:j}=n,D=b.route.loader&&!T.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||D){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let y=n&&i?(x,b)=>{i(x,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:_C(n.matches),errorInfo:b})}:void 0;return l.reduceRight((x,b,T)=>{let j,D=!1,z=null,B=null;n&&(j=u&&b.route.id?u[b.route.id]:void 0,z=b.route.errorElement||MC,f&&(p<0&&T===0?(zT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,B=null):p===T&&(D=!0,B=b.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,T+1)),$=()=>{let M;return j?M=z:D?M=B:b.route.Component?M=P.createElement(b.route.Component,null):b.route.element?M=b.route.element:M=x,P.createElement(OC,{match:b,routeContext:{outlet:x,matches:F,isDataRoute:n!=null},children:M})};return n&&(b.route.ErrorBoundary||b.route.errorElement||T===0)?P.createElement(UT,{location:n.location,revalidation:n.revalidation,component:z,error:j,children:$(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:y}):$()},null)}function xy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BC(t){let e=P.useContext(cl);return gt(e,xy(t)),e}function UC(t){let e=P.useContext(uf);return gt(e,xy(t)),e}function zC(t){let e=P.useContext(js);return gt(e,xy(t)),e}function vy(t){let e=zC(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function FC(){return vy("useRouteId")}function qC(){let t=P.useContext(yy),e=UC("useRouteError"),n=vy("useRouteError");return t!==void 0?t:e.errors?.[n]}function HC(){let{router:t}=BC("useNavigate"),e=vy("useNavigate"),n=P.useRef(!1);return OT(()=>{n.current=!0}),P.useCallback(async(a,l={})=>{Rs(n.current,VT),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var jw={};function zT(t,e,n){!e&&!jw[t]&&(jw[t]=!0,Rs(!1,n))}P.memo(GC);function GC({routes:t,future:e,state:n,onError:i}){return BT(t,void 0,n,i,e)}function $C({to:t,replace:e,state:n,relative:i}){gt(ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=P.useContext(Ln);Rs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=P.useContext(js),{pathname:u}=pi(),f=rs(),p=gy(t,py(l),u,i==="path"),y=JSON.stringify(p);return P.useEffect(()=>{f(JSON.parse(y),{replace:e,state:n,relative:i})},[f,y,i,e,n]),null}function un(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function KC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){gt(!ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=t.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[f,a,l,u]);typeof n=="string"&&(n=ll(n));let{pathname:y="/",search:x="",hash:b="",state:T=null,key:j="default"}=n,D=P.useMemo(()=>{let z=Ui(y,f);return z==null?null:{location:{pathname:z,search:x,hash:b,state:T,key:j},navigationType:i}},[f,y,x,b,T,j,i]);return Rs(D!=null,`<Router basename="${f}"> is not able to match the URL "${y}${x}${b}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:P.createElement(Ln.Provider,{value:p},P.createElement(cu.Provider,{children:e,value:D}))}function YC({children:t,location:e}){return DC(yg(t),e)}function yg(t,e=[]){let n=[];return P.Children.forEach(t,(i,a)=>{if(!P.isValidElement(i))return;let l=[...e,a];if(i.type===P.Fragment){n.push.apply(n,yg(i.props.children,l));return}gt(i.type===un,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=yg(i.props.children,l)),n.push(u)}),n}var pd="get",gd="application/x-www-form-urlencoded";function hf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function WC(t){return hf(t)&&t.tagName.toLowerCase()==="button"}function QC(t){return hf(t)&&t.tagName.toLowerCase()==="form"}function XC(t){return hf(t)&&t.tagName.toLowerCase()==="input"}function JC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZC(t,e){return t.button===0&&(!e||e==="_self")&&!JC(t)}var td=null;function ej(){if(td===null)try{new FormData(document.createElement("form"),0),td=!1}catch{td=!0}return td}var tj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Up(t){return t!=null&&!tj.has(t)?(Rs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gd}"`),null):t}function nj(t,e){let n,i,a,l,u;if(QC(t)){let f=t.getAttribute("action");i=f?Ui(f,e):null,n=t.getAttribute("method")||pd,a=Up(t.getAttribute("enctype"))||gd,l=new FormData(t)}else if(WC(t)||XC(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||f.getAttribute("action");if(i=p?Ui(p,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||pd,a=Up(t.getAttribute("formenctype"))||Up(f.getAttribute("enctype"))||gd,l=new FormData(f,t),!ej()){let{name:y,type:x,value:b}=t;if(x==="image"){let T=y?`${y}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else y&&l.append(y,b)}}else{if(hf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pd,i=null,a=gd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function by(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sj(t,e,n,i){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${i}`:a.pathname=`${a.pathname}.${i}`:a.pathname==="/"?a.pathname=`_root.${i}`:e&&Ui(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function ij(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function aj(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await ij(l,n);return u.links?u.links():[]}return[]}));return uj(i.flat(1).filter(rj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Iw(t,e,n,i,a,l){let u=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,f=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,y)=>u(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{let x=i.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(u(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function oj(t,e,{includeHydrateFallback:n}={}){return lj(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function lj(t){return[...new Set(t)]}function cj(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function uj(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(cj(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function FT(){let t=P.useContext(cl);return by(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hj(){let t=P.useContext(uf);return by(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wy=P.createContext(void 0);wy.displayName="FrameworkContext";function qT(){let t=P.useContext(wy);return by(t,"You must render this element inside a <HydratedRouter> element"),t}function dj(t,e){let n=P.useContext(wy),[i,a]=P.useState(!1),[l,u]=P.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:x,onTouchStart:b}=e,T=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let z=F=>{F.forEach($=>{u($.isIntersecting)})},B=new IntersectionObserver(z,{threshold:.5});return T.current&&B.observe(T.current),()=>{B.disconnect()}}},[t]),P.useEffect(()=>{if(i){let z=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(z)}}},[i]);let j=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,T,{}]:[l,T,{onFocus:Sc(f,j),onBlur:Sc(p,D),onMouseEnter:Sc(y,j),onMouseLeave:Sc(x,D),onTouchStart:Sc(b,j)}]:[!1,T,{}]}function Sc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function fj({page:t,...e}){let{router:n}=FT(),i=P.useMemo(()=>RT(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(pj,{page:t,matches:i,...e}):null}function mj(t){let{manifest:e,routeModules:n}=qT(),[i,a]=P.useState([]);return P.useEffect(()=>{let l=!1;return aj(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function pj({page:t,matches:e,...n}){let i=pi(),{future:a,manifest:l,routeModules:u}=qT(),{basename:f}=FT(),{loaderData:p,matches:y}=hj(),x=P.useMemo(()=>Iw(t,e,y,l,i,"data"),[t,e,y,l,i]),b=P.useMemo(()=>Iw(t,e,y,l,i,"assets"),[t,e,y,l,i]),T=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let z=new Set,B=!1;if(e.forEach($=>{let M=l.routes[$.route.id];!M||!M.hasLoader||(!x.some(w=>w.route.id===$.route.id)&&$.route.id in p&&u[$.route.id]?.shouldRevalidate||M.hasClientLoader?B=!0:z.add($.route.id))}),z.size===0)return[];let F=sj(t,f,a.unstable_trailingSlashAwareDataRequests,"data");return B&&z.size>0&&F.searchParams.set("_routes",e.filter($=>z.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[f,a.unstable_trailingSlashAwareDataRequests,p,i,l,x,e,t,u]),j=P.useMemo(()=>oj(b,l),[b,l]),D=mj(b);return P.createElement(P.Fragment,null,T.map(z=>P.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),j.map(z=>P.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),D.map(({key:z,link:B})=>P.createElement("link",{key:z,nonce:n.nonce,...B,crossOrigin:B.crossOrigin??n.crossOrigin})))}function gj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var yj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yj&&(window.__reactRouterVersion="7.13.0")}catch{}function xj({basename:t,children:e,unstable_useTransitions:n,window:i}){let a=P.useRef();a.current==null&&(a.current=XR({window:i,v5Compat:!0}));let l=a.current,[u,f]=P.useState({action:l.action,location:l.location}),p=P.useCallback(y=>{n===!1?f(y):P.startTransition(()=>f(y))},[n]);return P.useLayoutEffect(()=>l.listen(p),[l,p]),P.createElement(KC,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:n})}var HT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pt=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:f,target:p,to:y,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:T,...j},D){let{basename:z,unstable_useTransitions:B}=P.useContext(Ln),F=typeof y=="string"&&HT.test(y),$=kT(y,z);y=$.to;let M=IC(y,{relative:a}),[w,E,I]=dj(i,j),N=_j(y,{replace:u,state:f,target:p,preventScrollReset:x,relative:a,viewTransition:b,unstable_defaultShouldRevalidate:T,unstable_useTransitions:B});function A(V){e&&e(V),V.defaultPrevented||N(V)}let R=P.createElement("a",{...j,...I,href:$.absoluteURL||M,onClick:$.isExternal||l?e:A,ref:gj(D,E),target:p,"data-discover":!F&&n==="render"?"true":void 0});return w&&!F?P.createElement(P.Fragment,null,R,P.createElement(fj,{page:M})):R});pt.displayName="Link";var vj=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:f,children:p,...y},x){let b=uu(u,{relative:y.relative}),T=pi(),j=P.useContext(uf),{navigator:D,basename:z}=P.useContext(Ln),B=j!=null&&Nj(b)&&f===!0,F=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,$=T.pathname,M=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||($=$.toLowerCase(),M=M?M.toLowerCase():null,F=F.toLowerCase()),M&&z&&(M=Ui(M,z)||M);const w=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let E=$===F||!a&&$.startsWith(F)&&$.charAt(w)==="/",I=M!=null&&(M===F||!a&&M.startsWith(F)&&M.charAt(F.length)==="/"),N={isActive:E,isPending:I,isTransitioning:B},A=E?e:void 0,R;typeof i=="function"?R=i(N):R=[i,E?"active":null,I?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(N):l;return P.createElement(pt,{...y,"aria-current":A,className:R,ref:x,style:V,to:u,viewTransition:f},typeof p=="function"?p(N):p)});vj.displayName="NavLink";var bj=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=pd,action:f,onSubmit:p,relative:y,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:T,...j},D)=>{let{unstable_useTransitions:z}=P.useContext(Ln),B=Sj(),F=Aj(f,{relative:y}),$=u.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&HT.test(f),w=E=>{if(p&&p(E),E.defaultPrevented)return;E.preventDefault();let I=E.nativeEvent.submitter,N=I?.getAttribute("formmethod")||u,A=()=>B(I||E.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:a,state:l,relative:y,preventScrollReset:x,viewTransition:b,unstable_defaultShouldRevalidate:T});z&&n!==!1?P.startTransition(()=>A()):A()};return P.createElement("form",{ref:D,method:$,action:F,onSubmit:i?p:w,...j,"data-discover":!M&&t==="render"?"true":void 0})});bj.displayName="Form";function wj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GT(t){let e=P.useContext(cl);return gt(e,wj(t)),e}function _j(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let y=rs(),x=pi(),b=uu(t,{relative:l});return P.useCallback(T=>{if(ZC(T,e)){T.preventDefault();let j=n!==void 0?n:Gc(x)===Gc(b),D=()=>y(t,{replace:j,state:i,preventScrollReset:a,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:f});p?P.startTransition(()=>D()):D()}},[x,y,b,n,i,e,t,a,l,u,f,p])}var Tj=0,Ej=()=>`__${String(++Tj)}__`;function Sj(){let{router:t}=GT("useSubmit"),{basename:e}=P.useContext(Ln),n=FC(),i=t.fetch,a=t.navigate;return P.useCallback(async(l,u={})=>{let{action:f,method:p,encType:y,formData:x,body:b}=nj(l,e);if(u.navigate===!1){let T=u.fetcherKey||Ej();await i(T,n,u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:x,body:b,formMethod:u.method||p,formEncType:u.encType||y,flushSync:u.flushSync})}else await a(u.action||f,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:x,body:b,formMethod:u.method||p,formEncType:u.encType||y,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,n])}function Aj(t,{relative:e}={}){let{basename:n}=P.useContext(Ln),i=P.useContext(js);gt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...uu(t||".",{relative:e})},u=pi();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(x=>x==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let x=f.toString();l.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Bi([n,l.pathname])),Gc(l)}function Nj(t,{relative:e}={}){let n=P.useContext(PT);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=GT("useViewTransitionState"),a=uu(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ui(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ui(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Md(a.pathname,u)!=null||Md(a.pathname,l)!=null}const Rj=()=>{};var kw={};const $T=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},Cj=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],p=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},KT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,p=a+2<t.length,y=p?t[a+2]:0,x=l>>2,b=(l&3)<<4|f>>4;let T=(f&15)<<2|y>>6,j=y&63;p||(j=64,u||(T=64)),i.push(n[x],n[b],n[T],n[j])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($T(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Cj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const y=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||y==null||b==null)throw new jj;const T=l<<2|f>>4;if(i.push(T),y!==64){const j=f<<4&240|y>>2;if(i.push(j),b!==64){const D=y<<6&192|b;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ij=function(t){const e=$T(t);return KT.encodeByteArray(e,!0)},Vd=function(t){return Ij(t).replace(/\./g,"")},YT=function(t){try{return KT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Dj=()=>kj().__FIREBASE_DEFAULTS__,Pj=()=>{if(typeof process>"u"||typeof kw>"u")return;const t=kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&YT(t[1]);return e&&JSON.parse(e)},df=()=>{try{return Rj()||Dj()||Pj()||Mj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WT=t=>df()?.emulatorHosts?.[t],Vj=t=>{const e=WT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},QT=()=>df()?.config,XT=t=>df()?.[`_${t}`];class Oj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function JT(t){return(await fetch(t,{credentials:"include"})).ok}function Lj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vd(JSON.stringify(n)),Vd(JSON.stringify(u)),""].join(".")}const Mc={};function Bj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mc))Mc[e]?t.emulator.push(e):t.prod.push(e);return t}function Uj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Dw=!1;function ZT(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||Mc[t]===e||Mc[t]||Dw)return;Mc[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=Bj().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,j){T.setAttribute("width","24"),T.setAttribute("id",j),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Dw=!0,u()},T}function x(T,j){T.setAttribute("id",j),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=Uj(i),j=n("text"),D=document.getElementById(j)||document.createElement("span"),z=n("learnmore"),B=document.getElementById(z)||document.createElement("a"),F=n("preprendIcon"),$=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const M=T.element;f(M),x(B,z);const w=y();p($,F),M.append($,D,B,w),document.body.appendChild(M)}l?(D.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function Fj(){const t=df()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $j(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kj(){return!Fj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yj(){try{return typeof indexedDB=="object"}catch{return!1}}function Wj(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}const Qj="FirebaseError";class $i extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Qj,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?Xj(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new $i(a,f,i)}}function Xj(t,e){return t.replace(Jj,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const Jj=/\{\$([^}]+)}/g;function Zj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Va(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(Pw(l)&&Pw(u)){if(!Va(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Pw(t){return t!==null&&typeof t=="object"}function du(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function eI(t,e){const n=new tI(t,e);return n.subscribe.bind(n)}class tI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");nI(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=zp),a.error===void 0&&(a.error=zp),a.complete===void 0&&(a.complete=zp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zp(){}function Qt(t){return t&&t._delegate?t._delegate:t}class Oa{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ca="[DEFAULT]";class sI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Oj;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rI(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iI(t){return t===Ca?void 0:t}function rI(t){return t.instantiationMode==="EAGER"}class aI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const oI={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},lI=Be.INFO,cI={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},uI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=cI[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _y{constructor(e){this.name=e,this._logLevel=lI,this._logHandler=uI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const hI=(t,e)=>e.some(n=>t instanceof n);let Mw,Vw;function dI(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fI(){return Vw||(Vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,xg=new WeakMap,tE=new WeakMap,Fp=new WeakMap,Ty=new WeakMap;function mI(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Dr(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,t)}).catch(()=>{}),Ty.set(e,t),e}function pI(t){if(xg.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});xg.set(t,e)}let vg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gI(t){vg=t(vg)}function yI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(qp(this),e,...n);return tE.set(i,e.sort?e.sort():[e]),Dr(i)}:fI().includes(t)?function(...e){return t.apply(qp(this),e),Dr(eE.get(this))}:function(...e){return Dr(t.apply(qp(this),e))}}function xI(t){return typeof t=="function"?yI(t):(t instanceof IDBTransaction&&pI(t),hI(t,dI())?new Proxy(t,vg):t)}function Dr(t){if(t instanceof IDBRequest)return mI(t);if(Fp.has(t))return Fp.get(t);const e=xI(t);return e!==t&&(Fp.set(t,e),Ty.set(e,t)),e}const qp=t=>Ty.get(t);function vI(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=Dr(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Dr(u.result),p.oldVersion,p.newVersion,Dr(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const bI=["get","getKey","getAll","getAllKeys","count"],wI=["put","add","delete","clear"],Hp=new Map;function Ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hp.get(e))return Hp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=wI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||bI.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,a?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[n](...f),a&&p.done]))[0]};return Hp.set(e,l),l}gI(t=>({...t,get:(e,n,i)=>Ow(e,n)||t.get(e,n,i),has:(e,n)=>!!Ow(e,n)||t.has(e,n)}));class _I{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function TI(t){return t.getComponent()?.type==="VERSION"}const bg="@firebase/app",Lw="0.14.8";const zi=new _y("@firebase/app"),EI="@firebase/app-compat",SI="@firebase/analytics-compat",AI="@firebase/analytics",NI="@firebase/app-check-compat",RI="@firebase/app-check",CI="@firebase/auth",jI="@firebase/auth-compat",II="@firebase/database",kI="@firebase/data-connect",DI="@firebase/database-compat",PI="@firebase/functions",MI="@firebase/functions-compat",VI="@firebase/installations",OI="@firebase/installations-compat",LI="@firebase/messaging",BI="@firebase/messaging-compat",UI="@firebase/performance",zI="@firebase/performance-compat",FI="@firebase/remote-config",qI="@firebase/remote-config-compat",HI="@firebase/storage",GI="@firebase/storage-compat",$I="@firebase/firestore",KI="@firebase/ai",YI="@firebase/firestore-compat",WI="firebase",QI="12.9.0";const wg="[DEFAULT]",XI={[bg]:"fire-core",[EI]:"fire-core-compat",[AI]:"fire-analytics",[SI]:"fire-analytics-compat",[RI]:"fire-app-check",[NI]:"fire-app-check-compat",[CI]:"fire-auth",[jI]:"fire-auth-compat",[II]:"fire-rtdb",[kI]:"fire-data-connect",[DI]:"fire-rtdb-compat",[PI]:"fire-fn",[MI]:"fire-fn-compat",[VI]:"fire-iid",[OI]:"fire-iid-compat",[LI]:"fire-fcm",[BI]:"fire-fcm-compat",[UI]:"fire-perf",[zI]:"fire-perf-compat",[FI]:"fire-rc",[qI]:"fire-rc-compat",[HI]:"fire-gcs",[GI]:"fire-gcs-compat",[$I]:"fire-fst",[YI]:"fire-fst-compat",[KI]:"fire-vertex","fire-js":"fire-js",[WI]:"fire-js-all"};const Od=new Map,JI=new Map,_g=new Map;function Bw(t,e){try{t.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zo(t){const e=t.name;if(_g.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;_g.set(e,t);for(const n of Od.values())Bw(n,t);for(const n of JI.values())Bw(n,t);return!0}function Ey(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _s(t){return t==null?!1:t.settings!==void 0}const ZI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new hu("app","Firebase",ZI);class ek{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}const dl=QI;function nE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:wg,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw Pr.create("bad-app-name",{appName:String(a)});if(n||(n=QT()),!n)throw Pr.create("no-options");const l=Od.get(a);if(l){if(Va(n,l.options)&&Va(i,l.config))return l;throw Pr.create("duplicate-app",{appName:a})}const u=new aI(a);for(const p of _g.values())u.addComponent(p);const f=new ek(n,i,u);return Od.set(a,f),f}function sE(t=wg){const e=Od.get(t);if(!e&&t===wg&&QT())return nE();if(!e)throw Pr.create("no-app",{appName:t});return e}function Mr(t,e,n){let i=XI[t]??t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(u.join(" "));return}Zo(new Oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const tk="firebase-heartbeat-database",nk=1,$c="firebase-heartbeat-store";let Gp=null;function iE(){return Gp||(Gp=vI(tk,nk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),Gp}async function sk(t){try{const n=(await iE()).transaction($c),i=await n.objectStore($c).get(rE(t));return await n.done,i}catch(e){if(e instanceof $i)zi.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e?.message});zi.warn(n.message)}}}async function Uw(t,e){try{const i=(await iE()).transaction($c,"readwrite");await i.objectStore($c).put(e,rE(t)),await i.done}catch(n){if(n instanceof $i)zi.warn(n.message);else{const i=Pr.create("idb-set",{originalErrorMessage:n?.message});zi.warn(i.message)}}}function rE(t){return`${t.name}!${t.options.appId}`}const ik=1024,rk=30;class ak{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lk(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=zw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>rk){const a=ck(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zw(),{heartbeatsToSend:n,unsentEntries:i}=ok(this._heartbeatsCache.heartbeats),a=Vd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return zi.warn(e),""}}}function zw(){return new Date().toISOString().substring(0,10)}function ok(t,e=ik){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Fw(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Fw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class lk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yj()?Wj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Fw(t){return Vd(JSON.stringify({version:2,heartbeats:t})).length}function ck(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}function uk(t){Zo(new Oa("platform-logger",e=>new _I(e),"PRIVATE")),Zo(new Oa("heartbeat",e=>new ak(e),"PRIVATE")),Mr(bg,Lw,t),Mr(bg,Lw,"esm2020"),Mr("fire-js","")}uk("");var hk="firebase",dk="12.9.0";Mr(hk,dk,"app");function aE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fk=aE,oE=new hu("auth","Firebase",aE());const Ld=new _y("@firebase/auth");function mk(t,...e){Ld.logLevel<=Be.WARN&&Ld.warn(`Auth (${dl}): ${t}`,...e)}function yd(t,...e){Ld.logLevel<=Be.ERROR&&Ld.error(`Auth (${dl}): ${t}`,...e)}function di(t,...e){throw Ay(t,...e)}function ai(t,...e){return Ay(t,...e)}function Sy(t,e,n){const i={...fk(),[e]:n};return new hu("auth","Firebase",i).create(e,{appName:t.name})}function Vr(t){return Sy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pk(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&di(t,"argument-error"),Sy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ay(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return oE.create(t,...e)}function Te(t,e,...n){if(!t)throw Ay(e,...n)}function Oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yd(e),new Error(e)}function Fi(t,e){t||Oi(e)}function Tg(){return typeof self<"u"&&self.location?.href||""}function gk(){return qw()==="http:"||qw()==="https:"}function qw(){return typeof self<"u"&&self.location?.protocol||null}function yk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gk()||Hj()||"connection"in navigator)?navigator.onLine:!0}function xk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=zj()||Gj()}get(){return yk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ny(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wk=new fu(3e4,6e4);function Ry(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fl(t,e,n,i,a={}){return cE(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const f=du({key:t.config.apiKey,...u}).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const y={method:e,headers:p,...l};return qj()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(y.credentials="include"),lE.fetch()(await uE(t,t.config.apiHost,n,f),y)})}async function cE(t,e,n){t._canInitEmulator=!1;const i={...vk,...e};try{const a=new Tk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw nd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nd(t,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw nd(t,"email-already-in-use",u);if(p==="USER_DISABLED")throw nd(t,"user-disabled",u);const x=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Sy(t,x,y);di(t,x)}}catch(a){if(a instanceof $i)throw a;di(t,"network-request-failed",{message:String(a)})}}async function _k(t,e,n,i,a={}){const l=await fl(t,e,n,i,a);return"mfaPendingCredential"in l&&di(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function uE(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?Ny(t.config,a):`${t.config.apiScheme}://${a}`;return bk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class Tk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ai(this.auth,"network-request-failed")),wk.get())})}}function nd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ai(t,e,i);return a.customData._tokenResponse=n,a}async function Ek(t,e){return fl(t,"POST","/v1/accounts:delete",e)}async function Bd(t,e){return fl(t,"POST","/v1/accounts:lookup",e)}function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Sk(t,e=!1){const n=Qt(t),i=await n.getIdToken(e),a=Cy(i);Te(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Vc($p(a.auth_time)),issuedAtTime:Vc($p(a.iat)),expirationTime:Vc($p(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function $p(t){return Number(t)*1e3}function Cy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const a=YT(n);return a?JSON.parse(a):(yd("Failed to decode base64 JWT payload"),null)}catch(a){return yd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Hw(t){const e=Cy(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Kc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof $i&&Ak(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Ak({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Nk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Eg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ud(t){const e=t.auth,n=await t.getIdToken(),i=await Kc(t,Bd(e,{idToken:n}));Te(i?.users.length,e,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?hE(a.providerUserInfo):[],u=Ck(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!u?.length,y=f?p:!1,x={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Eg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,x)}async function Rk(t){const e=Qt(t);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ck(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function hE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jk(t,e){const n=await cE(t,{},async()=>{const i=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await uE(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(p.credentials="include"),lE.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ik(t,e){return fl(t,"POST","/v2/accounts:revokeToken",Ry(t,e))}class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=Hw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await jk(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new Go;return i&&(Te(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Te(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return Oi("not implemented")}}function Ar(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ts{constructor({uid:e,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new Nk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Eg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Kc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Sk(this,e)}reload(){return Rk(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ud(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_s(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await Kc(this,Ek(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,f=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,x=n.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:j,providerData:D,stsTokenManager:z}=n;Te(b&&z,e,"internal-error");const B=Go.fromJSON(this.name,z);Te(typeof b=="string",e,"internal-error"),Ar(i,e.name),Ar(a,e.name),Te(typeof T=="boolean",e,"internal-error"),Te(typeof j=="boolean",e,"internal-error"),Ar(l,e.name),Ar(u,e.name),Ar(f,e.name),Ar(p,e.name),Ar(y,e.name),Ar(x,e.name);const F=new Ts({uid:b,auth:e,email:a,emailVerified:T,displayName:i,isAnonymous:j,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:B,createdAt:y,lastLoginAt:x});return D&&Array.isArray(D)&&(F.providerData=D.map($=>({...$}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,n,i=!1){const a=new Go;a.updateFromServerResponse(n);const l=new Ts({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Ud(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?hE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new Go;f.updateFromIdToken(i);const p=new Ts({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Eg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,y),p}}const Gw=new Map;function Li(t){Fi(t instanceof Function,"Expected a class definition");let e=Gw.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gw.set(t,e),e)}class dE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dE.type="NONE";const $w=dE;function xd(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=xd(this.userKey,a.apiKey,l),this.fullPersistenceKey=xd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bd(this.auth,{idToken:e}).catch(()=>{});return n?Ts._fromGetAccountInfoResponse(this.auth,n,e):null}return Ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new $o(Li($w),e,i);const a=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||Li($w);const u=xd(i,e.config.apiKey,e.name);let f=null;for(const y of n)try{const x=await y._get(u);if(x){let b;if(typeof x=="string"){const T=await Bd(e,{idToken:x}).catch(()=>{});if(!T)break;b=await Ts._fromGetAccountInfoResponse(e,T,x)}else b=Ts._fromJSON(e,x);y!==l&&(f=b),l=y;break}}catch{}const p=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new $o(l,e,i):(l=p[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new $o(l,e,i))}}function Kw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xE(e))return"Blackberry";if(vE(e))return"Webos";if(mE(e))return"Safari";if((e.includes("chrome/")||pE(e))&&!e.includes("edge/"))return"Chrome";if(yE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function fE(t=mn()){return/firefox\//i.test(t)}function mE(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pE(t=mn()){return/crios\//i.test(t)}function gE(t=mn()){return/iemobile/i.test(t)}function yE(t=mn()){return/android/i.test(t)}function xE(t=mn()){return/blackberry/i.test(t)}function vE(t=mn()){return/webos/i.test(t)}function jy(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kk(t=mn()){return jy(t)&&!!window.navigator?.standalone}function Dk(){return $j()&&document.documentMode===10}function bE(t=mn()){return jy(t)||yE(t)||vE(t)||xE(t)||/windows phone/i.test(t)||gE(t)}function wE(t,e=[]){let n;switch(t){case"Browser":n=Kw(mn());break;case"Worker":n=`${Kw(mn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${dl}/${i}`}class Pk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,f)=>{try{const p=e(l);u(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Mk(t,e={}){return fl(t,"GET","/v2/passwordPolicy",Ry(t,e))}const Vk=6;class Ok{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Vk,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Lk{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yw(this),this.idTokenSubscription=new Yw(this),this.beforeStateQueue=new Pk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Li(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bd(this,{idToken:e}),i=await Ts._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(_s(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_s(this.app))return Promise.reject(Vr(this));const n=e?Qt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _s(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _s(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Mk(this),n=new Ok(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ik(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Li(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,a);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(_s(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ml(t){return Qt(t)}class Yw{constructor(e){this.auth=e,this.observer=null,this.addObserver=eI(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Iy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bk(t){Iy=t}function Uk(t){return Iy.loadJS(t)}function zk(){return Iy.gapiScript}function Fk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function qk(t,e){const n=Ey(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Va(l,e??{}))return a;di(a,"already-initialized")}return n.initialize({options:e})}function Hk(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Li);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Gk(t,e,n){const i=ml(t);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=_E(e),{host:u,port:f}=$k(e),p=f===null?"":`:${f}`,y={url:`${l}//${u}${p}/`},x=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(Va(y,i.config.emulator)&&Va(x,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=x,i.settings.appVerificationDisabledForTesting=!0,hl(u)?(JT(`${l}//${u}${p}`),ZT("Auth",!0)):Kk()}function _E(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $k(t){const e=_E(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Ww(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Ww(u)}}}function Ww(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class TE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function Ko(t,e){return _k(t,"POST","/v1/accounts:signInWithIdp",Ry(t,e))}const Yk="http://localhost";class La extends TE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new La(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new La(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ko(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ko(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ko(e,n)}buildRequest(){const e={requestUri:Yk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}class ky{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends ky{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Rr extends mu{constructor(){super("facebook.com")}static credential(e){return La._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";class ri extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return La._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ri.credential(n,i)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";class Cr extends mu{constructor(){super("github.com")}static credential(e){return La._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";class jr extends mu{constructor(){super("twitter.com")}static credential(e,n){return La._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return jr.credential(n,i)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";class el{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await Ts._fromIdTokenResponse(e,i,a),u=Qw(i);return new el({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=Qw(i);return new el({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function Qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class zd extends $i{constructor(e,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,zd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new zd(e,n,i,a)}}function EE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?zd._fromErrorAndOperation(t,l,e,i):l})}async function Wk(t,e,n=!1){const i=await Kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return el._forOperation(t,"link",i)}async function Qk(t,e,n=!1){const{auth:i}=t;if(_s(i.app))return Promise.reject(Vr(i));const a="reauthenticate";try{const l=await Kc(t,EE(i,a,e,t),n);Te(l.idToken,i,"internal-error");const u=Cy(l.idToken);Te(u,i,"internal-error");const{sub:f}=u;return Te(t.uid===f,i,"user-mismatch"),el._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&di(i,"user-mismatch"),l}}async function SE(t,e,n=!1){if(_s(t.app))return Promise.reject(Vr(t));const i="signIn",a=await EE(t,i,e),l=await el._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function Xk(t,e){return SE(ml(t),e)}function AE(t,e){return Qt(t).setPersistence(e)}function Jk(t,e,n,i){return Qt(t).onIdTokenChanged(e,n,i)}function Zk(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function NE(t,e,n,i){return Qt(t).onAuthStateChanged(e,n,i)}function eD(t){return Qt(t).signOut()}const Fd="__sak";class RE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tD=1e3,nD=10;class CE extends RE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,p)=>{this.notifyListeners(u,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);Dk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nD):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},tD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CE.type="LOCAL";const Dy=CE;class jE extends RE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jE.type="SESSION";const IE=jE;function sD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new ff(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async y=>y(n.origin,l)),p=await sD(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];function Py(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}class iD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,p)=>{const y=Py("",20);a.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(b){const T=b;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(x),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function oi(){return window}function rD(t){oi().location.href=t}function kE(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function aD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oD(){return navigator?.serviceWorker?.controller||null}function lD(){return kE()?self:null}const DE="firebaseLocalStorageDb",cD=1,qd="firebaseLocalStorage",PE="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(t,e){return t.transaction([qd],e?"readwrite":"readonly").objectStore(qd)}function uD(){const t=indexedDB.deleteDatabase(DE);return new pu(t).toPromise()}function Sg(){const t=indexedDB.open(DE,cD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(qd,{keyPath:PE})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(qd)?e(i):(i.close(),await uD(),e(await Sg()))})})}async function Xw(t,e,n){const i=mf(t,!0).put({[PE]:e,value:n});return new pu(i).toPromise()}async function hD(t,e){const n=mf(t,!1).get(e),i=await new pu(n).toPromise();return i===void 0?null:i.value}function Jw(t,e){const n=mf(t,!0).delete(e);return new pu(n).toPromise()}const dD=800,fD=3;class ME{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>fD)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(lD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aD(),!this.activeServiceWorker)return;this.sender=new iD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sg();return await Xw(e,Fd,"1"),await Jw(e,Fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>hD(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=mf(a,!1).getAll();return new pu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ME.type="LOCAL";const mD=ME;new fu(3e4,6e4);function VE(t,e){return e?Li(e):(Te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class My extends TE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pD(t){return SE(t.auth,new My(t),t.bypassAuthState)}function gD(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Qk(n,new My(t),t.bypassAuthState)}async function yD(t){const{auth:e,user:n}=t;return Te(n,e,"internal-error"),Wk(n,new My(t),t.bypassAuthState)}class OE{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pD;case"linkViaPopup":case"linkViaRedirect":return yD;case"reauthViaPopup":case"reauthViaRedirect":return gD;default:di(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xD=new fu(2e3,1e4);class Bo extends OE{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=Py();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xD.get())};e()}}Bo.currentPopupAction=null;const vD="pendingRedirect",vd=new Map;class bD extends OE{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=vd.get(this.auth._key());if(!e){try{const i=await wD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}vd.set(this.auth._key(),e)}return this.bypassAuthState||vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wD(t,e){const n=BE(e),i=LE(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}async function _D(t,e){return LE(t)._set(BE(e),"true")}function TD(t,e){vd.set(t._key(),e)}function LE(t){return Li(t._redirectPersistence)}function BE(t){return xd(vD,t.config.apiKey,t.name)}function ED(t,e,n){return SD(t,e,n)}async function SD(t,e,n){if(_s(t.app))return Promise.reject(Vr(t));const i=ml(t);pk(t,e,ky),await i._initializationPromise;const a=VE(i,n);return await _D(a,i),a._openRedirect(i,e,"signInViaRedirect")}async function AD(t,e){return await ml(t)._initializationPromise,UE(t,e,!1)}async function UE(t,e,n=!1){if(_s(t.app))return Promise.reject(Vr(t));const i=ml(t),a=VE(i,e),u=await new bD(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}const ND=600*1e3;class RD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zE(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ND&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zw(e))}saveEventToCache(e){this.cachedEventUids.add(Zw(e)),this.lastProcessedEventTime=Date.now()}}function Zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zE({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function CD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zE(t);default:return!1}}async function jD(t,e={}){return fl(t,"GET","/v1/projects",e)}const ID=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kD=/^https?/;async function DD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jD(t);for(const n of e)try{if(PD(n))return}catch{}di(t,"unauthorized-domain")}function PD(t){const e=Tg(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!kD.test(n))return!1;if(ID.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const MD=new fu(3e4,6e4);function e_(){const t=oi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VD(t){return new Promise((e,n)=>{function i(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(ai(t,"network-request-failed"))},timeout:MD.get()})}if(oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(oi().gapi?.load)i();else{const a=Fk("iframefcb");return oi()[a]=()=>{gapi.load?i():n(ai(t,"network-request-failed"))},Uk(`${zk()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bd=null,e})}let bd=null;function OD(t){return bd=bd||VD(t),bd}const LD=new fu(5e3,15e3),BD="__/auth/iframe",UD="emulator/auth/iframe",zD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qD(t){const e=t.config;Te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,UD):`https://${t.config.authDomain}/${BD}`,i={apiKey:e.apiKey,appName:t.name,v:dl},a=FD.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${du(i).slice(1)}`}async function HD(t){const e=await OD(t),n=oi().gapi;return Te(n,t,"internal-error"),e.open({where:document.body,url:qD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zD,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ai(t,"network-request-failed"),f=oi().setTimeout(()=>{l(u)},LD.get());function p(){oi().clearTimeout(f),a(i)}i.ping(p).then(p,()=>{l(u)})}))}const GD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$D=500,KD=600,YD="_blank",WD="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QD(t,e,n,i=$D,a=KD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p={...GD,width:i.toString(),height:a.toString(),top:l,left:u},y=mn().toLowerCase();n&&(f=pE(y)?YD:n),fE(y)&&(e=e||WD,p.scrollbars="yes");const x=Object.entries(p).reduce((T,[j,D])=>`${T}${j}=${D},`,"");if(kk(y)&&f!=="_self")return XD(e||"",f),new t_(null);const b=window.open(e||"",f,x);Te(b,t,"popup-blocked");try{b.focus()}catch{}return new t_(b)}function XD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}const JD="__/auth/handler",ZD="emulator/auth/handler",eP=encodeURIComponent("fac");async function n_(t,e,n,i,a,l){Te(t.config.authDomain,t,"auth-domain-config-required"),Te(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:dl,eventId:a};if(e instanceof ky){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Zj(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,b]of Object.entries({}))u[x]=b}if(e instanceof mu){const x=e.getScopes().filter(b=>b!=="");x.length>0&&(u.scopes=x.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const p=await t._getAppCheckToken(),y=p?`#${eP}=${encodeURIComponent(p)}`:"";return`${tP(t)}?${du(f).slice(1)}${y}`}function tP({config:t}){return t.emulator?Ny(t,ZD):`https://${t.authDomain}/${JD}`}const Kp="webStorageSupport";class nP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IE,this._completeRedirectFn=UE,this._overrideRedirectResult=TD}async _openPopup(e,n,i,a){Fi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await n_(e,n,i,Tg(),a);return QD(e,l,Py())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await n_(e,n,i,Tg(),a);return rD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Fi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await HD(e),i=new RD(e);return n.register("authEvent",a=>(Te(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kp,{type:Kp},a=>{const l=a?.[0]?.[Kp];l!==void 0&&n(!!l),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bE()||mE()||jy()}}const sP=nP;var s_="@firebase/auth",i_="1.12.0";class iP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aP(t){Zo(new Oa("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;Te(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(t)},y=new Lk(i,a,l,p);return Hk(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Zo(new Oa("auth-internal",e=>{const n=ml(e.getProvider("auth").getImmediate());return(i=>new iP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(s_,i_,rP(t)),Mr(s_,i_,"esm2020")}const oP=300,lP=XT("authIdTokenMaxAge")||oP;let r_=null;const cP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>lP)return;const a=n?.token;r_!==a&&(r_=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function uP(t=sE()){const e=Ey(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qk(t,{popupRedirectResolver:sP,persistence:[mD,Dy,IE]}),i=XT("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=cP(l.toString());Zk(n,u,()=>u(n.currentUser)),Jk(n,f=>u(f))}}const a=WT("auth");return a&&Gk(n,`http://${a}`),n}function hP(){return document.getElementsByTagName("head")?.[0]??document}Bk({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=ai("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",hP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aP("Browser");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Or,FE;(function(){var t;function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(V,O,G){for(var L=Array(arguments.length-2),De=2;De<arguments.length;De++)L[De-2]=arguments[De];return A.prototype[O].apply(V,L)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],O=N.g[2];let G=N.g[3],L;L=A+(G^R&(O^G))+V[0]+3614090360&4294967295,A=R+(L<<7&4294967295|L>>>25),L=G+(O^A&(R^O))+V[1]+3905402710&4294967295,G=A+(L<<12&4294967295|L>>>20),L=O+(R^G&(A^R))+V[2]+606105819&4294967295,O=G+(L<<17&4294967295|L>>>15),L=R+(A^O&(G^A))+V[3]+3250441966&4294967295,R=O+(L<<22&4294967295|L>>>10),L=A+(G^R&(O^G))+V[4]+4118548399&4294967295,A=R+(L<<7&4294967295|L>>>25),L=G+(O^A&(R^O))+V[5]+1200080426&4294967295,G=A+(L<<12&4294967295|L>>>20),L=O+(R^G&(A^R))+V[6]+2821735955&4294967295,O=G+(L<<17&4294967295|L>>>15),L=R+(A^O&(G^A))+V[7]+4249261313&4294967295,R=O+(L<<22&4294967295|L>>>10),L=A+(G^R&(O^G))+V[8]+1770035416&4294967295,A=R+(L<<7&4294967295|L>>>25),L=G+(O^A&(R^O))+V[9]+2336552879&4294967295,G=A+(L<<12&4294967295|L>>>20),L=O+(R^G&(A^R))+V[10]+4294925233&4294967295,O=G+(L<<17&4294967295|L>>>15),L=R+(A^O&(G^A))+V[11]+2304563134&4294967295,R=O+(L<<22&4294967295|L>>>10),L=A+(G^R&(O^G))+V[12]+1804603682&4294967295,A=R+(L<<7&4294967295|L>>>25),L=G+(O^A&(R^O))+V[13]+4254626195&4294967295,G=A+(L<<12&4294967295|L>>>20),L=O+(R^G&(A^R))+V[14]+2792965006&4294967295,O=G+(L<<17&4294967295|L>>>15),L=R+(A^O&(G^A))+V[15]+1236535329&4294967295,R=O+(L<<22&4294967295|L>>>10),L=A+(O^G&(R^O))+V[1]+4129170786&4294967295,A=R+(L<<5&4294967295|L>>>27),L=G+(R^O&(A^R))+V[6]+3225465664&4294967295,G=A+(L<<9&4294967295|L>>>23),L=O+(A^R&(G^A))+V[11]+643717713&4294967295,O=G+(L<<14&4294967295|L>>>18),L=R+(G^A&(O^G))+V[0]+3921069994&4294967295,R=O+(L<<20&4294967295|L>>>12),L=A+(O^G&(R^O))+V[5]+3593408605&4294967295,A=R+(L<<5&4294967295|L>>>27),L=G+(R^O&(A^R))+V[10]+38016083&4294967295,G=A+(L<<9&4294967295|L>>>23),L=O+(A^R&(G^A))+V[15]+3634488961&4294967295,O=G+(L<<14&4294967295|L>>>18),L=R+(G^A&(O^G))+V[4]+3889429448&4294967295,R=O+(L<<20&4294967295|L>>>12),L=A+(O^G&(R^O))+V[9]+568446438&4294967295,A=R+(L<<5&4294967295|L>>>27),L=G+(R^O&(A^R))+V[14]+3275163606&4294967295,G=A+(L<<9&4294967295|L>>>23),L=O+(A^R&(G^A))+V[3]+4107603335&4294967295,O=G+(L<<14&4294967295|L>>>18),L=R+(G^A&(O^G))+V[8]+1163531501&4294967295,R=O+(L<<20&4294967295|L>>>12),L=A+(O^G&(R^O))+V[13]+2850285829&4294967295,A=R+(L<<5&4294967295|L>>>27),L=G+(R^O&(A^R))+V[2]+4243563512&4294967295,G=A+(L<<9&4294967295|L>>>23),L=O+(A^R&(G^A))+V[7]+1735328473&4294967295,O=G+(L<<14&4294967295|L>>>18),L=R+(G^A&(O^G))+V[12]+2368359562&4294967295,R=O+(L<<20&4294967295|L>>>12),L=A+(R^O^G)+V[5]+4294588738&4294967295,A=R+(L<<4&4294967295|L>>>28),L=G+(A^R^O)+V[8]+2272392833&4294967295,G=A+(L<<11&4294967295|L>>>21),L=O+(G^A^R)+V[11]+1839030562&4294967295,O=G+(L<<16&4294967295|L>>>16),L=R+(O^G^A)+V[14]+4259657740&4294967295,R=O+(L<<23&4294967295|L>>>9),L=A+(R^O^G)+V[1]+2763975236&4294967295,A=R+(L<<4&4294967295|L>>>28),L=G+(A^R^O)+V[4]+1272893353&4294967295,G=A+(L<<11&4294967295|L>>>21),L=O+(G^A^R)+V[7]+4139469664&4294967295,O=G+(L<<16&4294967295|L>>>16),L=R+(O^G^A)+V[10]+3200236656&4294967295,R=O+(L<<23&4294967295|L>>>9),L=A+(R^O^G)+V[13]+681279174&4294967295,A=R+(L<<4&4294967295|L>>>28),L=G+(A^R^O)+V[0]+3936430074&4294967295,G=A+(L<<11&4294967295|L>>>21),L=O+(G^A^R)+V[3]+3572445317&4294967295,O=G+(L<<16&4294967295|L>>>16),L=R+(O^G^A)+V[6]+76029189&4294967295,R=O+(L<<23&4294967295|L>>>9),L=A+(R^O^G)+V[9]+3654602809&4294967295,A=R+(L<<4&4294967295|L>>>28),L=G+(A^R^O)+V[12]+3873151461&4294967295,G=A+(L<<11&4294967295|L>>>21),L=O+(G^A^R)+V[15]+530742520&4294967295,O=G+(L<<16&4294967295|L>>>16),L=R+(O^G^A)+V[2]+3299628645&4294967295,R=O+(L<<23&4294967295|L>>>9),L=A+(O^(R|~G))+V[0]+4096336452&4294967295,A=R+(L<<6&4294967295|L>>>26),L=G+(R^(A|~O))+V[7]+1126891415&4294967295,G=A+(L<<10&4294967295|L>>>22),L=O+(A^(G|~R))+V[14]+2878612391&4294967295,O=G+(L<<15&4294967295|L>>>17),L=R+(G^(O|~A))+V[5]+4237533241&4294967295,R=O+(L<<21&4294967295|L>>>11),L=A+(O^(R|~G))+V[12]+1700485571&4294967295,A=R+(L<<6&4294967295|L>>>26),L=G+(R^(A|~O))+V[3]+2399980690&4294967295,G=A+(L<<10&4294967295|L>>>22),L=O+(A^(G|~R))+V[10]+4293915773&4294967295,O=G+(L<<15&4294967295|L>>>17),L=R+(G^(O|~A))+V[1]+2240044497&4294967295,R=O+(L<<21&4294967295|L>>>11),L=A+(O^(R|~G))+V[8]+1873313359&4294967295,A=R+(L<<6&4294967295|L>>>26),L=G+(R^(A|~O))+V[15]+4264355552&4294967295,G=A+(L<<10&4294967295|L>>>22),L=O+(A^(G|~R))+V[6]+2734768916&4294967295,O=G+(L<<15&4294967295|L>>>17),L=R+(G^(O|~A))+V[13]+1309151649&4294967295,R=O+(L<<21&4294967295|L>>>11),L=A+(O^(R|~G))+V[4]+4149444226&4294967295,A=R+(L<<6&4294967295|L>>>26),L=G+(R^(A|~O))+V[11]+3174756917&4294967295,G=A+(L<<10&4294967295|L>>>22),L=O+(A^(G|~R))+V[2]+718787259&4294967295,O=G+(L<<15&4294967295|L>>>17),L=R+(G^(O|~A))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(L<<21&4294967295|L>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+G&4294967295}i.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,V=this.C;let O=this.h,G=0;for(;G<A;){if(O==0)for(;G<=R;)a(this,N,G),G+=this.blockSize;if(typeof N=="string"){for(;G<A;)if(V[O++]=N.charCodeAt(G++),O==this.blockSize){a(this,V),O=0;break}}else for(;G<A;)if(V[O++]=N[G++],O==this.blockSize){a(this,V),O=0;break}}this.h=O,this.o+=A},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)N[A++]=this.g[R]>>>V&255;return N};function l(N,A){var R=f;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function u(N,A){this.h=A;const R=[];let V=!0;for(let O=N.length-1;O>=0;O--){const G=N[O]|0;V&&G==A||(R[O]=G,V=!1)}this.g=R}var f={};function p(N){return-128<=N&&N<128?l(N,function(A){return new u([A|0],A<0?-1:0)}):new u([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return B(y(-N));const A=[];let R=1;for(let V=0;N>=R;V++)A[V]=N/R|0,R*=4294967296;return new u(A,0)}function x(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return B(x(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let V=b;for(let G=0;G<N.length;G+=8){var O=Math.min(8,N.length-G);const L=parseInt(N.substring(G,G+O),A);O<8?(O=y(Math.pow(A,O)),V=V.j(O).add(y(L))):(V=V.j(R),V=V.add(y(L)))}return V}var b=p(0),T=p(1),j=p(16777216);t=u.prototype,t.m=function(){if(z(this))return-B(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);N+=(V>=0?V:4294967296+V)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(z(this))return"-"+B(this).toString(N);const A=y(Math.pow(N,6));var R=this;let V="";for(;;){const O=w(R,A).g;R=F(R,O.j(A));let G=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,D(R))return G+V;for(;G.length<6;)G="0"+G;V=G+V}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function z(N){return N.h==-1}t.l=function(N){return N=F(this,N),z(N)?-1:D(N)?0:1};function B(N){const A=N.g.length,R=[];for(let V=0;V<A;V++)R[V]=~N.g[V];return new u(R,~N.h).add(T)}t.abs=function(){return z(this)?B(this):this},t.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let V=0;for(let O=0;O<=A;O++){let G=V+(this.i(O)&65535)+(N.i(O)&65535),L=(G>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=L>>>16,G&=65535,L&=65535,R[O]=L<<16|G}return new u(R,R[R.length-1]&-2147483648?-1:0)};function F(N,A){return N.add(B(A))}t.j=function(N){if(D(this)||D(N))return b;if(z(this))return z(N)?B(this).j(B(N)):B(B(this).j(N));if(z(N))return B(this.j(B(N)));if(this.l(j)<0&&N.l(j)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const G=this.i(V)>>>16,L=this.i(V)&65535,De=N.i(O)>>>16,We=N.i(O)&65535;R[2*V+2*O]+=L*We,$(R,2*V+2*O),R[2*V+2*O+1]+=G*We,$(R,2*V+2*O+1),R[2*V+2*O+1]+=L*De,$(R,2*V+2*O+1),R[2*V+2*O+2]+=G*De,$(R,2*V+2*O+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new u(R,0)};function $(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function M(N,A){this.g=N,this.h=A}function w(N,A){if(D(A))throw Error("division by zero");if(D(N))return new M(b,b);if(z(N))return A=w(B(N),A),new M(B(A.g),B(A.h));if(z(A))return A=w(N,B(A)),new M(B(A.g),A.h);if(N.g.length>30){if(z(N)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,V=A;V.l(N)<=0;)R=E(R),V=E(V);var O=I(R,1),G=I(V,1);for(V=I(V,2),R=I(R,2);!D(V);){var L=G.add(V);L.l(N)<=0&&(O=O.add(R),G=L),V=I(V,1),R=I(R,1)}return A=F(N,O.j(A)),new M(O,A)}for(O=b;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),G=y(R),L=G.j(A);z(L)||L.l(N)>0;)R-=V,G=y(R),L=G.j(A);D(G)&&(G=T),O=O.add(G),N=F(N,L)}return new M(O,N)}t.B=function(N){return w(this,N).h},t.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&N.i(V);return new u(R,this.h&N.h)},t.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|N.i(V);return new u(R,this.h|N.h)},t.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^N.i(V);return new u(R,this.h^N.h)};function E(N){const A=N.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=N.i(V)<<1|N.i(V-1)>>>31;return new u(R,N.h)}function I(N,A){const R=A>>5;A%=32;const V=N.g.length-R,O=[];for(let G=0;G<V;G++)O[G]=A>0?N.i(G+R)>>>A|N.i(G+R+1)<<32-A:N.i(G+R);return new u(O,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,FE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=x,Or=u}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qE,jc,HE,wd,Ag,GE,$E,KE;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof sd=="object"&&sd];for(var v=0;v<d.length;++v){var S=d[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var i=n(this);function a(d,v){if(v)e:{var S=i;d=d.split(".");for(var k=0;k<d.length-1;k++){var Y=d[k];if(!(Y in S))break e;S=S[Y]}d=d[d.length-1],k=S[d],v=v(k),v!=k&&v!=null&&e(S,d,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(v){var S=[],k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&S.push([k,v[k]]);return S}});var l=l||{},u=this||self;function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function p(d,v,S){return d.call.apply(d.bind,arguments)}function y(d,v,S){return y=p,y.apply(null,arguments)}function x(d,v){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function b(d,v){function S(){}S.prototype=v.prototype,d.Z=v.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(k,Y,J){for(var ce=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ce[Ce-2]=arguments[Ce];return v.prototype[Y].apply(k,ce)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function j(d){const v=d.length;if(v>0){const S=Array(v);for(let k=0;k<v;k++)S[k]=d[k];return S}return[]}function D(d,v){for(let k=1;k<arguments.length;k++){const Y=arguments[k];var S=typeof Y;if(S=S!="object"?S:Y?Array.isArray(Y)?"array":S:"null",S=="array"||S=="object"&&typeof Y.length=="number"){S=d.length||0;const J=Y.length||0;d.length=S+J;for(let ce=0;ce<J;ce++)d[S+ce]=Y[ce]}else d.push(Y)}}class z{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function B(d){u.setTimeout(()=>{throw d},0)}function F(){var d=N;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ${constructor(){this.h=this.g=null}add(v,S){const k=M.get();k.set(v,S),this.h?this.h.next=k:this.g=k,this.h=k}}var M=new z(()=>new w,d=>d.reset());class w{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let E,I=!1,N=new $,A=()=>{const d=Promise.resolve(void 0);E=()=>{d.then(R)}};function R(){for(var d;d=F();){try{d.h.call(d.g)}catch(S){B(S)}var v=M;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}I=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var G=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return d})();function L(d){return/^[\s\xa0]*$/.test(d)}function De(d,v){O.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}b(De,O),De.prototype.init=function(d,v){const S=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(S=="mouseover"?v=d.fromElement:S=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var We="closure_listenable_"+(Math.random()*1e6|0),ee=0;function le(d,v,S,k,Y){this.listener=d,this.proxy=null,this.src=v,this.type=S,this.capture=!!k,this.ha=Y,this.key=++ee,this.da=this.fa=!1}function fe(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ne(d,v,S){for(const k in d)v.call(S,d[k],k,d)}function ke(d,v){for(const S in d)v.call(void 0,d[S],S,d)}function q(d){const v={};for(const S in d)v[S]=d[S];return v}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(d,v){let S,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(S in k)d[S]=k[S];for(let J=0;J<se.length;J++)S=se[J],Object.prototype.hasOwnProperty.call(k,S)&&(d[S]=k[S])}}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,v,S,k,Y){const J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);const ce=Re(d,v,k,Y);return ce>-1?(v=d[ce],S||(v.fa=!1)):(v=new le(v,this.src,J,!!k,Y),v.fa=S,d.push(v)),v};function _e(d,v){const S=v.type;if(S in d.g){var k=d.g[S],Y=Array.prototype.indexOf.call(k,v,void 0),J;(J=Y>=0)&&Array.prototype.splice.call(k,Y,1),J&&(fe(v),d.g[S].length==0&&(delete d.g[S],d.h--))}}function Re(d,v,S,k){for(let Y=0;Y<d.length;++Y){const J=d[Y];if(!J.da&&J.listener==v&&J.capture==!!S&&J.ha==k)return Y}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),vt={};function et(d,v,S,k,Y){if(Array.isArray(v)){for(let J=0;J<v.length;J++)et(d,v[J],S,k,Y);return null}return S=yi(S),d&&d[We]?d.J(v,S,f(k)?!!k.capture:!1,Y):gi(d,v,S,!1,k,Y)}function gi(d,v,S,k,Y,J){if(!v)throw Error("Invalid event type");const ce=f(Y)?!!Y.capture:!!Y;let Ce=Is(d);if(Ce||(d[Ve]=Ce=new he(d)),S=Ce.add(v,S,k,ce,J),S.proxy)return S;if(k=Ki(),S.proxy=k,k.src=d,k.listener=S,d.addEventListener)G||(Y=ce),Y===void 0&&(Y=!1),d.addEventListener(v.toString(),k,Y);else if(d.attachEvent)d.attachEvent(Fn(v.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ki(){function d(S){return v.call(d.src,d.listener,S)}const v=Jr;return d}function zn(d,v,S,k,Y){if(Array.isArray(v))for(var J=0;J<v.length;J++)zn(d,v[J],S,k,Y);else k=f(k)?!!k.capture:!!k,S=yi(S),d&&d[We]?(d=d.i,J=String(v).toString(),J in d.g&&(v=d.g[J],S=Re(v,S,k,Y),S>-1&&(fe(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete d.g[J],d.h--)))):d&&(d=Is(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Re(v,S,k,Y)),(S=d>-1?v[d]:null)&&Yi(S))}function Yi(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[We])_e(v.i,d);else{var S=d.type,k=d.proxy;v.removeEventListener?v.removeEventListener(S,k,d.capture):v.detachEvent?v.detachEvent(Fn(S),k):v.addListener&&v.removeListener&&v.removeListener(k),(S=Is(v))?(_e(S,d),S.h==0&&(S.src=null,v[Ve]=null)):fe(d)}}}function Fn(d){return d in vt?vt[d]:vt[d]="on"+d}function Jr(d,v){if(d.da)d=!0;else{v=new De(v,this);const S=d.listener,k=d.ha||d.src;d.fa&&Yi(d),d=S.call(k,v)}return d}function Is(d){return d=d[Ve],d instanceof he?d:null}var ks="__closure_events_fn_"+(Math.random()*1e9>>>0);function yi(d){return typeof d=="function"?d:(d[ks]||(d[ks]=function(v){return d.handleEvent(v)}),d[ks])}function at(){V.call(this),this.i=new he(this),this.M=this,this.G=null}b(at,V),at.prototype[We]=!0,at.prototype.removeEventListener=function(d,v,S,k){zn(this,d,v,S,k)};function ct(d,v){var S,k=d.G;if(k)for(S=[];k;k=k.G)S.push(k);if(d=d.M,k=v.type||v,typeof v=="string")v=new O(v,d);else if(v instanceof O)v.target=v.target||d;else{var Y=v;v=new O(k,d),ue(v,Y)}Y=!0;let J,ce;if(S)for(ce=S.length-1;ce>=0;ce--)J=v.g=S[ce],Y=Ds(J,k,!0,v)&&Y;if(J=v.g=d,Y=Ds(J,k,!0,v)&&Y,Y=Ds(J,k,!1,v)&&Y,S)for(ce=0;ce<S.length;ce++)J=v.g=S[ce],Y=Ds(J,k,!1,v)&&Y}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const S=d.g[v];for(let k=0;k<S.length;k++)fe(S[k]);delete d.g[v],d.h--}}this.G=null},at.prototype.J=function(d,v,S,k){return this.i.add(String(d),v,!1,S,k)},at.prototype.K=function(d,v,S,k){return this.i.add(String(d),v,!0,S,k)};function Ds(d,v,S,k){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let Y=!0;for(let J=0;J<v.length;++J){const ce=v[J];if(ce&&!ce.da&&ce.capture==S){const Ce=ce.listener,St=ce.ha||ce.src;ce.fa&&_e(d.i,ce),Y=Ce.call(St,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function Ps(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function Zr(d){d.g=Ps(()=>{d.g=null,d.i&&(d.i=!1,Zr(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class oe extends V{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fe(d){V.call(this),this.h=d,this.g={}}b(Fe,V);var os=[];function Ms(d){Ne(d.g,function(v,S){this.g.hasOwnProperty(S)&&Yi(v)},d),d.g={}}Fe.prototype.N=function(){Fe.Z.N.call(this),Ms(this)},Fe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zt=u.JSON.stringify,Mf=u.JSON.parse,Nu=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Ru(){}function Cu(){}var ls={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){O.call(this,"d")}b(Xt,O);function qn(){O.call(this,"c")}b(qn,O);var Et={},ju=null;function $a(){return ju=ju||new at}Et.Ia="serverreachability";function Iu(d){O.call(this,Et.Ia,d)}b(Iu,O);function Vs(d){const v=$a();ct(v,new Iu(v))}Et.STAT_EVENT="statevent";function ea(d,v){O.call(this,Et.STAT_EVENT,d),this.stat=v}b(ea,O);function Ct(d){const v=$a();ct(v,new ea(v,d))}Et.Ja="timingevent";function Os(d,v){O.call(this,Et.Ja,d),this.size=v}b(Os,O);function Ls(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function cs(){this.g=!0}cs.prototype.ua=function(){this.g=!1};function Vf(d,v,S,k,Y,J){d.info(function(){if(d.g)if(J){var ce="",Ce=J.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var St=Ce[Ke].split("=");if(St.length>1){const ft=St[0];St=St[1];const Kn=ft.split("_");ce=Kn.length>=2&&Kn[1]=="type"?ce+(ft+"="+St+"&"):ce+(ft+"=redacted&")}}}else ce=null;else ce=J;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+v+`
`+S+`
`+ce})}function ku(d,v,S,k,Y,J,ce){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+v+`
`+S+`
`+J+" "+ce})}function Bs(d,v,S,k){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Of(d,S)+(k?" "+k:"")})}function ta(d,v){d.info(function(){return"TIMEOUT: "+v})}cs.prototype.info=function(){};function Of(d,v){if(!d.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(d=0;d<J.length;d++)if(Array.isArray(J[d])){var S=J[d];if(!(S.length<2)){var k=S[1];if(Array.isArray(k)&&!(k.length<1)){var Y=k[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ce=1;ce<k.length;ce++)k[ce]=""}}}}return zt(J)}catch{return v}}var na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Sl;function sa(){}b(sa,Ru),sa.prototype.g=function(){return new XMLHttpRequest},Sl=new sa;function xi(d){return encodeURIComponent(String(d))}function Du(d){var v=1;d=d.split(":");const S=[];for(;v>0&&d.length;)S.push(d.shift()),v--;return d.length&&S.push(d.join(":")),S}function us(d,v,S,k){this.j=d,this.i=v,this.l=S,this.S=k||1,this.V=new Fe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hs}function hs(){this.i=null,this.g="",this.h=!1}var jt={},$t={};function Us(d,v,S){d.M=1,d.A=ia(kt(v)),d.u=S,d.R=!0,Ka(d,null)}function Ka(d,v){d.F=Date.now(),zs(d),d.B=kt(d.A);var S=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),Xa(S.i,"t",k),d.C=0,S=d.j.L,d.h=new hs,d.g=Yu(d.j,S?v:null,!d.u),d.P>0&&(d.O=new oe(y(d.Y,d,d.g),d.P)),v=d.V,S=d.g,k=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(os[0]=Y.toString()),Y=os);for(let J=0;J<Y.length;J++){const ce=et(S,Y[J],k||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=d.J?q(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Vs(),Vf(d.i,d.v,d.B,d.l,d.S,d.u)}us.prototype.ba=function(d){d=d.target;const v=this.O;v&&ms(d)==3?v.j():this.Y(d)},us.prototype.Y=function(d){try{if(d==this.g)e:{const Ce=ms(this.g),St=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ce!=4||St==7||(St==8||Ke<=0?Vs(3):Vs(2)),Fs(this);var v=this.g.ca();this.X=v;var S=Lf(this);if(this.o=v==200,ku(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(k)){var J=k;break t}}J=null}if(d=J)Bs(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qs(this,d);else{this.o=!1,this.m=3,Ct(12),Rn(this),Hn(this);break e}}if(this.R){d=!0;let ft;for(;!this.K&&this.C<S.length;)if(ft=Mu(this,S),ft==$t){Ce==4&&(this.m=4,Ct(14),d=!1),Bs(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==jt){this.m=4,Ct(15),Bs(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else Bs(this.i,this.l,ft,null),qs(this,ft);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||S.length!=0||this.h.h||(this.m=1,Ct(16),d=!1),this.o=this.o&&d,!d)Bs(this.i,this.l,S,"[Invalid Chunked Response]"),Rn(this),Hn(this);else if(S.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Ul(ce),ce.P=!0,Ct(11))}}else Bs(this.i,this.l,S,null),qs(this,S);Ce==4&&Rn(this),this.o&&!this.K&&(Ce==4?Hu(this.j,this):(this.o=!1,zs(this)))}else bi(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),Rn(this),Hn(this)}}}catch{}};function Lf(d){if(!Pu(d))return d.g.la();const v=Jt(d.g);if(v==="")return"";let S="";const k=v.length,Y=ms(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Rn(d),Hn(d),"";d.h.i=new u.TextDecoder}for(let J=0;J<k;J++)d.h.h=!0,S+=d.h.i.decode(v[J],{stream:!(Y&&J==k-1)});return v.length=0,d.h.g+=S,d.C=0,d.h.g}function Pu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Mu(d,v){var S=d.C,k=v.indexOf(`
`,S);return k==-1?$t:(S=Number(v.substring(S,k)),isNaN(S)?jt:(k+=1,k+S>v.length?$t:(v=v.slice(k,k+S),d.C=k+S,v)))}us.prototype.cancel=function(){this.K=!0,Rn(this)};function zs(d){d.T=Date.now()+d.H,Ya(d,d.H)}function Ya(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ls(y(d.aa,d),v)}function Fs(d){d.D&&(u.clearTimeout(d.D),d.D=null)}us.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ta(this.i,this.B),this.M!=2&&(Vs(),Ct(17)),Rn(this),this.m=2,Hn(this)):Ya(this,this.T-d)};function Hn(d){d.j.I==0||d.K||Hu(d.j,d)}function Rn(d){Fs(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,Ms(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function qs(d,v){try{var S=d.j;if(S.I!=0&&(S.g==d||Gs(S.h,d))){if(!d.L&&Gs(S.h,d)&&S.I==3){try{var k=S.Ba.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)no(S),nr(S);else break e;ha(S),Ct(18)}}else S.xa=Y[1],0<S.xa-S.K&&Y[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=Ls(y(S.Va,S),6e3));Hs(S.h)<=1&&S.ta&&(S.ta=void 0)}else Xs(S,11)}else if((d.L||S.g==d)&&no(S),!L(v))for(Y=S.Ba.g.parse(v),v=0;v<Y.length;v++){let Ke=Y[v];const ft=Ke[0];if(!(ft<=S.K))if(S.K=ft,Ke=Ke[1],S.I==2)if(Ke[0]=="c"){S.M=Ke[1],S.ba=Ke[2];const Kn=Ke[3];Kn!=null&&(S.ka=Kn,S.j.info("VER="+S.ka));const Js=Ke[4];Js!=null&&(S.za=Js,S.j.info("SVER="+S.za));const ps=Ke[5];ps!=null&&typeof ps=="number"&&ps>0&&(k=1.5*ps,S.O=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const gs=d.g;if(gs){const da=gs.g?gs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var J=k.h;J.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Rl(J,J.h),J.h=null))}if(k.G){const so=gs.g?gs.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(k.wa=so,Xe(k.J,k.G,so))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),k=S;var ce=d;if(k.na=Ku(k,k.L?k.ba:null,k.W),ce.L){Cl(k.h,ce);var Ce=ce,St=k.O;St&&(Ce.H=St),Ce.D&&(Fs(Ce),zs(Ce)),k.g=ce}else Fu(k);S.i.length>0&&Qs(S)}else Ke[0]!="stop"&&Ke[0]!="close"||Xs(S,7);else S.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Xs(S,7):Ll(S):Ke[0]!="noop"&&S.l&&S.l.qa(Ke),S.A=0)}}Vs(4)}catch{}}var It=class{constructor(d,v){this.g=d,this.map=v}};function Al(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Hs(d){return d.h?1:d.g?d.g.size:0}function Gs(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Rl(d,v){d.g?d.g.add(v):d.h=v}function Cl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}Al.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function jl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const S of d.g.values())v=v.concat(S.G);return v}return j(d.i)}var Vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(d,v){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const k=d[S].indexOf("=");let Y,J=null;k>=0?(Y=d[S].substring(0,k),J=d[S].substring(k+1)):Y=d[S],v(Y,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Cn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Cn?(this.l=d.l,Kt(this,d.j),this.o=d.o,this.g=d.g,Wi(this,d.u),this.h=d.h,Il(this,Uu(d.i)),this.m=d.m):d&&(v=String(d).match(Vu))?(this.l=!1,Kt(this,v[1]||"",!0),this.o=$s(v[2]||""),this.g=$s(v[3]||"",!0),Wi(this,v[4]),this.h=$s(v[5]||"",!0),Il(this,v[6]||"",!0),this.m=$s(v[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}Cn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(ra(v,Qa,!0),":");var S=this.g;return(S||v=="file")&&(d.push("//"),(v=this.o)&&d.push(ra(v,Qa,!0),"@"),d.push(xi(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(ra(S,S.charAt(0)=="/"?kl:Ou,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",ra(S,Lu)),d.join("")},Cn.prototype.resolve=function(d){const v=kt(this);let S=!!d.j;S?Kt(v,d.j):S=!!d.o,S?v.o=d.o:S=!!d.g,S?v.g=d.g:S=d.u!=null;var k=d.h;if(S)Wi(v,d.u);else if(S=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Y=v.h.lastIndexOf("/");Y!=-1&&(k=v.h.slice(0,Y+1)+k)}if(Y=k,Y==".."||Y==".")k="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){k=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const J=[];for(let ce=0;ce<Y.length;){const Ce=Y[ce++];Ce=="."?k&&ce==Y.length&&J.push(""):Ce==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),k&&ce==Y.length&&J.push("")):(J.push(Ce),k=!0)}k=J.join("/")}else k=Y}return S?v.h=k:S=d.i.toString()!=="",S?Il(v,Uu(d.i)):S=!!d.m,S&&(v.m=d.m),v};function kt(d){return new Cn(d)}function Kt(d,v,S){d.j=S?$s(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Wi(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function Il(d,v,S){v instanceof Xi?(d.i=v,Ja(d.i,d.l)):(S||(v=ra(v,Qi)),d.i=new Xi(v,d.l))}function Xe(d,v,S){d.i.set(v,S)}function ia(d){return Xe(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function $s(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ra(d,v,S){return typeof d=="string"?(d=encodeURI(d).replace(v,vn),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Qa=/[#\/\?@]/g,Ou=/[#\?:]/g,kl=/[#\?]/g,Qi=/[#\?@]/g,Lu=/#/g;function Xi(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function bn(d){d.g||(d.g=new Map,d.h=0,d.i&&Wa(d.i,function(v,S){d.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}t=Xi.prototype,t.add=function(d,v){bn(this),this.i=null,d=Ji(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(v),this.h+=1,this};function Bu(d,v){bn(d),v=Ji(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Dl(d,v){return bn(d),v=Ji(d,v),d.g.has(v)}t.forEach=function(d,v){bn(this),this.g.forEach(function(S,k){S.forEach(function(Y){d.call(v,Y,k,this)},this)},this)};function Pl(d,v){bn(d);let S=[];if(typeof v=="string")Dl(d,v)&&(S=S.concat(d.g.get(Ji(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)S=S.concat(d[v]);return S}t.set=function(d,v){return bn(this),this.i=null,d=Ji(this,d),Dl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=Pl(this,d),d.length>0?String(d[0]):v):v};function Xa(d,v,S){Bu(d,v),S.length>0&&(d.i=null,d.g.set(Ji(d,v),j(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let k=0;k<v.length;k++){var S=v[k];const Y=xi(S);S=Pl(this,S);for(let J=0;J<S.length;J++){let ce=Y;S[J]!==""&&(ce+="="+xi(S[J])),d.push(ce)}}return this.i=d.join("&")};function Uu(d){const v=new Xi;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Ji(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Ja(d,v){v&&!d.j&&(bn(d),d.i=null,d.g.forEach(function(S,k){const Y=k.toLowerCase();k!=Y&&(Bu(this,k),Xa(this,Y,S))},d)),d.j=v}function ds(d,v){const S=new cs;if(u.Image){const k=new Image;k.onload=x(Gn,S,"TestLoadImage: loaded",!0,v,k),k.onerror=x(Gn,S,"TestLoadImage: error",!1,v,k),k.onabort=x(Gn,S,"TestLoadImage: abort",!1,v,k),k.ontimeout=x(Gn,S,"TestLoadImage: timeout",!1,v,k),u.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else v(!1)}function Ml(d,v){const S=new cs,k=new AbortController,Y=setTimeout(()=>{k.abort(),Gn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:k.signal}).then(J=>{clearTimeout(Y),J.ok?Gn(S,"TestPingServer: ok",!0,v):Gn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Y),Gn(S,"TestPingServer: error",!1,v)})}function Gn(d,v,S,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(S)}catch{}}function Zi(){this.g=new Nu}function Ks(d){this.i=d.Sb||null,this.h=d.ab||!1}b(Ks,Ru),Ks.prototype.g=function(){return new aa(this.i,this.h)};function aa(d,v){at.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(aa,at),t=aa.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,fs(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Za(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Za(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?er(this):fs(this),this.readyState==3&&Za(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,er(this))},t.Na=function(d){this.g&&(this.response=d,er(this))},t.ga=function(){this.g&&er(this)};function er(d){d.readyState=4,d.l=null,d.j=null,d.B=null,fs(d)}t.setRequestHeader=function(d,v){this.A.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=v.next();return d.join(`\r
`)};function fs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function $n(d){let v="";return Ne(d,function(S,k){v+=k,v+=":",v+=S,v+=`\r
`}),v}function oa(d,v,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=$n(S),typeof d=="string"?S!=null&&xi(S):Xe(d,v,S))}function tt(d){at.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(tt,at);var Ys=/^https?$/i,Vl=["POST","PUT"];t=tt.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,v,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Sl.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(J){la(this,J);return}if(d=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)S.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())S.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),Y=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(Vl,v,void 0)>=0)||k||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of S)this.g.setRequestHeader(J,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(J){la(this,J)}};function la(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Ol(d),vi(d)}function Ol(d){d.A||(d.A=!0,ct(d,"complete"),ct(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,ct(this,"complete"),ct(this,"abort"),vi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ca(this):this.Xa())},t.Xa=function(){ca(this)};function ca(d){if(d.h&&typeof l<"u"){if(d.v&&ms(d)==4)setTimeout(d.Ca.bind(d),0);else if(ct(d,"readystatechange"),ms(d)==4){d.h=!1;try{const J=d.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var k;if(k=J===0){let ce=String(d.D).match(Vu)[1]||null;!ce&&u.self&&u.self.location&&(ce=u.self.location.protocol.slice(0,-1)),k=!Ys.test(ce?ce.toLowerCase():"")}S=k}if(S)ct(d,"complete"),ct(d,"success");else{d.o=6;try{var Y=ms(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",Ol(d)}}finally{vi(d)}}}}function vi(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,v||ct(d,"ready");try{S.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ms(d){return d.g?d.g.readyState:0}t.ca=function(){try{return ms(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Mf(v)}};function Jt(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function bi(d){const v={};d=(d.g&&ms(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(L(d[k]))continue;var S=Du(d[k]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=v[Y]||[];v[Y]=J,J.push(S)}ke(v,function(k){return k.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(d,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||v}function tr(d){this.za=0,this.i=[],this.j=new cs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ws("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ws("baseRetryDelayMs",5e3,d),this.Za=Ws("retryDelaySeedMs",1e4,d),this.Ta=Ws("forwardChannelMaxRetries",2,d),this.va=Ws("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Al(d&&d.concurrentRequestLimit),this.Ba=new Zi,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=tr.prototype,t.ka=8,t.I=1,t.connect=function(d,v,S,k){Ct(0),this.W=d,this.H=v||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.J=Ku(this,null,this.W),Qs(this)};function Ll(d){if(eo(d),d.I==3){var v=d.V++,S=kt(d.J);if(Xe(S,"SID",d.M),Xe(S,"RID",v),Xe(S,"TYPE","terminate"),ua(d,S),v=new us(d,d.j,v),v.M=2,v.A=ia(kt(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.A,S=!0),S||(v.g=Yu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),zs(v)}$u(d)}function nr(d){d.g&&(Ul(d),d.g.cancel(),d.g=null)}function eo(d){nr(d),d.v&&(u.clearTimeout(d.v),d.v=null),no(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Qs(d){if(!Nl(d.h)&&!d.m){d.m=!0;var v=d.Ea;E||A(),I||(E(),I=!0),N.add(v,d),d.D=0}}function to(d,v){return Hs(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ls(y(d.Ea,d,v),Gu(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new us(this,this.j,d);let J=this.o;if(this.U&&(J?(J=q(J),ue(J,this.U)):J=this.U),this.u!==null||this.R||(Y.J=J,J=null),this.S)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(v+=k,v>4096){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=zu(this,Y,v),S=kt(this.J),Xe(S,"RID",d),Xe(S,"CVER",22),this.G&&Xe(S,"X-HTTP-Session-Id",this.G),ua(this,S),J&&(this.R?v="headers="+xi($n(J))+"&"+v:this.u&&oa(S,this.u,J)),Rl(this.h,Y),this.Ra&&Xe(S,"TYPE","init"),this.S?(Xe(S,"$req",v),Xe(S,"SID","null"),Y.U=!0,Us(Y,S,null)):Us(Y,S,v),this.I=2}}else this.I==3&&(d?Bl(this,d):this.i.length==0||Nl(this.h)||Bl(this))};function Bl(d,v){var S;v?S=v.l:S=d.V++;const k=kt(d.J);Xe(k,"SID",d.M),Xe(k,"RID",S),Xe(k,"AID",d.K),ua(d,k),d.u&&d.o&&oa(k,d.u,d.o),S=new us(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),v&&(d.i=v.G.concat(d.i)),v=zu(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Rl(d.h,S),Us(S,k,v)}function ua(d,v){d.H&&Ne(d.H,function(S,k){Xe(v,k,S)}),d.l&&Ne({},function(S,k){Xe(v,k,S)})}function zu(d,v,S){S=Math.min(d.i.length,S);const k=d.l?y(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Ce=-1;for(;;){const St=["count="+S];Ce==-1?S>0?(Ce=Y[0].g,St.push("ofs="+Ce)):Ce=0:St.push("ofs="+Ce);let Ke=!0;for(let ft=0;ft<S;ft++){var J=Y[ft].g;const Kn=Y[ft].map;if(J-=Ce,J<0)Ce=Math.max(0,Y[ft].g-100),Ke=!1;else try{J="req"+J+"_"||"";try{var ce=Kn instanceof Map?Kn:Object.entries(Kn);for(const[Js,ps]of ce){let gs=ps;f(ps)&&(gs=zt(ps)),St.push(J+Js+"="+encodeURIComponent(gs))}}catch(Js){throw St.push(J+"type="+encodeURIComponent("_badmap")),Js}}catch{k&&k(Kn)}}if(Ke){ce=St.join("&");break e}}ce=void 0}return d=d.i.splice(0,S),v.G=d,ce}function Fu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;E||A(),I||(E(),I=!0),N.add(v,d),d.A=0}}function ha(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ls(y(d.Da,d),Gu(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ls(y(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),nr(this),qu(this))};function Ul(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function qu(d){d.g=new us(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=kt(d.na);Xe(v,"RID","rpc"),Xe(v,"SID",d.M),Xe(v,"AID",d.K),Xe(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xe(v,"TO",d.ia),Xe(v,"TYPE","xmlhttp"),ua(d,v),d.u&&d.o&&oa(v,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=ia(kt(v)),S.u=null,S.R=!0,Ka(S,d)}t.Va=function(){this.C!=null&&(this.C=null,nr(this),ha(this),Ct(19))};function no(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Hu(d,v){var S=null;if(d.g==v){no(d),Ul(d),d.g=null;var k=2}else if(Gs(d.h,v))S=v.G,Cl(d.h,v),k=1;else return;if(d.I!=0){if(v.o)if(k==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var Y=d.D;k=$a(),ct(k,new Os(k,S)),Qs(d)}else Fu(d);else if(Y=v.m,Y==3||Y==0&&v.X>0||!(k==1&&to(d,v)||k==2&&ha(d)))switch(S&&S.length>0&&(v=d.h,v.i=v.i.concat(S)),Y){case 1:Xs(d,5);break;case 4:Xs(d,10);break;case 3:Xs(d,6);break;default:Xs(d,2)}}}function Gu(d,v){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*v}function Xs(d,v){if(d.j.info("Error code "+v),v==2){var S=y(d.bb,d),k=d.Ua;const Y=!k;k=new Cn(k||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Kt(k,"https"),ia(k),Y?ds(k.toString(),S):Ml(k.toString(),S)}else Ct(2);d.I=0,d.l&&d.l.pa(v),$u(d),eo(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function $u(d){if(d.I=0,d.ja=[],d.l){const v=jl(d.h);(v.length!=0||d.i.length!=0)&&(D(d.ja,v),D(d.ja,d.i),d.h.i.length=0,j(d.i),d.i.length=0),d.l.oa()}}function Ku(d,v,S){var k=S instanceof Cn?kt(S):new Cn(S);if(k.g!="")v&&(k.g=v+"."+k.g),Wi(k,k.u);else{var Y=u.location;k=Y.protocol,v=v?v+"."+Y.hostname:Y.hostname,Y=+Y.port;const J=new Cn(null);k&&Kt(J,k),v&&(J.g=v),Y&&Wi(J,Y),S&&(J.h=S),k=J}return S=d.G,v=d.wa,S&&v&&Xe(k,S,v),Xe(k,"VER",d.ka),ua(d,k),k}function Yu(d,v,S){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new tt(new Ks({ab:S})):new tt(d.ma),v.Fa(d.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}t=Wu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sr(){}sr.prototype.g=function(d,v){return new pn(d,v)};function pn(d,v){at.call(this),this.g=new tr(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!L(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new wi(this)}b(pn,at),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Ll(this.g)},pn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=zt(d),d=S);v.i.push(new It(v.Ya++,d)),v.I==3&&Qs(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,pn.Z.N.call(this)};function Qu(d){Xt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const S in v){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}b(Qu,Xt);function Xu(){qn.call(this),this.status=1}b(Xu,qn);function wi(d){this.g=d}b(wi,Wu),wi.prototype.ra=function(){ct(this.g,"a")},wi.prototype.qa=function(d){ct(this.g,new Qu(d))},wi.prototype.pa=function(d){ct(this.g,new Xu)},wi.prototype.oa=function(){ct(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,KE=function(){return new sr},$E=function(){return $a()},GE=Et,Ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,wd=na,El.COMPLETE="complete",HE=El,Cu.EventType=ls,ls.OPEN="a",ls.CLOSE="b",ls.ERROR="c",ls.MESSAGE="d",at.prototype.listen=at.prototype.J,jc=Cu,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,qE=tt}).apply(typeof sd<"u"?sd:typeof self<"u"?self:typeof window<"u"?window:{});class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");let pl="12.9.0";function dP(t){pl=t}const Ba=new _y("@firebase/firestore");function Po(){return Ba.logLevel}function me(t,...e){if(Ba.logLevel<=Be.DEBUG){const n=e.map(Vy);Ba.debug(`Firestore (${pl}): ${t}`,...n)}}function qi(t,...e){if(Ba.logLevel<=Be.ERROR){const n=e.map(Vy);Ba.error(`Firestore (${pl}): ${t}`,...n)}}function Ua(t,...e){if(Ba.logLevel<=Be.WARN){const n=e.map(Vy);Ba.warn(`Firestore (${pl}): ${t}`,...n)}}function Vy(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function we(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,YE(t,i,n)}function YE(t,e,n){let i=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw qi(i),new Error(i)}function Qe(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||YE(e,a,i)}function Ae(t,e){return t}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class WE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class mP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class pP{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let i=this.i;const a=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Lr,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},f=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Lr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qe(typeof i.accessToken=="string",31837,{l:i}),new WE(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new hn(e)}}class gP{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yP{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new gP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class o_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_s(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const i=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new o_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new o_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function vP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class Oy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=vP(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Ue(t,e){return t<e?-1:t>e?1:0}function Ng(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const a=t.charAt(i),l=e.charAt(i);if(a!==l)return Yp(a)===Yp(l)?Ue(a,l):Yp(a)?1:-1}return Ue(t.length,e.length)}const bP=55296,wP=57343;function Yp(t){const e=t.charCodeAt(0);return e>=bP&&e<=wP}function tl(t,e,n){return t.length===e.length&&t.every(((i,a)=>n(i,e[a])))}const l_="__name__";class ii{constructor(e,n,i){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&we(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=ii.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Ue(e.length,n.length)}static compareSegments(e,n){const i=ii.isNumericId(e),a=ii.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?ii.extractNumericId(e).compare(ii.extractNumericId(n)):Ng(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Or.fromString(e.substring(4,e.length-2))}}class ot extends ii{construct(e,n,i){return new ot(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const _P=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends ii{construct(e,n,i){return new an(e,n,i)}static isValidIdentifier(e){return _P.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===l_}static keyField(){return new an([l_])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}function QE(t,e,n){if(!n)throw new de(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TP(t,e,n,i){if(e===!0&&i===!0)throw new de(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c_(t){if(!ve.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function u_(t){if(ve.isDocumentKey(t))throw new de(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function XE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":we(12329,{type:typeof t})}function za(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pf(t);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function gu(t,e){if(!XE(t))throw new de(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new de(re.INVALID_ARGUMENT,n);return!0}const h_=-62135596800,d_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*d_);return new dt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h_)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/d_}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-h_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Ut("string",dt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new dt(0,0))}static max(){return new Ee(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yc=-1;function EP(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Ee.fromTimestamp(i===1e9?new dt(n+1,0):new dt(n,i));return new Fr(a,ve.empty(),e)}function SP(t){return new Fr(t.readTime,t.key,Yc)}class Fr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Fr(Ee.min(),ve.empty(),Yc)}static max(){return new Fr(Ee.max(),ve.empty(),Yc)}}function AP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}const NP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function gl(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==NP)throw t;me("LocalStore","Unexpectedly lost primary lease")}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ae.reject(n)}static resolve(e){return new ae(((n,i)=>{n(e)}))}static reject(e){return new ae(((n,i)=>{i(e)}))}static waitFor(e){return new ae(((n,i)=>{let a=0,l=0,u=!1;e.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&n()}),(p=>i(p)))})),u=!0,l===a&&n()}))}static or(e){let n=ae.resolve(!1);for(const i of e)n=n.next((a=>a?ae.resolve(a):i()));return n}static forEach(e,n){const i=[];return e.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(e,n){return new ae(((i,a)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;n(e[y]).next((x=>{u[y]=x,++f,f===l&&i(u)}),(x=>a(x)))}}))}static doWhile(e,n){return new ae(((i,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):i()};l()}))}}function CP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gf.ce=-1;const Ly=-1;function yf(t){return t==null}function Hd(t){return t===0&&1/t==-1/0}function jP(t){return typeof t=="number"&&Number.isInteger(t)&&!Hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const JE="";function IP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=f_(e)),e=kP(t.get(n),e);return f_(e)}function kP(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case JE:n+="";break;default:n+=l}}return n}function f_(t){return t+JE+""}function m_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class xt{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new id(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new id(this.root,e,this.comparator,!1)}getReverseIterator(){return new id(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new id(this.root,e,this.comparator,!0)}}class id{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new rn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p_(this.data.getIterator())}getIteratorFrom(e){return new p_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class p_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new On([])}unionWith(e){let n=new Gt(an.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new On(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}class eS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new eS("Invalid base64 string: "+l):l}})(e);return new on(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const DP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=DP.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hr(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}const tS="server_timestamp",nS="__type__",sS="__previous_value__",iS="__local_write_time__";function By(t){return(t?.mapValue?.fields||{})[nS]?.stringValue===tS}function xf(t){const e=t.mapValue.fields[sS];return By(e)?xf(e):e}function Wc(t){const e=qr(t.mapValue.fields[iS].timestampValue);return new dt(e.seconds,e.nanos)}class PP{constructor(e,n,i,a,l,u,f,p,y,x,b){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=x,this.apiKey=b}}const Gd="(default)";class Qc{constructor(e,n){this.projectId=e,this.database=n||Gd}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===Gd}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}function MP(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(t.options.projectId,e)}const rS="__type__",VP="__max__",rd={mapValue:{}},aS="__vector__",$d="value";function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?By(t)?4:LP(t)?9007199254740991:OP(t)?10:11:we(28295,{value:t})}function fi(t,e){if(t===e)return!0;const n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=qr(a.timestampValue),f=qr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return Hr(a.bytesValue).isEqual(Hr(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Rt(a.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(a.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Rt(a.integerValue)===Rt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Rt(a.doubleValue),f=Rt(l.doubleValue);return u===f?Hd(u)===Hd(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return tl(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(m_(u)!==m_(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!fi(u[p],f[p])))return!1;return!0})(t,e);default:return we(52216,{left:t})}}function Xc(t,e){return(t.values||[]).find((n=>fi(n,e)))!==void 0}function nl(t,e){if(t===e)return 0;const n=Gr(t),i=Gr(e);if(n!==i)return Ue(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Rt(l.integerValue||l.doubleValue),p=Rt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return g_(t.timestampValue,e.timestampValue);case 4:return g_(Wc(t),Wc(e));case 5:return Ng(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Hr(l),p=Hr(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let y=0;y<f.length&&y<p.length;y++){const x=Ue(f[y],p[y]);if(x!==0)return x}return Ue(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Ue(Rt(l.latitude),Rt(u.latitude));return f!==0?f:Ue(Rt(l.longitude),Rt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return y_(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const f=l.fields||{},p=u.fields||{},y=f[$d]?.arrayValue,x=p[$d]?.arrayValue,b=Ue(y?.values?.length||0,x?.values?.length||0);return b!==0?b:y_(y,x)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===rd.mapValue&&u===rd.mapValue)return 0;if(l===rd.mapValue)return 1;if(u===rd.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=u.fields||{},x=Object.keys(y);p.sort(),x.sort();for(let b=0;b<p.length&&b<x.length;++b){const T=Ng(p[b],x[b]);if(T!==0)return T;const j=nl(f[p[b]],y[x[b]]);if(j!==0)return j}return Ue(p.length,x.length)})(t.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function g_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=qr(t),i=qr(e),a=Ue(n.seconds,i.seconds);return a!==0?a:Ue(n.nanos,i.nanos)}function y_(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=nl(n[a],i[a]);if(l)return l}return Ue(n.length,i.length)}function sl(t){return Rg(t)}function Rg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=qr(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Hr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Rg(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Rg(n.fields[u])}`;return a+"}"})(t.mapValue):we(61005,{value:t})}function _d(t){switch(Gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xf(t);return e?16+_d(e):16;case 5:return 2*t.stringValue.length;case 6:return Hr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+_d(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let a=0;return Wr(i.fields,((l,u)=>{a+=l.length+_d(u)})),a})(t.mapValue);default:throw we(13486,{value:t})}}function x_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cg(t){return!!t&&"integerValue"in t}function Uy(t){return!!t&&"arrayValue"in t}function v_(t){return!!t&&"nullValue"in t}function b_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function OP(t){return(t?.mapValue?.fields||{})[rS]?.stringValue===aS}function Oc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Oc(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oc(t.arrayValue.values[n]);return e}return{...t}}function LP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VP}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(n)}setAll(e){let n=an.emptyPath(),i={},a=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,a),i={},a=[],n=f.popLast()}u?i[f.lastSegment()]=Oc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Td(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Wr(n,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new Nn(Oc(this.value))}}function oS(t){const e=[];return Wr(t.fields,((n,i)=>{const a=new an([n]);if(Td(i)){const l=oS(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new On(e)}class dn{constructor(e,n,i,a,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new dn(e,0,Ee.min(),Ee.min(),Ee.min(),Nn.empty(),0)}static newFoundDocument(e,n,i,a){return new dn(e,1,n,Ee.min(),i,a,0)}static newNoDocument(e,n){return new dn(e,2,n,Ee.min(),Ee.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ee.min(),Ee.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kd{constructor(e,n){this.position=e,this.inclusive=n}}function w_(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=ve.comparator(ve.fromName(u.referenceValue),n.key):i=nl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function __(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function BP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class lS{}class Bt extends lS{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new zP(e,n,i):n==="array-contains"?new HP(e,i):n==="in"?new GP(e,i):n==="not-in"?new $P(e,i):n==="array-contains-any"?new KP(e,i):new Bt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new FP(e,i):new qP(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(nl(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(nl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cs extends lS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Cs(e,n)}matches(e){return cS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function cS(t){return t.op==="and"}function uS(t){return UP(t)&&cS(t)}function UP(t){for(const e of t.filters)if(e instanceof Cs)return!1;return!0}function jg(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(uS(t))return t.filters.map((e=>jg(e))).join(",");{const e=t.filters.map((n=>jg(n))).join(",");return`${t.op}(${e})`}}function hS(t,e){return t instanceof Bt?(function(i,a){return a instanceof Bt&&i.op===a.op&&i.field.isEqual(a.field)&&fi(i.value,a.value)})(t,e):t instanceof Cs?(function(i,a){return a instanceof Cs&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&hS(u,a.filters[f])),!0):!1})(t,e):void we(19439)}function dS(t){return t instanceof Bt?(function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`})(t):t instanceof Cs?(function(n){return n.op.toString()+" {"+n.getFilters().map(dS).join(" ,")+"}"})(t):"Filter"}class zP extends Bt{constructor(e,n,i){super(e,n,i),this.key=ve.fromName(i.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class FP extends Bt{constructor(e,n){super(e,"in",n),this.keys=fS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qP extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=fS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function fS(t,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class HP extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uy(n)&&Xc(n.arrayValue,this.value)}}class GP extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class $P extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xc(this.value.arrayValue,n)}}class KP extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Xc(this.value.arrayValue,i)))}}class YP{constructor(e,n=null,i=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function T_(t,e=null,n=[],i=[],a=null,l=null,u=null){return new YP(t,e,n,i,a,l,u)}function zy(t){const e=Ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>jg(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>sl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>sl(i))).join(",")),e.Te=n}return e.Te}function Fy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!__(t.startAt,e.startAt)&&__(t.endAt,e.endAt)}function Ig(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class xl{constructor(e,n=null,i=[],a=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function WP(t,e,n,i,a,l,u,f){return new xl(t,e,n,i,a,l,u,f)}function mS(t){return new xl(t)}function E_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QP(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pS(t){return t.collectionGroup!==null}function Lc(t){const e=Ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Gt(an.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Jc(l,i))})),n.has(an.keyField().canonicalString())||e.Ie.push(new Jc(an.keyField(),i))}return e.Ie}function li(t){const e=Ae(t);return e.Ee||(e.Ee=XP(e,Lc(t))),e.Ee}function XP(t,e){if(t.limitType==="F")return T_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Jc(a.field,l)}));const n=t.endAt?new Kd(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Kd(t.startAt.position,t.startAt.inclusive):null;return T_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function kg(t,e){const n=t.filters.concat([e]);return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function JP(t,e){const n=t.explicitOrderBy.concat([e]);return new xl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Dg(t,e,n){return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vf(t,e){return Fy(li(t),li(e))&&t.limitType===e.limitType}function gS(t){return`${zy(li(t))}|lt:${t.limitType}`}function Mo(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>dS(a))).join(", ")}]`),yf(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>sl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>sl(a))).join(",")),`Target(${i})`})(li(t))}; limitType=${t.limitType})`}function bf(t,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ve.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,a){for(const l of Lc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(i,a){return!(i.startAt&&!(function(u,f,p){const y=w_(u,f,p);return u.inclusive?y<=0:y<0})(i.startAt,Lc(i),a)||i.endAt&&!(function(u,f,p){const y=w_(u,f,p);return u.inclusive?y>=0:y>0})(i.endAt,Lc(i),a))})(t,e)}function ZP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yS(t){return(e,n)=>{let i=!1;for(const a of Lc(t)){const l=e4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function e4(t,e,n){const i=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),y=f.data.field(l);return p!==null&&y!==null?nl(p,y):we(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return we(19790,{direction:t.dir})}}class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,((n,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}const t4=new xt(ve.comparator);function Hi(){return t4}const xS=new xt(ve.comparator);function Ic(...t){let e=xS;for(const n of t)e=e.insert(n.key,n);return e}function vS(t){let e=xS;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function ka(){return Bc()}function bS(){return Bc()}function Bc(){return new qa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const n4=new xt(ve.comparator),s4=new Gt(ve.comparator);function ze(...t){let e=s4;for(const n of t)e=e.add(n);return e}const i4=new Gt(Ue);function r4(){return i4}function qy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function wS(t){return{integerValue:""+t}}function a4(t,e){return jP(e)?wS(e):qy(t,e)}class wf{constructor(){this._=void 0}}function o4(t,e,n){return t instanceof Zc?(function(a,l){const u={fields:{[nS]:{stringValue:tS},[iS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&By(l)&&(l=xf(l)),l&&(u.fields[sS]=l),{mapValue:u}})(n,e):t instanceof eu?TS(t,e):t instanceof tu?ES(t,e):(function(a,l){const u=_S(a,l),f=S_(u)+S_(a.Ae);return Cg(u)&&Cg(a.Ae)?wS(f):qy(a.serializer,f)})(t,e)}function l4(t,e,n){return t instanceof eu?TS(t,e):t instanceof tu?ES(t,e):n}function _S(t,e){return t instanceof Yd?(function(i){return Cg(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Zc extends wf{}class eu extends wf{constructor(e){super(),this.elements=e}}function TS(t,e){const n=SS(e);for(const i of t.elements)n.some((a=>fi(a,i)))||n.push(i);return{arrayValue:{values:n}}}class tu extends wf{constructor(e){super(),this.elements=e}}function ES(t,e){let n=SS(e);for(const i of t.elements)n=n.filter((a=>!fi(a,i)));return{arrayValue:{values:n}}}class Yd extends wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function S_(t){return Rt(t.integerValue||t.doubleValue)}function SS(t){return Uy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class c4{constructor(e,n){this.field=e,this.transform=n}}function u4(t,e){return t.field.isEqual(e.field)&&(function(i,a){return i instanceof eu&&a instanceof eu||i instanceof tu&&a instanceof tu?tl(i.elements,a.elements,fi):i instanceof Yd&&a instanceof Yd?fi(i.Ae,a.Ae):i instanceof Zc&&a instanceof Zc})(t.transform,e.transform)}class h4{constructor(e,n){this.version=e,this.transformResults=n}}class Es{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Es}static exists(e){return new Es(void 0,e)}static updateTime(e){return new Es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ed(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _f{}function AS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hy(t.key,Es.none()):new yu(t.key,t.data,Es.none());{const n=t.data,i=Nn.empty();let a=new Gt(an.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Qr(t.key,i,new On(a.toArray()),Es.none())}}function d4(t,e,n){t instanceof yu?(function(a,l,u){const f=a.value.clone(),p=N_(a.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Qr?(function(a,l,u){if(!Ed(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=N_(a.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(NS(a)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Uc(t,e,n,i){return t instanceof yu?(function(l,u,f,p){if(!Ed(l.precondition,u))return f;const y=l.value.clone(),x=R_(l.fieldTransforms,p,u);return y.setAll(x),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null})(t,e,n,i):t instanceof Qr?(function(l,u,f,p){if(!Ed(l.precondition,u))return f;const y=R_(l.fieldTransforms,p,u),x=u.data;return x.setAll(NS(l)),x.setAll(y),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,i):(function(l,u,f){return Ed(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function f4(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=_S(i.transform,a||null);l!=null&&(n===null&&(n=Nn.empty()),n.set(i.field,l))}return n||null}function A_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&tl(i,a,((l,u)=>u4(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends _f{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qr extends _f{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function NS(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function N_(t,e,n){const i=new Map;Qe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);i.set(l.field,l4(u,f,n[a]))}return i}function R_(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,o4(l,u,e))}return i}class Hy extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m4 extends _f{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class p4{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&d4(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Uc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Uc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=bS();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const p=AS(u,f);p!==null&&i.set(a.key,p),u.isValidDocument()||u.convertToNoDocument(Ee.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((n,i)=>A_(n,i)))&&tl(this.baseMutations,e.baseMutations,((n,i)=>A_(n,i)))}}class Gy{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){Qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return n4})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new Gy(e,n,i,a)}}class g4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class y4{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ot,He;function x4(t){switch(t){case re.OK:return we(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return we(15467,{code:t})}}function RS(t){if(t===void 0)return qi("GRPC error has no .code"),re.UNKNOWN;switch(t){case Ot.OK:return re.OK;case Ot.CANCELLED:return re.CANCELLED;case Ot.UNKNOWN:return re.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return re.INTERNAL;case Ot.UNAVAILABLE:return re.UNAVAILABLE;case Ot.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ot.NOT_FOUND:return re.NOT_FOUND;case Ot.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ot.ABORTED:return re.ABORTED;case Ot.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ot.DATA_LOSS:return re.DATA_LOSS;default:return we(39323,{code:t})}}(He=Ot||(Ot={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";function v4(){return new TextEncoder}const b4=new Or([4294967295,4294967295],0);function C_(t){const e=v4().encode(t),n=new FE;return n.update(e),new Uint8Array(n.digest())}function j_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Or([n,i],0),new Or([a,l],0)]}class $y{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new kc(`Invalid padding: ${n}`);if(i<0)throw new kc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new kc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Or.fromNumber(this.ge)}ye(e,n,i){let a=e.add(n.multiply(Or.fromNumber(i)));return a.compare(b4)===1&&(a=new Or([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=C_(e),[i,a]=j_(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new $y(l,a,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=C_(e),[i,a]=j_(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Tf{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Tf(Ee.min(),a,new xt(Ue),Hi(),ze())}}class xu{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new xu(i,n,ze(),ze(),ze())}}class Sd{constructor(e,n,i,a){this.Se=e,this.removedTargetIds=n,this.key=i,this.De=a}}class CS{constructor(e,n){this.targetId=e,this.Ce=n}}class jS{constructor(e,n,i=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class I_{constructor(){this.ve=0,this.Fe=k_(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),i=ze();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:we(38017,{changeType:l})}})),new xu(this.Me,this.xe,e,n,i)}Ke(){this.Oe=!1,this.Fe=k_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class w4{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.He=ad(),this.Je=ad(),this.Ze=new xt(Ue)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,i=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Ig(l))if(i===0){const u=new ve(l.path);this.et(n,u,dn.newNoDocument(u,Ee.min()))}else Qe(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=Hr(i).toUint8Array()}catch(p){if(p instanceof eS)return Ua("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new $y(u,a,l)}catch(p){return Ua(p instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Ig(f.target)){const p=new ve(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,dn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.Ke())}}));let i=ze();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Tf(e,n,this.Ze,this.je,i);return this.je=Hi(),this.He=ad(),this.Je=ad(),this.Ze=new xt(Ue),a}Ye(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,i),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.qe(n,1):a.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new I_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Gt(Ue),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Gt(Ue),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ad(){return new xt(ve.comparator)}function k_(){return new xt(ve.comparator)}const _4={asc:"ASCENDING",desc:"DESCENDING"},T4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E4={and:"AND",or:"OR"};class S4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pg(t,e){return t.useProto3Json||yf(e)?e:{value:e}}function Wd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A4(t,e){return Wd(t,e.toTimestamp())}function ci(t){return Qe(!!t,49232),Ee.fromTimestamp((function(n){const i=qr(n);return new dt(i.seconds,i.nanos)})(t))}function Ky(t,e){return Mg(t,e).canonicalString()}function Mg(t,e){const n=(function(a){return new ot(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function kS(t){const e=ot.fromString(t);return Qe(OS(e),10190,{key:e.toString()}),e}function Vg(t,e){return Ky(t.databaseId,e.path)}function Wp(t,e){const n=kS(e);if(n.get(1)!==t.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(PS(n))}function DS(t,e){return Ky(t.databaseId,e)}function N4(t){const e=kS(t);return e.length===4?ot.emptyPath():PS(e)}function Og(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PS(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function D_(t,e,n){return{name:Vg(t,e),fields:n.value.mapValue.fields}}function R4(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(y,x){return y.useProto3Json?(Qe(x===void 0||typeof x=="string",58123),on.fromBase64String(x||"")):(Qe(x===void 0||x instanceof Buffer||x instanceof Uint8Array,16193),on.fromUint8Array(x||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(y){const x=y.code===void 0?re.UNKNOWN:RS(y.code);return new de(x,y.message||"")})(u);n=new jS(i,a,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Wp(t,i.document.name),l=ci(i.document.updateTime),u=i.document.createTime?ci(i.document.createTime):Ee.min(),f=new Nn({mapValue:{fields:i.document.fields}}),p=dn.newFoundDocument(a,l,u,f),y=i.targetIds||[],x=i.removedTargetIds||[];n=new Sd(y,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Wp(t,i.document),l=i.readTime?ci(i.readTime):Ee.min(),u=dn.newNoDocument(a,l),f=i.removedTargetIds||[];n=new Sd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Wp(t,i.document),l=i.removedTargetIds||[];n=new Sd([],l,a,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new y4(a,l),f=i.targetId;n=new CS(f,u)}}return n}function C4(t,e){let n;if(e instanceof yu)n={update:D_(t,e.key,e.value)};else if(e instanceof Hy)n={delete:Vg(t,e.key)};else if(e instanceof Qr)n={update:D_(t,e.key,e.data),updateMask:L4(e.fieldMask)};else{if(!(e instanceof m4))return we(16599,{dt:e.type});n={verify:Vg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Zc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof eu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof tu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Yd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw we(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:A4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we(27497)})(t,e.precondition)),n}function j4(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?ci(a.updateTime):ci(l);return u.isEqual(Ee.min())&&(u=ci(l)),new h4(u,a.transformResults||[])})(n,e)))):[]}function I4(t,e){return{documents:[DS(t,e.path)]}}function k4(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=DS(t,a);const l=(function(y){if(y.length!==0)return VS(Cs.create(y,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(y){if(y.length!==0)return y.map((x=>(function(T){return{field:Vo(T.field),direction:M4(T.dir)}})(x)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Pg(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:a}}function D4(t){let e=N4(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){Qe(i===1,65062);const x=n.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];n.where&&(l=(function(b){const T=MS(b);return T instanceof Cs&&uS(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((T=>(function(D){return new Jc(Oo(D.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(b){let T;return T=typeof b=="object"?b.value:b,yf(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(b){const T=!!b.before,j=b.values||[];return new Kd(j,T)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const T=!b.before,j=b.values||[];return new Kd(j,T)})(n.endAt)),WP(e,a,u,l,f,"F",p,y)}function P4(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MS(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Oo(n.unaryFilter.field);return Bt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Oo(n.unaryFilter.field);return Bt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(n.unaryFilter.field);return Bt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oo(n.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bt.create(Oo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Cs.create(n.compositeFilter.filters.map((i=>MS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(t):we(30097,{filter:t})}function M4(t){return _4[t]}function V4(t){return T4[t]}function O4(t){return E4[t]}function Vo(t){return{fieldPath:t.canonicalString()}}function Oo(t){return an.fromServerFormat(t.fieldPath)}function VS(t){return t instanceof Bt?(function(n){if(n.op==="=="){if(b_(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(v_(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b_(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(v_(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:V4(n.op),value:n.value}}})(t):t instanceof Cs?(function(n){const i=n.getFilters().map((a=>VS(a)));return i.length===1?i[0]:{compositeFilter:{op:O4(n.op),filters:i}}})(t):we(54877,{filter:t})}function L4(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function OS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function LS(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Ir{constructor(e,n,i,a,l=Ee.min(),u=Ee.min(),f=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class B4{constructor(e){this.yt=e}}function U4(t){const e=D4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dg(e,e.limit,"L"):e}class z4{constructor(){this.Sn=new F4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(Fr.min())}updateCollectionGroup(e,n,i){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class F4{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Gt(ot.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Gt(ot.comparator)).toArray()}}const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BS=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(BS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class il{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new il(0)}static ar(){return new il(-1)}}const M_="LruGarbageCollector",q4=1048576;function V_([t,e],[n,i]){const a=Ue(t,n);return a===0?Ue(e,i):a}class H4{constructor(e){this.Pr=e,this.buffer=new Gt(V_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();V_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class G4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(M_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?me(M_,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Ar(3e5)}))}}class $4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return ae.resolve(gf.ce);const i=new H4(n);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.Vr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(P_)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let i,a,l,u,f,p,y;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(i=b,f=Date.now(),this.removeTargets(e,i,n)))).next((b=>(l=b,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((b=>(y=Date.now(),Po()<=Be.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-x}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-x}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function K4(t,e){return new $4(t,e)}class Y4{constructor(){this.changes=new qa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ae.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class W4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Q4{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(i!==null&&Uc(i.mutation,a,On.empty(),dt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,ze()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=ze()){const a=ka();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,i).next((l=>{let u=Ic();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=ka();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,ze())))}populateOverlays(e,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,a){let l=Hi();const u=Bc(),f=(function(){return Bc()})();return n.forEach(((p,y)=>{const x=i.get(y.key);a.has(y.key)&&(x===void 0||x.mutation instanceof Qr)?l=l.insert(y.key,y):x!==void 0?(u.set(y.key,x.mutation.getFieldMask()),Uc(x.mutation,y,x.mutation.getFieldMask(),dt.now())):u.set(y.key,On.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,x)=>u.set(y,x))),n.forEach(((y,x)=>f.set(y,new W4(x,u.get(y)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=Bc();let a=new xt(((u,f)=>u-f)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let x=i.get(p)||On.empty();x=f.applyToLocalView(y,x),i.set(p,x);const b=(a.get(f.batchId)||ze()).add(p);a=a.insert(f.batchId,b)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,x=p.value,b=bS();x.forEach((T=>{if(!l.has(T)){const j=AS(n.get(T),i.get(T));j!==null&&b.set(T,j),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,y,b))}return ae.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,a){return QP(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):ae.resolve(ka());let f=Yc,p=l;return u.next((y=>ae.forEach(y,((x,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(x)?ae.resolve():this.remoteDocumentCache.getEntry(e,x).next((T=>{p=p.insert(x,T)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,ze()))).next((x=>({batchId:f,changes:vS(x)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((i=>{let a=Ic();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Ic();return this.indexManager.getCollectionParents(e,l).next((f=>ae.forEach(f,(p=>{const y=(function(b,T){return new xl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,a).next((x=>{x.forEach(((b,T)=>{u=u.insert(b,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a)))).next((u=>{l.forEach(((p,y)=>{const x=y.getKey();u.get(x)===null&&(u=u.insert(x,dn.newInvalidDocument(x)))}));let f=Ic();return u.forEach(((p,y)=>{const x=l.get(p);x!==void 0&&Uc(x.mutation,y,On.empty(),dt.now()),bf(n,y)&&(f=f.insert(p,y))})),f}))}}class X4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ae.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ci(a.createTime)}})(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(a){return{name:a.name,query:U4(a.bundledQuery),readTime:ci(a.readTime)}})(n)),ae.resolve()}}class J4{constructor(){this.overlays=new xt(ve.comparator),this.Lr=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ka();return ae.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((a,l)=>{this.bt(e,n,l)})),ae.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),ae.resolve()}getOverlaysForCollection(e,n,i){const a=ka(),l=n.length+1,u=new ve(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new xt(((y,x)=>y-x));const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let x=l.get(y.largestBatchId);x===null&&(x=ka(),l=l.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const f=ka(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,x)=>f.set(y,x))),!(f.size()>=a)););return ae.resolve(f)}bt(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new g4(n,i));let l=this.Lr.get(n);l===void 0&&(l=ze(),this.Lr.set(n,l)),this.Lr.set(n,l.add(i.key))}}class Z4{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}class Yy{constructor(){this.kr=new Gt(Wt.Kr),this.qr=new Gt(Wt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const i=new Wt(e,n);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Wr(new Wt(e,n))}Qr(e,n){e.forEach((i=>this.removeReference(i,n)))}Gr(e){const n=new ve(new ot([])),i=new Wt(n,e),a=new Wt(n,e+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ve(new ot([])),i=new Wt(n,e),a=new Wt(n,e+1);let l=ze();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new Wt(e,0),i=this.kr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Wt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ve.comparator(e.key,n.key)||Ue(e.Hr,n.Hr)}static Ur(e,n){return Ue(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}class e5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Gt(Wt.Kr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new p4(l,n,i,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new Wt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(e,n){return ae.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.Xr(i),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?Ly:this.Yn-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Wt(n,0),a=new Wt(n,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Gt(Ue);return n.forEach((a=>{const l=new Wt(a,0),u=new Wt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{i=i.add(f.Hr)}))})),ae.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;ve.isDocumentKey(l)||(l=l.child(""));const u=new Wt(new ve(l),0);let f=new Gt(Ue);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===a&&(f=f.add(p.Hr)),!0)}),u),ae.resolve(this.Yr(f))}Yr(e){const n=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ae.forEach(n.mutations,(a=>{const l=new Wt(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,n){const i=new Wt(n,0),a=this.Jr.firstAfterOrEqual(i);return ae.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class t5{constructor(e){this.ti=e,this.docs=(function(){return new xt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ae.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let i=Hi();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))})),ae.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Hi();const u=n.path,f=new ve(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:x}}=p.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||AP(SP(x),i)<=0||(a.has(x.key)||bf(n,x))&&(l=l.insert(x.key,x.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,n,i,a){we(9500)}ni(e,n){return ae.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new n5(this)}getSize(e){return ae.resolve(this.size)}}class n5 extends Y4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),ae.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class s5{constructor(e){this.persistence=e,this.ri=new qa((n=>zy(n)),Fy),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new Yy,this.targetCount=0,this.oi=il._r()}forEachTarget(e,n){return this.ri.forEach(((i,a)=>n(a))),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ii&&(this.ii=n),ae.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new il(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.lr(n),ae.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),ae.waitFor(l).next((()=>a))}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const i=this.ri.get(n)||null;return ae.resolve(i)}addMatchingKeys(e,n,i){return this.si.$r(n,i),ae.resolve()}removeMatchingKeys(e,n,i){this.si.Qr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),ae.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const i=this.si.jr(n);return ae.resolve(i)}containsKey(e,n){return ae.resolve(this.si.containsKey(n))}}class US{constructor(e,n){this._i={},this.overlays={},this.ai=new gf(0),this.ui=!1,this.ui=!0,this.ci=new Z4,this.referenceDelegate=e(this),this.li=new s5(this),this.indexManager=new z4,this.remoteDocumentCache=(function(a){return new t5(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new B4(n),this.Pi=new X4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this._i[e.toKey()];return i||(i=new e5(n,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const a=new i5(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,n){return ae.or(Object.values(this._i).map((i=>()=>i.containsKey(e,n))))}}class i5 extends RP{constructor(e){super(),this.currentSequenceNumber=e}}class Wy{constructor(e){this.persistence=e,this.Ri=new Yy,this.Ai=null}static Vi(e){return new Wy(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.di.delete(i.toString()),ae.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.di.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.di,(i=>{const a=ve.fromPath(i);return this.mi(e,a).next((l=>{l||n.removeEntry(a,Ee.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((i=>{i?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ae.or([()=>ae.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Qd{constructor(e,n){this.persistence=e,this.fi=new qa((i=>IP(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=K4(this,n)}static Vi(e,n){return new Qd(e,n)}Ti(){}Ii(e){return ae.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((a=>i+a))))}pr(e){let n=0;return this.mr(e,(i=>{n++})).next((()=>n))}mr(e,n){return ae.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?ae.resolve():n(a)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(u=>this.wr(e,u,n).next((f=>{f||(i++,l.removeEntry(u,Ee.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,n,i){return this.fi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ae.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=_d(e.data.value)),n}wr(e,n,i){return ae.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.fi.get(n);return ae.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qy{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.Ts=i,this.Is=a}static Es(e,n){let i=ze(),a=ze();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Qy(e,n.fromCache,i,a)}}class r5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class a5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Kj()?8:CP(mn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.gs(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(e,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new r5;return this.ys(e,n,u).next((f=>{if(l.result=f,this.As)return this.ws(e,n,u,f.size)}))})).next((()=>l.result))}ws(e,n,i,a){return i.documentReadCount<this.Vs?(Po()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(Po()<=Be.DEBUG&&me("QueryEngine","Query:",Mo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Po()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):ae.resolve())}gs(e,n){if(E_(n))return ae.resolve(null);let i=li(n);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Dg(n,null,"F"),i=li(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=ze(...l);return this.fs.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.bs(n,f);return this.Ss(n,y,u,p.readTime)?this.gs(e,Dg(n,null,"F")):this.Ds(e,y,n,p)}))))})))))}ps(e,n,i,a){return E_(n)||a.isEqual(Ee.min())?ae.resolve(null):this.fs.getDocuments(e,i).next((l=>{const u=this.bs(n,l);return this.Ss(n,u,i,a)?ae.resolve(null):(Po()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Mo(n)),this.Ds(e,u,n,EP(a,Yc)).next((f=>f)))}))}bs(e,n){let i=new Gt(yS(e));return n.forEach(((a,l)=>{bf(e,l)&&(i=i.add(l))})),i}Ss(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,n,i){return Po()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.fs.getDocumentsMatchingQuery(e,n,Fr.min(),i)}Ds(e,n,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const Xy="LocalStore",o5=3e8;class l5{constructor(e,n,i,a){this.persistence=e,this.Cs=n,this.serializer=a,this.vs=new xt(Ue),this.Fs=new qa((l=>zy(l)),Fy),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function c5(t,e,n,i){return new l5(t,e,n,i)}async function zS(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Os(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let p=ze();for(const y of a){u.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}for(const y of l){f.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}return n.localDocuments.getDocuments(i,p).next((y=>({Ns:y,removedBatchIds:u,addedBatchIds:f})))}))}))}function u5(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=n.xs.newChangeBuffer({trackRemovals:!0});return(function(f,p,y,x){const b=y.batch,T=b.keys();let j=ae.resolve();return T.forEach((D=>{j=j.next((()=>x.getEntry(p,D))).next((z=>{const B=y.docVersions.get(D);Qe(B!==null,48541),z.version.compareTo(B)<0&&(b.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),x.addEntry(z)))}))})),j.next((()=>f.mutationQueue.removeMutationBatch(p,b)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=ze();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function FS(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function h5(t,e){const n=Ae(t),i=e.snapshotVersion;let a=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.xs.newChangeBuffer({trackRemovals:!0});a=n.vs;const f=[];e.targetChanges.forEach(((x,b)=>{const T=a.get(b);if(!T)return;f.push(n.li.removeMatchingKeys(l,x.removedDocuments,b).next((()=>n.li.addMatchingKeys(l,x.addedDocuments,b))));let j=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(on.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):x.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(x.resumeToken,i)),a=a.insert(b,j),(function(z,B,F){return z.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=o5?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(T,j,x)&&f.push(n.li.updateTargetData(l,j))}));let p=Hi(),y=ze();if(e.documentUpdates.forEach((x=>{e.resolvedLimboDocuments.has(x)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,x))})),f.push(d5(l,u,e.documentUpdates).next((x=>{p=x.Bs,y=x.Ls}))),!i.isEqual(Ee.min())){const x=n.li.getLastRemoteSnapshotVersion(l).next((b=>n.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(x)}return ae.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(n.vs=a,l)))}function d5(t,e,n){let i=ze(),a=ze();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Hi();return n.forEach(((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(f)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):me(Xy,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)})),{Bs:u,Ls:a}}))}function f5(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ly),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function m5(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.li.getTargetData(i,e).next((l=>l?(a=l,ae.resolve(a)):n.li.allocateTargetId(i).next((u=>(a=new Ir(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.vs=n.vs.insert(i.targetId,i),n.Fs.set(e,i.targetId)),i}))}async function Lg(t,e,n){const i=Ae(t),a=i.vs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!yl(u))throw u;me(Xy,`Failed to update sequence numbers for target ${e}: ${u}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function O_(t,e,n){const i=Ae(t);let a=Ee.min(),l=ze();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,y,x){const b=Ae(p),T=b.Fs.get(x);return T!==void 0?ae.resolve(b.vs.get(T)):b.li.getTargetData(y,x)})(i,u,li(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,e,n?a:Ee.min(),n?l:ze()))).next((f=>(p5(i,ZP(e),f),{documents:f,ks:l})))))}function p5(t,e,n){let i=t.Ms.get(e)||Ee.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Ms.set(e,i)}class L_{constructor(){this.activeTargetIds=r4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g5{constructor(){this.vo=new L_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,i){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new L_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class y5{Mo(e){}shutdown(){}}const B_="ConnectivityMonitor";class U_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(B_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(B_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let od=null;function Bg(){return od===null?od=(function(){return 268435456+Math.round(2147483648*Math.random())})():od++,"0x"+od.toString(16)}const Qp="RestConnection",x5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class v5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Gd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,n,i,a,l){const u=Bg(),f=this.Qo(e,n.toUriEncodedString());me(Qp,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:y}=new URL(f),x=hl(y);return this.zo(e,f,p,i,x).then((b=>(me(Qp,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Ua(Qp,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",i),b}))}jo(e,n,i,a,l,u){return this.Wo(e,n,i,a,l)}Go(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,n){const i=x5[e];let a=`${this.qo}/v1/${n}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class b5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const cn="WebChannelConnection",Ac=(t,e,n)=>{t.listen(e,(i=>{try{n(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Yo extends v5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Yo.c_){const e=$E();Ac(e,GE.STAT_EVENT,(n=>{n.stat===Ag.PROXY?me(cn,"STAT_EVENT: detected buffering proxy"):n.stat===Ag.NOPROXY&&me(cn,"STAT_EVENT: detected no buffering proxy")})),Yo.c_=!0}}zo(e,n,i,a,l){const u=Bg();return new Promise(((f,p)=>{const y=new qE;y.setWithCredentials(!0),y.listenOnce(HE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case wd.NO_ERROR:const b=y.getResponseJson();me(cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case wd.TIMEOUT:me(cn,`RPC '${e}' ${u} timed out`),p(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case wd.HTTP_ERROR:const T=y.getStatus();if(me(cn,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const D=j?.error;if(D&&D.status&&D.message){const z=(function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN})(D.status);p(new de(z,D.message))}else p(new de(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(re.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(cn,`RPC '${e}' ${u} completed.`)}}));const x=JSON.stringify(a);me(cn,`RPC '${e}' ${u} sending request:`,a),y.send(n,"POST",x,i,15)}))}T_(e,n,i){const a=Bg(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const y=l.join("");me(cn,`Creating RPC '${e}' stream ${a}: ${y}`,f);const x=u.createWebChannel(y,f);this.I_(x);let b=!1,T=!1;const j=new b5({Ho:D=>{T?me(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(me(cn,`Opening RPC '${e}' stream ${a} transport.`),x.open(),b=!0),me(cn,`RPC '${e}' stream ${a} sending:`,D),x.send(D))},Jo:()=>x.close()});return Ac(x,jc.EventType.OPEN,(()=>{T||(me(cn,`RPC '${e}' stream ${a} transport opened.`),j.i_())})),Ac(x,jc.EventType.CLOSE,(()=>{T||(T=!0,me(cn,`RPC '${e}' stream ${a} transport closed`),j.o_(),this.E_(x))})),Ac(x,jc.EventType.ERROR,(D=>{T||(T=!0,Ua(cn,`RPC '${e}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),j.o_(new de(re.UNAVAILABLE,"The operation could not be completed")))})),Ac(x,jc.EventType.MESSAGE,(D=>{if(!T){const z=D.data[0];Qe(!!z,16349);const B=z,F=B?.error||B[0]?.error;if(F){me(cn,`RPC '${e}' stream ${a} received error:`,F);const $=F.status;let M=(function(I){const N=Ot[I];if(N!==void 0)return RS(N)})($),w=F.message;$==="NOT_FOUND"&&w.includes("database")&&w.includes("does not exist")&&w.includes(this.databaseId.database)&&Ua(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),M===void 0&&(M=re.INTERNAL,w="Unknown error status: "+$+" with message "+F.message),T=!0,j.o_(new de(M,w)),x.close()}else me(cn,`RPC '${e}' stream ${a} received:`,z),j.__(z)}})),Yo.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,i){super.Go(e,n,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return KE()}}function w5(t){return new Yo(t)}function Xp(){return typeof document<"u"?document:null}function Ef(t){return new S4(t,!0)}Yo.c_=!1;class qS{constructor(e,n,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const z_="PersistentStream";class HS{constructor(e,n,i,a,l,u,f,p){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{e((()=>{const a=new de(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,n){const i=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(me(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _5 extends HS{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=R4(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ee.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ee.min():u.readTime?ci(u.readTime):Ee.min()})(e);return this.listener.J_(n,i)}Z_(e){const n={};n.database=Og(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=Ig(p)?{documents:I4(l,p)}:{query:k4(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=IS(l,u.resumeToken);const y=Pg(l,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(Ee.min())>0){f.readTime=Wd(l,u.snapshotVersion.toTimestamp());const y=Pg(l,u.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=P4(this.serializer,e);i&&(n.labels=i),this.K_(n)}X_(e){const n={};n.database=Og(this.serializer),n.removeTarget=e,this.K_(n)}}class T5 extends HS{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=j4(e.writeResults,e.commitTime),i=ci(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Og(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>C4(this.serializer,i)))};this.K_(n)}}class E5{}class S5 extends E5{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(e,Mg(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(re.UNKNOWN,l.toString())}))}jo(e,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(e,Mg(n,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(re.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function A5(t,e,n,i){return new S5(t,e,n,i)}class N5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qi(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Fa="RemoteStore";class R5{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{Ha(this)&&(me(Fa,"Restarting streams for network reachability change."),await(async function(p){const y=Ae(p);y.Ea.add(4),await vu(y),y.Va.set("Unknown"),y.Ea.delete(4),await Sf(y)})(this))}))})),this.Va=new N5(i,a)}}async function Sf(t){if(Ha(t))for(const e of t.Ra)await e(!0)}async function vu(t){for(const e of t.Ra)await e(!1)}function GS(t,e){const n=Ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),t0(n)?e0(n):vl(n).O_()&&Zy(n,e))}function Jy(t,e){const n=Ae(t),i=vl(n);n.Ia.delete(e),i.O_()&&$S(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ha(n)&&n.Va.set("Unknown"))}function Zy(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vl(t).Z_(e)}function $S(t,e){t.da.$e(e),vl(t).X_(e)}function e0(t){t.da=new w4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),vl(t).start(),t.Va.ua()}function t0(t){return Ha(t)&&!vl(t).x_()&&t.Ia.size>0}function Ha(t){return Ae(t).Ea.size===0}function KS(t){t.da=void 0}async function C5(t){t.Va.set("Online")}async function j5(t){t.Ia.forEach(((e,n)=>{Zy(t,e)}))}async function I5(t,e){KS(t),t0(t)?(t.Va.ha(e),e0(t)):t.Va.set("Unknown")}async function k5(t,e,n){if(t.Va.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(t,e)}catch(i){me(Fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xd(t,i)}else if(e instanceof Sd?t.da.Xe(e):e instanceof CS?t.da.st(e):t.da.tt(e),!n.isEqual(Ee.min()))try{const i=await FS(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const x=l.Ia.get(y);x&&l.Ia.set(y,x.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,y)=>{const x=l.Ia.get(p);if(!x)return;l.Ia.set(p,x.withResumeToken(on.EMPTY_BYTE_STRING,x.snapshotVersion)),$S(l,p);const b=new Ir(x.target,p,y,x.sequenceNumber);Zy(l,b)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){me(Fa,"Failed to raise snapshot:",i),await Xd(t,i)}}async function Xd(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await vu(t),t.Va.set("Offline"),n||(n=()=>FS(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{me(Fa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sf(t)}))}function YS(t,e){return e().catch((n=>Xd(t,n,e)))}async function Af(t){const e=Ae(t),n=$r(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ly;for(;D5(e);)try{const a=await f5(e.localStore,i);if(a===null){e.Ta.length===0&&n.L_();break}i=a.batchId,P5(e,a)}catch(a){await Xd(e,a)}WS(e)&&QS(e)}function D5(t){return Ha(t)&&t.Ta.length<10}function P5(t,e){t.Ta.push(e);const n=$r(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function WS(t){return Ha(t)&&!$r(t).x_()&&t.Ta.length>0}function QS(t){$r(t).start()}async function M5(t){$r(t).ra()}async function V5(t){const e=$r(t);for(const n of t.Ta)e.ea(n.mutations)}async function O5(t,e,n){const i=t.Ta.shift(),a=Gy.from(i,e,n);await YS(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Af(t)}async function L5(t,e){e&&$r(t).Y_&&await(async function(i,a){if((function(u){return x4(u)&&u!==re.ABORTED})(a.code)){const l=i.Ta.shift();$r(i).B_(),await YS(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Af(i)}})(t,e),WS(t)&&QS(t)}async function F_(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),me(Fa,"RemoteStore received new credentials");const i=Ha(n);n.Ea.add(3),await vu(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sf(n)}async function B5(t,e){const n=Ae(t);e?(n.Ea.delete(2),await Sf(n)):e||(n.Ea.add(2),await vu(n),n.Va.set("Unknown"))}function vl(t){return t.ma||(t.ma=(function(n,i,a){const l=Ae(n);return l.sa(),new _5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:C5.bind(null,t),Yo:j5.bind(null,t),t_:I5.bind(null,t),J_:k5.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),t0(t)?e0(t):t.Va.set("Unknown")):(await t.ma.stop(),KS(t))}))),t.ma}function $r(t){return t.fa||(t.fa=(function(n,i,a){const l=Ae(n);return l.sa(),new T5(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:M5.bind(null,t),t_:L5.bind(null,t),ta:V5.bind(null,t),na:O5.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await Af(t)):(await t.fa.stop(),t.Ta.length>0&&(me(Fa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class n0{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,f=new n0(e,n,u,a,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s0(t,e){if(qi("AsyncQueue",`${e}: ${t}`),yl(t))return new de(re.UNAVAILABLE,`${e}: ${t}`);throw t}class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||ve.comparator(n.key,i.key):(n,i)=>ve.comparator(n.key,i.key),this.keyedMap=Ic(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class q_{constructor(){this.ga=new xt(ve.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class rl{constructor(e,n,i,a,l,u,f,p,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new rl(e,n,Wo.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}class U5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class z5{constructor(){this.queries=H_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Ae(n),l=a.queries;a.queries=H_(),l.forEach(((u,f)=>{for(const p of f.ba)p.onError(i)}))})(this,new de(re.ABORTED,"Firestore shutting down"))}}function H_(){return new qa((t=>gS(t)),vf)}async function F5(t,e){const n=Ae(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new U5,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=s0(u,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ba.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&i0(n)}async function q5(t,e){const n=Ae(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.ba.indexOf(e);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function H5(t,e){const n=Ae(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(i=!0);u.wa=a}}i&&i0(n)}function G5(t,e,n){const i=Ae(t),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(n);i.queries.delete(e)}function i0(t){t.Ca.forEach((e=>{e.next()}))}var Ug,G_;(G_=Ug||(Ug={})).Ma="default",G_.Cache="cache";class $5{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new rl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ug.Cache}}class XS{constructor(e){this.key=e}}class JS{constructor(e){this.key=e}}class K5{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=yS(e),this.tu=new Wo(this.eu)}get nu(){return this.Za}ru(e,n){const i=n?n.iu:new q_,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((x,b)=>{const T=a.get(x),j=bf(this.query,b)?b:null,D=!!T&&this.mutatedKeys.has(T.key),z=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let B=!1;T&&j?T.data.isEqual(j.data)?D!==z&&(i.track({type:3,doc:j}),B=!0):this.su(T,j)||(i.track({type:2,doc:j}),B=!0,(p&&this.eu(j,p)>0||y&&this.eu(j,y)<0)&&(f=!0)):!T&&j?(i.track({type:0,doc:j}),B=!0):T&&!j&&(i.track({type:1,doc:T}),B=!0,(p||y)&&(f=!0)),B&&(j?(u=u.add(j),l=z?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{tu:u,iu:i,Ss:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((x,b)=>(function(j,D){const z=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:B})}};return z(j)-z(D)})(x.type,b.type)||this.eu(x.doc,b.doc))),this.ou(i),a=a??!1;const f=n&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,y=p!==this.Xa;return this.Xa=p,u.length!==0||y?{snapshot:new rl(this.query,e.tu,l,u,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const n=[];return e.forEach((i=>{this.Ya.has(i)||n.push(new JS(i))})),this.Ya.forEach((i=>{e.has(i)||n.push(new XS(i))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const r0="SyncEngine";class Y5{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class W5{constructor(e){this.key=e,this.hu=!1}}class Q5{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new qa((f=>gS(f)),vf),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(ve.comparator),this.Au=new Map,this.Vu=new Yy,this.du={},this.mu=new Map,this.fu=il.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X5(t,e,n=!0){const i=iA(t);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await ZS(i,e,n,!0),a}async function J5(t,e){const n=iA(t);await ZS(n,e,!0,!1)}async function ZS(t,e,n,i){const a=await m5(t.localStore,li(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await Z5(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&GS(t.remoteStore,a),f}async function Z5(t,e,n,i,a){t.pu=(b,T,j)=>(async function(z,B,F,$){let M=B.view.ru(F);M.Ss&&(M=await O_(z.localStore,B.query,!1).then((({documents:N})=>B.view.ru(N,M))));const w=$&&$.targetChanges.get(B.targetId),E=$&&$.targetMismatches.get(B.targetId)!=null,I=B.view.applyChanges(M,z.isPrimaryClient,w,E);return K_(z,B.targetId,I.au),I.snapshot})(t,b,T,j);const l=await O_(t.localStore,e,!0),u=new K5(e,l.ks),f=u.ru(l.documents),p=xu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),y=u.applyChanges(f,t.isPrimaryClient,p);K_(t,n,y.au);const x=new Y5(e,n,u);return t.Tu.set(e,x),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),y.snapshot}async function eM(t,e,n){const i=Ae(t),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!vf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Lg(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Jy(i.remoteStore,a.targetId),zg(i,a.targetId)})).catch(gl)):(zg(i,a.targetId),await Lg(i.localStore,a.targetId,!0))}async function tM(t,e){const n=Ae(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Jy(n.remoteStore,i.targetId))}async function nM(t,e,n){const i=cM(t);try{const a=await(function(u,f){const p=Ae(u),y=dt.now(),x=f.reduce(((j,D)=>j.add(D.key)),ze());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let D=Hi(),z=ze();return p.xs.getEntries(j,x).next((B=>{D=B,D.forEach(((F,$)=>{$.isValidDocument()||(z=z.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,D))).next((B=>{b=B;const F=[];for(const $ of f){const M=f4($,b.get($.key).overlayedDocument);M!=null&&F.push(new Qr($.key,M,oS(M.value.mapValue),Es.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,F,f)})).next((B=>{T=B;const F=B.applyToLocalDocumentSet(b,z);return p.documentOverlayCache.saveOverlays(j,B.batchId,F)}))})).then((()=>({batchId:T.batchId,changes:vS(b)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,p){let y=u.du[u.currentUser.toKey()];y||(y=new xt(Ue)),y=y.insert(f,p),u.du[u.currentUser.toKey()]=y})(i,a.batchId,n),await bu(i,a.changes),await Af(i.remoteStore)}catch(a){const l=s0(a,"Failed to persist write");n.reject(l)}}async function eA(t,e){const n=Ae(t);try{const i=await h5(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(Qe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?Qe(u.hu,14607):a.removedDocuments.size>0&&(Qe(u.hu,42227),u.hu=!1))})),await bu(n,i,e)}catch(i){await gl(i)}}function $_(t,e,n){const i=Ae(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const p=Ae(u);p.onlineState=f;let y=!1;p.queries.forEach(((x,b)=>{for(const T of b.ba)T.va(f)&&(y=!0)})),y&&i0(p)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function sM(t,e,n){const i=Ae(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Au.get(e),l=a&&a.key;if(l){let u=new xt(ve.comparator);u=u.insert(l,dn.newNoDocument(l,Ee.min()));const f=ze().add(l),p=new Tf(Ee.min(),new Map,new xt(Ue),u,f);await eA(i,p),i.Ru=i.Ru.remove(l),i.Au.delete(e),a0(i)}else await Lg(i.localStore,e,!1).then((()=>zg(i,e,n))).catch(gl)}async function iM(t,e){const n=Ae(t),i=e.batch.batchId;try{const a=await u5(n.localStore,e);nA(n,i,null),tA(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await bu(n,a)}catch(a){await gl(a)}}async function rM(t,e,n){const i=Ae(t);try{const a=await(function(u,f){const p=Ae(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let x;return p.mutationQueue.lookupMutationBatch(y,f).next((b=>(Qe(b!==null,37113),x=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,x,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x))).next((()=>p.localDocuments.getDocuments(y,x)))}))})(i.localStore,e);nA(i,e,n),tA(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await bu(i,a)}catch(a){await gl(a)}}function tA(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function nA(t,e,n){const i=Ae(t);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function zg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((i=>{t.Vu.containsKey(i)||sA(t,i)}))}function sA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Jy(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),a0(t))}function K_(t,e,n){for(const i of n)i instanceof XS?(t.Vu.addReference(i.key,e),aM(t,i)):i instanceof JS?(me(r0,"Document no longer in limbo: "+i.key),t.Vu.removeReference(i.key,e),t.Vu.containsKey(i.key)||sA(t,i.key)):we(19791,{wu:i})}function aM(t,e){const n=e.key,i=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(i)||(me(r0,"New document in limbo: "+n),t.Eu.add(i),a0(t))}function a0(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(ot.fromString(e)),i=t.fu.next();t.Au.set(i,new W5(n)),t.Ru=t.Ru.insert(n,i),GS(t.remoteStore,new Ir(li(mS(n.path)),i,"TargetPurposeLimboResolution",gf.ce))}}async function bu(t,e,n){const i=Ae(t),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{u.push(i.pu(p,e,n).then((y=>{if((y||n)&&i.isPrimaryClient){const x=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(y){a.push(y);const x=Qy.Es(p.targetId,y);l.push(x)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(p,y){const x=Ae(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ae.forEach(y,(T=>ae.forEach(T.Ts,(j=>x.persistence.referenceDelegate.addReference(b,T.targetId,j))).next((()=>ae.forEach(T.Is,(j=>x.persistence.referenceDelegate.removeReference(b,T.targetId,j)))))))))}catch(b){if(!yl(b))throw b;me(Xy,"Failed to update sequence numbers: "+b)}for(const b of y){const T=b.targetId;if(!b.fromCache){const j=x.vs.get(T),D=j.snapshotVersion,z=j.withLastLimboFreeSnapshotVersion(D);x.vs=x.vs.insert(T,z)}}})(i.localStore,l))}async function oM(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){me(r0,"User change. New user:",e.toKey());const i=await zS(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new de(re.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await bu(n,i.Ns)}}function lM(t,e){const n=Ae(t),i=n.Au.get(e);if(i&&i.hu)return ze().add(i.key);{let a=ze();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const f=n.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function iA(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sM.bind(null,e),e.Pu.J_=H5.bind(null,e.eventManager),e.Pu.yu=G5.bind(null,e.eventManager),e}function cM(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rM.bind(null,e),e}class Jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return c5(this.persistence,new a5,e.initialUser,this.serializer)}Cu(e){return new US(Wy.Vi,this.serializer)}Du(e){return new g5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jd.provider={build:()=>new Jd};class uM extends Jd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Qd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new G4(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new US((i=>Qd.Vi(i,n)),this.serializer)}}class Fg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=oM.bind(null,this.syncEngine),await B5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new z5})()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),i=w5(e.databaseInfo);return A5(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,a,l,u,f){return new R5(i,a,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>$_(this.syncEngine,n,0)),(function(){return U_.v()?new U_:new y5})())}createSyncEngine(e,n){return(function(a,l,u,f,p,y,x){const b=new Q5(a,l,u,f,p,y);return x&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=Ae(n);me(Fa,"RemoteStore shutting down."),i.Ea.add(5),await vu(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Fg.provider={build:()=>new Fg};class hM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Kr="FirestoreClient";class dM{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this._databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=Oy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{me(Kr,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(me(Kr,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=s0(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Jp(t,e){t.asyncQueue.verifyOperationInProgress(),me(Kr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async a=>{i.isEqual(a)||(await zS(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fM(t);me(Kr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>F_(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,a)=>F_(e.remoteStore,a))),t._onlineComponents=e}async function fM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Kr,"Using user provided OfflineComponentProvider");try{await Jp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Ua("Error using user provided cache. Falling back to memory cache: "+n),await Jp(t,new Jd)}}else me(Kr,"Using default OfflineComponentProvider"),await Jp(t,new uM(void 0));return t._offlineComponents}async function rA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Kr,"Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(me(Kr,"Using default OnlineComponentProvider"),await Y_(t,new Fg))),t._onlineComponents}function mM(t){return rA(t).then((e=>e.syncEngine))}async function pM(t){const e=await rA(t),n=e.eventManager;return n.onListen=X5.bind(null,e.syncEngine),n.onUnlisten=eM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tM.bind(null,e.syncEngine),n}function gM(t,e,n={}){const i=new Lr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,y){const x=new hM({next:T=>{x.Nu(),u.enqueueAndForget((()=>q5(l,b))),T.fromCache&&p.source==="server"?y.reject(new de(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new $5(f,x,{includeMetadataChanges:!0,Ka:!0});return F5(l,b)})(await pM(t),t.asyncQueue,e,n,i))),i.promise}function yM(t,e){const n=new Lr;return t.asyncQueue.enqueueAndForget((async()=>nM(await mM(t),e,n))),n.promise}function aA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const xM="ComponentProvider",W_=new Map;function vM(t,e,n,i,a){return new PP(t,e,n,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,aA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const oA="firestore.googleapis.com",Q_=!0;class X_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oA,this.ssl=Q_}else this.host=e.host,this.ssl=e.ssl??Q_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q4)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nf{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new fP;switch(i.type){case"firstParty":return new yP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=W_.get(n);i&&(me(xM,"Removing Datastore"),W_.delete(n),i.terminate())})(this),Promise.resolve()}}function bM(t,e,n,i={}){t=za(t,Nf);const a=hl(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;a&&(JT(`https://${f}`),ZT("Firestore",!0)),l.host!==oA&&l.host!==f&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:a,emulatorOptions:i};if(!Va(p,u)&&(t._setSettings(p),i.mockUserToken)){let y,x;if(typeof i.mockUserToken=="string")y=i.mockUserToken,x=hn.MOCK_USER;else{y=Lj(i.mockUserToken,t._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new hn(b)}t._authCredentials=new mP(new WE(y,x))}}class Ga{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ga(this.firestore,e,this._query)}}class Ht{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(gu(n,Ht._jsonSchema))return new Ht(e,i||null,new ve(ot.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Ut("string",Ht._jsonSchemaVersion),referencePath:Ut("string")};class Br extends Ga{constructor(e,n,i){super(e,n,mS(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new ve(e))}withConverter(e){return new Br(this.firestore,e,this._path)}}function J_(t,e,...n){if(t=Qt(t),QE("collection","path",e),t instanceof Nf){const i=ot.fromString(e,...n);return u_(i),new Br(t,null,i)}{if(!(t instanceof Ht||t instanceof Br))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return u_(i),new Br(t.firestore,null,i)}}function qg(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=Oy.newId()),QE("doc","path",e),t instanceof Nf){const i=ot.fromString(e,...n);return c_(i),new Ht(t,null,new ve(i))}{if(!(t instanceof Ht||t instanceof Br))throw new de(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ot.fromString(e,...n));return c_(i),new Ht(t.firestore,t instanceof Br?t.converter:null,new ve(i))}}const Z_="AsyncQueue";class e1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qS(this,"async_queue_retry"),this._c=()=>{const i=Xp();i&&me(Z_,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;me(Z_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,qi("INTERNAL UNHANDLED ERROR: ",t1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=n0.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&we(47125,{Pc:t1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function t1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wu extends Nf{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new e1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e1(e),this._firestoreClient=void 0,await e}}}function wM(t,e){const n=typeof t=="object"?t:sE(),i=typeof t=="string"?t:Gd,a=Ey(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Vj("firestore");l&&bM(a,...l)}return a}function lA(t){if(t._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_M(t),t._firestoreClient}function _M(t){const e=t._freezeSettings(),n=vM(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new dM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}class ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ns(on.fromBase64String(e))}catch(n){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ns(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ns._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,ns._jsonSchema))return ns.fromBase64String(e.bytes)}}ns._jsonSchemaVersion="firestore/bytes/1.0",ns._jsonSchema={type:Ut("string",ns._jsonSchemaVersion),bytes:Ut("string")};class o0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Rf{constructor(e){this._methodName=e}}class ui{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(e){if(gu(e,ui._jsonSchema))return new ui(e.latitude,e.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:Ut("string",ui._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class Ss{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ss(e.vectorValues);throw new de(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Ut("string",Ss._jsonSchemaVersion),vectorValues:Ut("object")};const TM=/^__.*__$/;class EM{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class cA{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Qr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:t})}}class l0{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new l0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const n=this.path?.child(e),i=this.contextWith({path:n,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zd(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uA(this.dataSource)&&TM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class SM{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ef(e)}createContext(e,n,i,a=!1){return new l0({dataSource:e,methodName:n,targetDoc:i,path:an.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function c0(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new SM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AM(t,e,n,i,a,l={}){const u=t.createContext(l.merge||l.mergeFields?2:0,e,n,a);h0("Data must be an object, but it was:",u,i);const f=hA(i,u);let p,y;if(l.merge)p=new On(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const b of l.mergeFields){const T=al(e,b,n);if(!u.contains(T))throw new de(re.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);mA(x,T)||x.push(T)}p=new On(x),y=u.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=u.fieldTransforms;return new EM(new Nn(f),p,y)}class Cf extends Rf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cf}}class u0 extends Rf{_toFieldTransform(e){return new c4(e.path,new Zc)}isEqual(e){return e instanceof u0}}function NM(t,e,n,i){const a=t.createContext(1,e,n);h0("Data must be an object, but it was:",a,i);const l=[],u=Nn.empty();Wr(i,((p,y)=>{const x=fA(e,p,n);y=Qt(y);const b=a.childContextForFieldPath(x);if(y instanceof Cf)l.push(x);else{const T=_u(y,b);T!=null&&(l.push(x),u.set(x,T))}}));const f=new On(l);return new cA(u,f,a.fieldTransforms)}function RM(t,e,n,i,a,l){const u=t.createContext(1,e,n),f=[al(e,i,n)],p=[a];if(l.length%2!=0)throw new de(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(al(e,l[T])),p.push(l[T+1]);const y=[],x=Nn.empty();for(let T=f.length-1;T>=0;--T)if(!mA(y,f[T])){const j=f[T];let D=p[T];D=Qt(D);const z=u.childContextForFieldPath(j);if(D instanceof Cf)y.push(j);else{const B=_u(D,z);B!=null&&(y.push(j),x.set(j,B))}}const b=new On(y);return new cA(x,b,u.fieldTransforms)}function CM(t,e,n,i=!1){return _u(n,t.createContext(i?4:3,e))}function _u(t,e){if(dA(t=Qt(t)))return h0("Unsupported field value:",e,t),hA(t,e);if(t instanceof Rf)return(function(i,a){if(!uA(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let p=_u(f,a.childContextForArray(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,a){if((i=Qt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return a4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=dt.fromDate(i);return{timestampValue:Wd(a.serializer,l)}}if(i instanceof dt){const l=new dt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wd(a.serializer,l)}}if(i instanceof ui)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ns)return{bytesValue:IS(a.serializer,i._byteString)};if(i instanceof Ht){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ky(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Ss)return(function(u,f){const p=u instanceof Ss?u.toArray():u;return{mapValue:{fields:{[rS]:{stringValue:aS},[$d]:{arrayValue:{values:p.map((x=>{if(typeof x!="number")throw f.createError("VectorValues must only contain numeric values.");return qy(f.serializer,x)}))}}}}}})(i,a);if(LS(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${pf(i)}`)})(t,e)}function hA(t,e){const n={};return ZE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,((i,a)=>{const l=_u(a,e.childContextForField(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function dA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof dt||t instanceof ui||t instanceof ns||t instanceof Ht||t instanceof Rf||t instanceof Ss||LS(t))}function h0(t,e,n){if(!dA(n)||!XE(n)){const i=pf(n);throw i==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function al(t,e,n){if((e=Qt(e))instanceof o0)return e._internalPath;if(typeof e=="string")return fA(t,e);throw Zd("Field path arguments must be of type string or ",t,!1,void 0,n)}const jM=new RegExp("[~\\*/\\[\\]]");function fA(t,e,n){if(e.search(jM)>=0)throw Zd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new o0(...e.split("."))._internalPath}catch{throw Zd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zd(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${a}`),p+=")"),new de(re.INVALID_ARGUMENT,f+t+p)}function mA(t,e){return t.some((n=>n.isEqual(e)))}class IM{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Wr(e,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(e){const n=e.fields?.[$d].arrayValue?.values?.map((i=>Rt(i.doubleValue)));return new Ss(n)}convertGeoPoint(e){return new ui(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=xf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=qr(e);return new dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ot.fromString(e);Qe(OS(i),9688,{name:e});const a=new Qc(i.get(1),i.get(3)),l=new ve(i.popFirst(5));return a.isEqual(n)||qi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}class kM extends IM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ns(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function n1(){return new u0("serverTimestamp")}const s1="@firebase/firestore",i1="4.11.0";class pA{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(al("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DM extends pA{data(){return super.data()}}function PM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d0{}class gA extends d0{}function MM(t,e,...n){let i=[];e instanceof d0&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((p=>p instanceof m0)).length,f=l.filter((p=>p instanceof f0)).length;if(u>1||u>0&&f>0)throw new de(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)t=a._apply(t);return t}class f0 extends gA{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new f0(e,n,i)}_apply(e){const n=this._parse(e);return yA(e._query,n),new Ga(e.firestore,e.converter,kg(e._query,n))}_parse(e){const n=c0(e.firestore);return(function(l,u,f,p,y,x,b){let T;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new de(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){a1(b,x);const D=[];for(const z of b)D.push(r1(p,l,z));T={arrayValue:{values:D}}}else T=r1(p,l,b)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||a1(b,x),T=CM(f,u,b,x==="in"||x==="not-in");return Bt.create(y,x,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class m0 extends d0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new m0(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Cs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const p of f)yA(u,p),u=kg(u,p)})(e._query,n),new Ga(e.firestore,e.converter,kg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class p0 extends gA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new p0(e,n)}_apply(e){const n=(function(a,l,u){if(a.startAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(l,u)})(e._query,this._field,this._direction);return new Ga(e.firestore,e.converter,JP(e._query,n))}}function VM(t,e="asc"){const n=e,i=al("orderBy",t);return p0._create(i,n)}function r1(t,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new de(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pS(e)&&n.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ot.fromString(n));if(!ve.isDocumentKey(i))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return x_(t,new ve(i))}if(n instanceof Ht)return x_(t,n._key);throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pf(n)}.`)}function a1(t,e){if(!Array.isArray(t)||t.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yA(t,e){const n=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function OM(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class ld{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qo extends pA{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(al("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qo._jsonSchema={type:Ut("string",Qo._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Ad extends Qo{data(e={}){return super.data(e)}}class Xo{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ld(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Ad(this._firestore,this._userDataWriter,i.key,i,new ld(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const p=new Ad(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ld(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Ad(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ld(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,x=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:LM(f.type),doc:p,oldIndex:y,newIndex:x}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Oy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:t})}}Xo._jsonSchemaVersion="firestore/querySnapshot/1.0",Xo._jsonSchema={type:Ut("string",Xo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};function BM(t){t=za(t,Ga);const e=za(t.firestore,wu),n=lA(e),i=new kM(e);return PM(t._query),gM(n,t._query).then((a=>new Xo(e,i,t,a)))}function UM(t,e,n,...i){t=za(t,Ht);const a=za(t.firestore,wu),l=c0(a);let u;return u=typeof(e=Qt(e))=="string"||e instanceof o0?RM(l,"updateDoc",t._key,e,n,i):NM(l,"updateDoc",t._key,e),g0(a,[u.toMutation(t._key,Es.exists(!0))])}function zM(t){return g0(za(t.firestore,wu),[new Hy(t._key,Es.none())])}function FM(t,e){const n=za(t.firestore,wu),i=qg(t),a=OM(t.converter,e),l=c0(t.firestore);return g0(n,[AM(l,"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Es.exists(!1))]).then((()=>i))}function g0(t,e){const n=lA(t);return yM(n,e)}(function(e,n=!0){dP(dl),Zo(new Oa("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new wu(new pP(i.getProvider("auth-internal")),new xP(u,i.getProvider("app-check-internal")),MP(u,a),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Mr(s1,i1,e),Mr(s1,i1,"esm2020")})();const qM={apiKey:"AIzaSyDRenQjyt9gknve6tUItfUnaGjfoEZx-8s",authDomain:"book-site-123.web.app",projectId:"book-site-123",storageBucket:"book-site-123.firebasestorage.app",messagingSenderId:"176157090689",appId:"1:176157090689:web:107f25429239f25ffd7e80"},xA=nE(qM),Ur=uP(xA),cd=wM(xA),HM=new ri;AE(Ur,Dy).catch(t=>console.error("Persistence error:",t));const GM=async()=>(await AE(Ur,Dy),ED(Ur,HM)),$M=()=>eD(Ur),zr=[{id:"bill-gates",name:"Bill Gates",role:"Technical Advisor",image:"/images/celebrities/bill-gates.jpg",readingNow:"The Song of the Cell",intro:"         .   50   ,      'GatesNotes'  .",quote:"     .",stats:{books:154,categories:12,time:"18h"},books:[{id:"sapiens",title:"",author:" ",cover:"/images/covers/sapiens.jpg",desc:"    .    .",review:`  <>                 .         ,           ' ' .     ,     .      .   ,        ?

         .    ,            .      ,  ' '   .

        .    ,             .      ,             .

      .    ,      ?           ,          .            .        ,      ?           ,   <>   .       ,      .             .`,source:"GatesNotes: Summer Reading 2016",price:"22,000",category:""},{id:"factfulness",title:"",author:" ",cover:"/images/covers/factfulness.jpg",desc:"     .",review:`<>       .     ,      . "  ,    ."         .

     ' ' ' '          .       ,     .     ,    .

            .                 .       .     ,        .        "  ?"   .       ,           .`,source:"GatesNotes: Summer Reading 2018",price:"19,800",category:""},{title:" ",author:" ",cover:"/images/covers/b_03.jpg",desc:"    ?  .",source:"GatesNotes: Summer Reading 2017",price:"22,000",category:""},{title:"21  21 ",author:" ",cover:"/images/covers/b_04.jpg",desc:"      .",source:"GatesNotes: Summer Reading 2018",price:"22,000",category:""},{title:"  8 ",author:" ",cover:"/images/covers/b_06.jpg",desc:"     .",source:"GatesNotes: Recommended / Interviews",price:"22,000",category:""},{title:" ",author:" ",cover:"/images/covers/b_07.jpg",desc:"       .",source:"GatesNotes: Summer Reading 2019",price:"16,000",category:""},{title:"    ",author:" ",cover:"/images/covers/b_08.jpg",desc:"     .",source:"GatesNotes: Winter Reading 2019",price:"18,000",category:""},{title:" ",author:" ",cover:"/images/covers/b_09.jpg",desc:"AI      .",source:"GatesNotes: Summer Reading 2021",price:"17,000",category:""},{title:" ",author:" ",cover:"/images/covers/b_10.jpg",desc:"    .",source:"GatesNotes: Holiday Books 2021",price:"18,500",category:"SF"},{id:"leverage",title:"",author:" ",cover:"/images/covers/rm_01.jpg",desc:"      .",review:`  <>  ''       .                . "      ?"

     ,              .    .              .

       .      .        ,       .           .   .         ,         .         .          .       .`,price:"18,000",category:"/"},{id:"one-thing",title:"",author:" ",cover:"/images/covers/one_01.jpg",desc:"       .",review:`  <>          .     ,        . "      ,             ?"

       .        ,        .

         .           .        .            .        .          ,      .        ""   .                    .`,price:"16,000",category:""}]},{id:"elon-musk",name:"Elon Musk",role:"CEO of Tesla & SpaceX",image:"/images/celebrities/elon-musk.jpg",readingNow:"The Capitalist Manifesto",intro:"SpaceX Tesla CEO.   ,        .",quote:"  .     .",stats:{books:62,categories:5,time:"10h"},books:[{title:"",author:" ",cover:"/images/covers/e_01.jpg",desc:"      SF .",source:"Rolling Stone Interview (2017)",price:"18,000",category:"SF"},{title:"",author:" ",cover:"/images/covers/e_02.jpg",desc:"AI       .",source:"Twitter (@elonmusk) - 2014.08.03",price:"25,000",category:""},{title:"    ",author:" ",cover:"/images/covers/e_03.jpg",desc:"     SF.",source:"Fresh Air Interview (NPR) - 2013",price:"15,000",category:"SF"},{title:"  ",author:" ",cover:"/images/covers/e_05.jpg",desc:"  .  .",source:"Book Blurb ()",price:"16,000",category:""},{title:"   ",author:" ",cover:"/images/covers/e_06.jpg",desc:"    .",source:"Foundation 20 Interview (2012)",price:"25,000",category:""},{title:"   ",author:" ",cover:"/images/covers/e_07.jpg",desc:"  .    .",source:"Twitter (@elonmusk) - 2011.10.19",price:"45,000",category:""}]},{id:"rm-bts",name:" (RM)",role:"Artist (BTS)",image:"/images/celebrities/rm-bts.jpg",readingNow:"The Unbearable Lightness of Being",intro:"  BTS .      '', ''       .",quote:"        .",stats:{books:180,categories:8,time:"15h"},books:[{id:"demian",title:"",author:" ",cover:"/images/covers/demian.jpg",desc:"BTS '  '      .",review:`<>     .          ,          . "   "     .        ''      .

     ,            .                 .

     ,        .      ,         .          .          ,          .        .      ,      .           .`,source:"WINGS Album Concept (2016)",price:"8,000",category:""},{id:"almond",title:"",author:"",cover:"/images/covers/almond.jpg",desc:"      .",review:`<>        .     ''  ,                 .

 ,          ''   .                ,         .

   ,       .          ,          .          .             .            .         .`,source:"JTBC 'In the SOOP' Season 1 (2020)",price:"12,000",category:""},{title:"    ",author:" ",cover:"/images/covers/lightness.jpg",desc:"     .",source:"V LIVE (2017.11.02)",price:"15,000",category:""},{title:"  ( )",author:" ",cover:"/images/covers/r_04.jpg",desc:"     .",source:"V LIVE (2017)",price:"16,800",category:""},{id:"vegetarian",title:"",author:"",cover:"/images/covers/vegetarian.jpg",desc:" .    .",source:"V LIVE / Fancafe Recommendation",price:"13,500",category:""},{title:" ",author:"",cover:"/images/covers/human_acts.jpg",desc:" 5    .",source:"Fancafe Recommendation",price:"13,500",category:""},{title:"",author:" ",cover:"/images/covers/r_07.jpg",desc:"    .",source:"V LIVE (2016)",price:"9,000",category:""},{id:"1984",title:"1984",author:" ",cover:"/images/covers/1984.jpg",desc:"     .",review:`  <1984>           . '    '       ,        .        ,          .

    ''   (Newspeak)    .              ? '   '           .         .       ,               .   ,            .`,source:"Interview (KBS News 9, 2020)",price:"9,500",category:""},{title:" ",author:"J.D. ",cover:"/images/covers/catcher_in_the_rye.jpg",desc:"     .",source:"Fancafe Recommendation",price:"10,800",category:""}]},{id:"han-kang",name:"Han Kang",role:"Nobel Laureate Author",image:"/images/celebrities/han-kang.jpg",readingNow:"The White Book",intro:"2024   .            .",quote:"   .",stats:{books:1200,categories:3,time:"28h"},books:[{id:"vegetarian",title:"",author:"",cover:"/images/covers/vegetarian.jpg",desc:"  .        .",review:` <>       .          ,            .  ''       ''          .

       ,         .        ,              .

              .        ,      .        ,   ,   ,           .               .           ,        .`,source:"The Vegetarian (Published 2007)",price:"13,500",category:""},{title:" ",author:"",cover:"/images/covers/human_acts.jpg",desc:"5.18       .",review:` ' ' 1980     ,         .       ,            . 

 '' ''     ,          .           ,        .         ,  ,    .     ''  .            ,                . ,             .`,source:"Human Acts (Published 2014)",price:"13,500",category:""},{title:"",author:"",cover:"/images/covers/h_02.jpg",desc:" ,     .",source:"The White Book (Published 2016)",price:"13,000",category:""},{title:" ",author:"",cover:"/images/covers/h_03.jpg",desc:" 4.3     .",source:"We Do Not Part (Published 2021)",price:"14,000",category:""}]},{id:"steve-jobs",name:"Steve Jobs",role:"Co-founder of Apple",image:"/images/celebrities/steve-jobs.jpg",readingNow:"Autobiography of a Yogi",intro:" .            .",quote:" ,  . (Stay Hungry, Stay Foolish)",stats:{books:55,categories:4,time:""},books:[{title:"",author:" ",cover:"/images/covers/s_01.jpg",desc:"       .",source:"Steve Jobs by Walter Isaacson",price:"12,000",category:""},{title:"  ",author:" ",cover:"/images/covers/s_02.jpg",desc:"    .",source:"Steve Jobs by Walter Isaacson",price:"18,000",category:""},{title:" ",author:" ",cover:"/images/covers/s_03.jpg",desc:"     .",source:"   (Walter Isaacson)",price:"22,000",category:""},{title:" ",author:" ",cover:"/images/covers/s_04.jpg",desc:"     .",source:"   (Walter Isaacson)",price:"8,000",category:""}]},{id:"mark-zuckerberg",name:"Mark Zuckerberg",role:"CEO of Meta",image:"/images/celebrities/mark-zuckerberg.jpg",readingNow:"The Beginning of Infinity",intro:"(Meta) . 2015 'A Year of Books'   2       .",quote:"          .",stats:{books:85,categories:9,time:"9h"},books:[{title:"   ",author:" ",cover:"/images/covers/ju_02.jpg",desc:"      .",source:"A Year of Books (2015)",price:"45,000",category:""},{title:"",author:" ",cover:"/images/covers/sapiens.jpg",desc:"   .",source:"A Year of Books (2015)",price:"22,000",category:""},{title:"  ",author:" ",cover:"/images/covers/ju_01.jpg",desc:"    .",source:"A Year of Books (2015)",price:"25,000",category:""}]},{id:"barack-obama",name:"Barack Obama",role:"44th U.S. President",image:"/images/celebrities/barack-obama.jpg",readingNow:"The Wager",intro:" 44 .         ,     .",quote:"   ,  .",stats:{books:320,categories:15,time:"12h"},books:[{title:" ",author:" ",cover:"/images/covers/bo_01.jpg",desc:"    .",source:"Authored by Barack Obama (2020)",price:"33,000",category:""},{title:"",author:"",cover:"/images/covers/bo_02.jpg",desc:"   SF  .",source:"New York Times Interview (2017)",price:"16,800",category:"SF"},{title:", ",author:" ",cover:"/images/covers/bo_03.jpg",desc:"   .",source:"Obama's Summer Reading List (2015)",price:"13,800",category:""},{title:"",author:" ",cover:"/images/covers/sapiens.jpg",desc:"     .",source:"CNN 'Fareed Zakaria GPS' Interview (2016)",price:"22,000",category:""}]},{id:"oprah-winfrey",name:"Oprah Winfrey",role:"Media Executive",image:"/images/celebrities/oprah-winfrey.jpg",readingNow:"The Covenant of Water",intro:"   ' '   .      ' ' .",quote:"           .",stats:{books:860,categories:8,time:"24h"},books:[{title:"",author:" ",cover:"/images/covers/o_01.jpg",desc:"    .",source:"Oprah's Book Club (Nov 2018)",price:"24,000",category:""},{title:" ",author:" ",cover:"/images/covers/o_02.jpg",desc:"  .  ,    .",source:"Oprah's Book Club (Aug 2016)",price:"16,500",category:""},{title:"   ",author:" ",cover:"/images/covers/o_03.jpg",desc:"    .",source:"Authored by Oprah Winfrey (2014)",price:"14,800",category:""},{title:"",author:" ",cover:"/images/covers/o_04.jpg",desc:"    PCT  .",source:"Oprah's Book Club (Jun 2012)",price:"15,000",category:""},{title:" ",author:" ",cover:"/images/covers/o_05.jpg",desc:"    .",source:"Oprah's Favorite Books (Essence Magazine)",price:"11,500",category:""}]},{id:"warren-buffett",name:"Warren Buffett",role:"CEO of Berkshire Hathaway",image:"/images/celebrities/warren-buffett.jpg",readingNow:"The Intelligent Investor",intro:" .   80%  ,     .",quote:"  .",stats:{books:500,categories:3,time:"16h"},books:[{title:" ",author:" ",cover:"/images/covers/w_01.jpg",desc:" '   '   .",source:" ",price:"25,000",category:""},{title:"",author:" ",cover:"/images/covers/w_02.jpg",desc:"    .",source:" ",price:"38,000",category:""}]},{id:"tim-cook",name:"Tim Cook",role:"CEO of Apple",image:"/images/celebrities/tim-cook.jpg",readingNow:"Trillion Dollar Coach",intro:"  CEO.        1   .     .",quote:"     .",stats:{books:90,categories:5,time:"6h"},books:[{title:" ",author:" ",cover:"/images/covers/c_01.jpg",desc:"       .",source:"GQ Interview (2016) / Independent",price:"11,500",category:""},{title:"",author:" ",cover:"/images/covers/c_02.jpg",desc:"     .",source:"Time 100 Summit (2019)",price:"19,800",category:""}]},{id:"stephen-king",name:"Stephen King",role:"Author",image:"/images/celebrities/stephen-king.jpg",readingNow:"The Passenger",intro:"   .     ,     .",quote:"  ,   ( )  .",stats:{books:2e3,categories:10,time:"30h"},books:[{title:"",author:" ",cover:"/images/covers/k_01.jpg",desc:"     .",source:"Top 10 Books List (Reddit AMA)",price:"10,000",category:""},{id:"1984",title:"1984",author:" ",cover:"/images/covers/1984.jpg",desc:"    .",review:`  <1984>           .     ,            ,           .

              ,  ' '      .     ,                 .    ''     .       .       ,        .               .`,source:"Top 10 Books List (Reddit AMA)",price:"9,500",category:""}]},{id:"haruki-murakami",name:"Haruki Murakami",role:"Author",image:"/images/celebrities/haruki-murakami.jpg",readingNow:"The Great Gatsby",intro:"   .  ,         .",quote:"      ,        .",stats:{books:1500,categories:5,time:"25h"},books:[{title:" ",author:"F.  ",cover:"/images/covers/m_01.jpg",desc:"       .",review:` < >  ''     .                  ,       .

         ,        .          ,            .    .     ,      ?  1920  ,         .            ,        .`,source:"Essay: 'The Great Gatsby and I'",price:"11,000",category:""},{title:" ",author:"J.D. ",cover:"/images/covers/catcher_in_the_rye.jpg",desc:"   ,   .",source:"Essay: Translating Salinger",price:"10,800",category:""}]},{id:"brene-brown",name:"Bren Brown",role:"Researcher & Author",image:"/images/celebrities/brene-brown.jpg",readingNow:"Atlas of the Heart",intro:", , ,    . TED     ,     .",quote:"    ,      .",stats:{books:300,categories:4,time:"12h"},books:[{title:" ",author:" ",cover:"/images/covers/bb_01.jpg",desc:"      .",source:"Podcast: Unlocking Us (2020)",price:"14,400",category:""},{title:"",author:" ",cover:"/images/covers/bb_02.jpg",desc:"      .",source:"Tim Ferriss Show Interview (2015)",price:"12,000",category:""}]},{id:"michelle-obama",name:"Michelle Obama",role:"Former First Lady",image:"/images/celebrities/michelle-obama.jpg",readingNow:"The Light We Carry",intro:"   , . ''         .",quote:"     .",stats:{books:280,categories:6,time:"10h"},books:[{title:" ",author:" ",cover:"/images/covers/mo_01.jpg",desc:"     ,    .",source:"New York Times: By the Book (2018)",price:"16,000",category:""},{title:" ",author:" ",cover:"/images/covers/mo_02.jpg",desc:"      .",source:"New York Times: By the Book (2018)",price:"13,500",category:""}]},{id:"iu",name:" (IU)",role:"Singer & Actress",image:"/images/celebrities/iu.jpg",readingNow:"The Brothers Karamazov",intro:"   .   ,      .",quote:"    ,   .",stats:{books:140,categories:6,time:"7h"},books:[{title:" ",author:" ",cover:"/images/covers/i_01.jpg",desc:"        .",source:"JTBC 'Hyori's Homestay' (2017)",price:"9,000",category:""},{title:"  ",author:"",cover:"/images/covers/i_02.jpg",desc:"     .",source:"JTBC 'Hyori's Homestay' (2017)",price:"13,000",category:""},{title:"",author:" ",cover:"/images/covers/demian.jpg",desc:"    .",source:"KBS Drama 'The Producers' (2015)",price:"8,000",category:""},{title:" ...",author:" ",cover:"/images/covers/i_05.jpg",desc:"     .",source:"KBS Cool FM 'IU's Good Day' (2011)",price:"11,000",category:""},{title:" ",author:"",cover:"/images/covers/i_06.jpg",desc:"  .",source:"Instagram Story (2019)",price:"11,000",category:""},{title:" ",author:"",cover:"/images/covers/i_07.jpg",desc:"     .",source:"Instagram Story (2019)",price:"13,000",category:""}]},{id:"masayoshi-son",name:"Masayoshi Son",role:"CEO of SoftBank",image:"/images/celebrities/masayoshi-son.jpg",readingNow:"Ryoma ga Yuku",intro:"  .        ,     .",quote:"  .    .",stats:{books:1e3,categories:5,time:"5h"},books:[{title:" ",author:" ",cover:"/images/covers/sj_01.jpg",desc:"      .",source:"SoftBank Academia Lecture (2010)",price:"12,000",category:""},{title:" ",author:"",cover:"/images/covers/son_square_ok.jpg",desc:"     .",source:"Authored by Masayoshi Son",price:"14,000",category:""}]},{id:"jeff-bezos",name:"Jeff Bezos",role:"Founder of Amazon",image:"/images/celebrities/jeff-bezos.jpg",readingNow:"The Remains of the Day",intro:"    .          .",quote:"  3     .",stats:{books:42,categories:6,time:"11h"},books:[{title:"  ",author:" ",cover:"/images/covers/bj_01.jpg",desc:"   ,      .",source:"Newsweek Interview (2009)",price:"15,000",category:""},{title:"  8 ",author:" ",cover:"/images/covers/bj_02.jpg",desc:"   'Flywheel'   .",source:"Fast Company Interview (2001)",price:"22,000",category:""}]},{id:"emma-watson",name:"Emma Watson",role:"Actress & Activist",image:"/images/celebrities/emma-watson.jpg",readingNow:"A Thousand Splendid Suns",intro:"   UN  .  'Our Shared Shelf'       .",quote:"       .",stats:{books:210,categories:7,time:"14h"},books:[{title:" ",author:"",cover:"/images/covers/em_01.jpg",desc:"  ,    .",source:"Time Interview (2010)",price:"10,000",category:""},{title:"   ",author:" ",cover:"/images/covers/em_02.jpg",desc:"     .",source:"Our Shared Shelf (Jan 2018)",price:"16,000",category:""}]},{id:"friedrich-nietzsche",name:"Friedrich Nietzsche",role:"Philosopher",image:"https://images.unsplash.com/photo-1590086782957-93c06ef21604?q=80&w=2000&auto=format&fit=crop",readingNow:"The Will to Power",intro:"19     .       ''       .",quote:"       .",stats:{books:12,categories:1,time:""},books:[{id:"ubermensch",title:"",author:" ",cover:"/images/covers/wm_01.jpg",desc:"  ,    .",review:`        .       ,  "           " .

          ,              .

" (Amor Fati)",              .      .           .      ,   .        ,       .         .               .`,source:"Friedrich Nietzsche, Thus Spoke Zarathustra",price:"18,000",category:""}]},{id:"archide-editors",name:"Archiview Editors",role:"Editorial Team",image:"https://images.unsplash.com/photo-1548048026-5a1a941d93d3?q=80&w=2000&auto=format&fit=crop",readingNow:" ",intro:"     .    ,        .",quote:"    .",stats:{books:120,categories:10,time:"24h"},books:[{id:"sayno",title:" ",author:"",cover:"/images/covers/say_01.jpg",desc:"         .",review:`< >     ,     . "     ?"          .

     ,               .                .

      "No"            .         .        .            .  .   ,      .    .       .       .`,source:"Sayno's Private Archives",price:"0",category:""},{id:"psychology",title:" ",author:" ",cover:"/images/covers/don_01.jpg",desc:"       20  .",review:`  < >         .    ,   ,    .    ,        .

    ,             ''   .              .

     .              .          ,       .      .       .     ,     FOMO     .          ,      .`,source:"Morgan Housel, The Psychology of Money",price:"17,800",category:""}]},{id:"gurus-choice",name:"Gurus' Choice",role:"Expert Curation",image:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?q=80&w=2000&auto=format&fit=crop",readingNow:"",intro:"    ,    .      .",quote:"      .",stats:{books:50,categories:5,time:"Professional"},books:[{id:"your-name",title:" ",author:" ",cover:"/images/covers/yourname.jpg",desc:"       .",review:`< >       '()'  .             ,           .

    ,          .        ,                .

       ,            .    ,       .      ''   .         ,        .        .             .`,source:"Gurus' Choice Recommendation",price:"12,600",category:""},{id:"property-money",title:" ",author:"",cover:"/images/covers/don_01.jpg",desc:"      .",review:`  < >    '  '  .   ,      ,             .

           .        ,           .

      ,           .               .   ' '    .           .  ,          .         ,     .`,source:"Gurus' Choice Recommendation",price:"17,800",category:""},{id:"stoner",title:"",author:" ",cover:"/images/covers/stoner.jpg",desc:"        .",review:`  <>  '  ' .          .   ,  ,   .       ,       .

      ,     .   .    ,           .

               .            .         .    ,         .     ''    .      .      .  .`,source:"Gurus' Choice Recommendation",price:"15,000",category:""},{id:"small-things",title:"  ",author:" ",cover:"/images/covers/small_things.jpg",desc:" ,        .",review:`  <  >    ,         .           ,         ?

              .     ,          .

   .        .           .                   .    .             .        .  ,         ' ' .         .`,source:"Gurus' Choice Recommendation",price:"13,800",category:""}]}],y0=P.createContext({});function x0(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const vA=typeof window<"u",bA=vA?P.useLayoutEffect:P.useEffect,jf=P.createContext(null);function v0(t,e){t.indexOf(e)===-1&&t.push(e)}function ef(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mi=(t,e,n)=>n>e?e:n<t?t:n;let b0=()=>{};const Gi={},wA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _A(t){return typeof t=="object"&&t!==null}const TA=t=>/^0[^.\s]+$/u.test(t);function EA(t){let e;return()=>(e===void 0&&(e=t()),e)}const is=t=>t,KM=(t,e)=>n=>e(t(n)),Tu=(...t)=>t.reduce(KM),nu=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class w0{constructor(){this.subscriptions=[]}add(e){return v0(this.subscriptions,e),()=>ef(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const As=t=>t*1e3,ss=t=>t/1e3;function SA(t,e){return e?t*(1e3/e):0}const AA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,YM=1e-7,WM=12;function QM(t,e,n,i,a){let l,u,f=0;do u=e+(n-e)/2,l=AA(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>YM&&++f<WM);return u}function Eu(t,e,n,i){if(t===e&&n===i)return is;const a=l=>QM(l,0,1,t,n);return l=>l===0||l===1?l:AA(a(l),e,i)}const NA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RA=t=>e=>1-t(1-e),CA=Eu(.33,1.53,.69,.99),_0=RA(CA),jA=NA(_0),IA=t=>(t*=2)<1?.5*_0(t):.5*(2-Math.pow(2,-10*(t-1))),T0=t=>1-Math.sin(Math.acos(t)),kA=RA(T0),DA=NA(T0),XM=Eu(.42,0,1,1),JM=Eu(0,0,.58,1),PA=Eu(.42,0,.58,1),ZM=t=>Array.isArray(t)&&typeof t[0]!="number",MA=t=>Array.isArray(t)&&typeof t[0]=="number",eV={linear:is,easeIn:XM,easeInOut:PA,easeOut:JM,circIn:T0,circInOut:DA,circOut:kA,backIn:_0,backInOut:jA,backOut:CA,anticipate:IA},tV=t=>typeof t=="string",o1=t=>{if(MA(t)){b0(t.length===4);const[e,n,i,a]=t;return Eu(e,n,i,a)}else if(tV(t))return eV[t];return t},ud=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nV(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function p(x){u.has(x)&&(y.schedule(x),t()),x(f)}const y={schedule:(x,b=!1,T=!1)=>{const D=T&&a?n:i;return b&&u.add(x),D.has(x)||D.add(x),x},cancel:x=>{i.delete(x),u.delete(x)},process:x=>{if(f=x,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(p),n.clear(),a=!1,l&&(l=!1,y.process(x))}};return y}const sV=40;function VA(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=ud.reduce((M,w)=>(M[w]=nV(l),M),{}),{setup:f,read:p,resolveKeyframes:y,preUpdate:x,update:b,preRender:T,render:j,postRender:D}=u,z=()=>{const M=Gi.useManualTiming?a.timestamp:performance.now();n=!1,Gi.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(M-a.timestamp,sV),1)),a.timestamp=M,a.isProcessing=!0,f.process(a),p.process(a),y.process(a),x.process(a),b.process(a),T.process(a),j.process(a),D.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(z))},B=()=>{n=!0,i=!0,a.isProcessing||t(z)};return{schedule:ud.reduce((M,w)=>{const E=u[w];return M[w]=(I,N=!1,A=!1)=>(n||B(),E.schedule(I,N,A)),M},{}),cancel:M=>{for(let w=0;w<ud.length;w++)u[ud[w]].cancel(M)},state:a,steps:u}}const{schedule:lt,cancel:Yr,state:sn,steps:Zp}=VA(typeof requestAnimationFrame<"u"?requestAnimationFrame:is,!0);let Nd;function iV(){Nd=void 0}const yn={now:()=>(Nd===void 0&&yn.set(sn.isProcessing||Gi.useManualTiming?sn.timestamp:performance.now()),Nd),set:t=>{Nd=t,queueMicrotask(iV)}},OA=t=>e=>typeof e=="string"&&e.startsWith(t),LA=OA("--"),rV=OA("var(--"),E0=t=>rV(t)?aV.test(t.split("/*")[0].trim()):!1,aV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function l1(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const bl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},su={...bl,transform:t=>mi(0,1,t)},hd={...bl,default:1},zc=t=>Math.round(t*1e5)/1e5,S0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oV(t){return t==null}const lV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,A0=(t,e)=>n=>!!(typeof n=="string"&&lV.test(n)&&n.startsWith(t)||e&&!oV(n)&&Object.prototype.hasOwnProperty.call(n,e)),BA=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(S0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},cV=t=>mi(0,255,t),eg={...bl,transform:t=>Math.round(cV(t))},Da={test:A0("rgb","red"),parse:BA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+eg.transform(t)+", "+eg.transform(e)+", "+eg.transform(n)+", "+zc(su.transform(i))+")"};function uV(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Hg={test:A0("#"),parse:uV,transform:Da.transform},Su=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nr=Su("deg"),hi=Su("%"),ge=Su("px"),hV=Su("vh"),dV=Su("vw"),c1={...hi,parse:t=>hi.parse(t)/100,transform:t=>hi.transform(t*100)},Uo={test:A0("hsl","hue"),parse:BA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+hi.transform(zc(e))+", "+hi.transform(zc(n))+", "+zc(su.transform(i))+")"},Lt={test:t=>Da.test(t)||Hg.test(t)||Uo.test(t),parse:t=>Da.test(t)?Da.parse(t):Uo.test(t)?Uo.parse(t):Hg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Da.transform(t):Uo.transform(t),getAnimatableNone:t=>{const e=Lt.parse(t);return e.alpha=0,Lt.transform(e)}},fV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mV(t){return isNaN(t)&&typeof t=="string"&&(t.match(S0)?.length||0)+(t.match(fV)?.length||0)>0}const UA="number",zA="color",pV="var",gV="var(",u1="${}",yV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iu(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(yV,p=>(Lt.test(p)?(i.color.push(l),a.push(zA),n.push(Lt.parse(p))):p.startsWith(gV)?(i.var.push(l),a.push(pV),n.push(p)):(i.number.push(l),a.push(UA),n.push(parseFloat(p))),++l,u1)).split(u1);return{values:n,split:f,indexes:i,types:a}}function FA(t){return iu(t).values}function qA(t){const{split:e,types:n}=iu(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===UA?l+=zc(a[u]):f===zA?l+=Lt.transform(a[u]):l+=a[u]}return l}}const xV=t=>typeof t=="number"?0:Lt.test(t)?Lt.getAnimatableNone(t):t;function vV(t){const e=FA(t);return qA(t)(e.map(xV))}const Ns={test:mV,parse:FA,createTransformer:qA,getAnimatableNone:vV};function tg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bV({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,p=2*n-f;a=tg(p,f,t+1/3),l=tg(p,f,t),u=tg(p,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function tf(t,e){return n=>n>0?e:t}const yt=(t,e,n)=>t+(e-t)*n,ng=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},wV=[Hg,Da,Uo],_V=t=>wV.find(e=>e.test(t));function h1(t){const e=_V(t);if(!e)return!1;let n=e.parse(t);return e===Uo&&(n=bV(n)),n}const d1=(t,e)=>{const n=h1(t),i=h1(e);if(!n||!i)return tf(t,e);const a={...n};return l=>(a.red=ng(n.red,i.red,l),a.green=ng(n.green,i.green,l),a.blue=ng(n.blue,i.blue,l),a.alpha=yt(n.alpha,i.alpha,l),Da.transform(a))},Gg=new Set(["none","hidden"]);function TV(t,e){return Gg.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function EV(t,e){return n=>yt(t,e,n)}function N0(t){return typeof t=="number"?EV:typeof t=="string"?E0(t)?tf:Lt.test(t)?d1:NV:Array.isArray(t)?HA:typeof t=="object"?Lt.test(t)?d1:SV:tf}function HA(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>N0(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function SV(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=N0(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function AV(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],f=t.values[u]??0;n[a]=f,i[l]++}return n}const NV=(t,e)=>{const n=Ns.createTransformer(e),i=iu(t),a=iu(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Gg.has(t)&&!a.values.length||Gg.has(e)&&!i.values.length?TV(t,e):Tu(HA(AV(i,a),a.values),n):tf(t,e)};function GA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?yt(t,e,n):N0(t)(t,e)}const RV=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>lt.update(e,n),stop:()=>Yr(e),now:()=>sn.isProcessing?sn.timestamp:yn.now()}},$A=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},nf=2e4;function R0(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<nf;)e+=n,i=t.next(e);return e>=nf?1/0:e}function CV(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(R0(i),nf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ss(a)}}const jV=5;function KA(t,e,n){const i=Math.max(e-jV,0);return SA(n-t(i),e-i)}const Tt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sg=.001;function IV({duration:t=Tt.duration,bounce:e=Tt.bounce,velocity:n=Tt.velocity,mass:i=Tt.mass}){let a,l,u=1-e;u=mi(Tt.minDamping,Tt.maxDamping,u),t=mi(Tt.minDuration,Tt.maxDuration,ss(t)),u<1?(a=y=>{const x=y*u,b=x*t,T=x-n,j=$g(y,u),D=Math.exp(-b);return sg-T/j*D},l=y=>{const b=y*u*t,T=b*n+n,j=Math.pow(u,2)*Math.pow(y,2)*t,D=Math.exp(-b),z=$g(Math.pow(y,2),u);return(-a(y)+sg>0?-1:1)*((T-j)*D)/z}):(a=y=>{const x=Math.exp(-y*t),b=(y-n)*t+1;return-sg+x*b},l=y=>{const x=Math.exp(-y*t),b=(n-y)*(t*t);return x*b});const f=5/t,p=DV(a,l,f);if(t=As(t),isNaN(p))return{stiffness:Tt.stiffness,damping:Tt.damping,duration:t};{const y=Math.pow(p,2)*i;return{stiffness:y,damping:u*2*Math.sqrt(i*y),duration:t}}}const kV=12;function DV(t,e,n){let i=n;for(let a=1;a<kV;a++)i=i-t(i)/e(i);return i}function $g(t,e){return t*Math.sqrt(1-e*e)}const PV=["duration","bounce"],MV=["stiffness","damping","mass"];function f1(t,e){return e.some(n=>t[n]!==void 0)}function VV(t){let e={velocity:Tt.velocity,stiffness:Tt.stiffness,damping:Tt.damping,mass:Tt.mass,isResolvedFromDuration:!1,...t};if(!f1(t,MV)&&f1(t,PV))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Tt.mass,stiffness:a,damping:l}}else{const n=IV(t);e={...e,...n,mass:Tt.mass},e.isResolvedFromDuration=!0}return e}function sf(t=Tt.visualDuration,e=Tt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:y,mass:x,duration:b,velocity:T,isResolvedFromDuration:j}=VV({...n,velocity:-ss(n.velocity||0)}),D=T||0,z=y/(2*Math.sqrt(p*x)),B=u-l,F=ss(Math.sqrt(p/x)),$=Math.abs(B)<5;i||(i=$?Tt.restSpeed.granular:Tt.restSpeed.default),a||(a=$?Tt.restDelta.granular:Tt.restDelta.default);let M;if(z<1){const E=$g(F,z);M=I=>{const N=Math.exp(-z*F*I);return u-N*((D+z*F*B)/E*Math.sin(E*I)+B*Math.cos(E*I))}}else if(z===1)M=E=>u-Math.exp(-F*E)*(B+(D+F*B)*E);else{const E=F*Math.sqrt(z*z-1);M=I=>{const N=Math.exp(-z*F*I),A=Math.min(E*I,300);return u-N*((D+z*F*B)*Math.sinh(A)+E*B*Math.cosh(A))/E}}const w={calculatedDuration:j&&b||null,next:E=>{const I=M(E);if(j)f.done=E>=b;else{let N=E===0?D:0;z<1&&(N=E===0?As(D):KA(M,E,I));const A=Math.abs(N)<=i,R=Math.abs(u-I)<=a;f.done=A&&R}return f.value=f.done?u:I,f},toString:()=>{const E=Math.min(R0(w),nf),I=$A(N=>w.next(E*N).value,E,30);return E+"ms "+I},toTransition:()=>{}};return w}sf.applyToOptions=t=>{const e=CV(t,100,sf);return t.ease=e.ease,t.duration=As(e.duration),t.type="keyframes",t};function Kg({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:p,restDelta:y=.5,restSpeed:x}){const b=t[0],T={done:!1,value:b},j=A=>f!==void 0&&A<f||p!==void 0&&A>p,D=A=>f===void 0?p:p===void 0||Math.abs(f-A)<Math.abs(p-A)?f:p;let z=n*e;const B=b+z,F=u===void 0?B:u(B);F!==B&&(z=F-b);const $=A=>-z*Math.exp(-A/i),M=A=>F+$(A),w=A=>{const R=$(A),V=M(A);T.done=Math.abs(R)<=y,T.value=T.done?F:V};let E,I;const N=A=>{j(T.value)&&(E=A,I=sf({keyframes:[T.value,D(T.value)],velocity:KA(M,A,T.value),damping:a,stiffness:l,restDelta:y,restSpeed:x}))};return N(0),{calculatedDuration:null,next:A=>{let R=!1;return!I&&E===void 0&&(R=!0,w(A),N(A)),E!==void 0&&A>=E?I.next(A-E):(!R&&w(A),T)}}}function OV(t,e,n){const i=[],a=n||Gi.mix||GA,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const p=Array.isArray(e)?e[u]||is:e;f=Tu(p,f)}i.push(f)}return i}function LV(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(b0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=OV(e,i,a),p=f.length,y=x=>{if(u&&x<t[0])return e[0];let b=0;if(p>1)for(;b<t.length-2&&!(x<t[b+1]);b++);const T=nu(t[b],t[b+1],x);return f[b](T)};return n?x=>y(mi(t[0],t[l-1],x)):y}function BV(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=nu(0,e,i);t.push(yt(n,1,a))}}function UV(t){const e=[0];return BV(e,t.length-1),e}function zV(t,e){return t.map(n=>n*e)}function FV(t,e){return t.map(()=>e||PA).splice(0,t.length-1)}function Fc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=ZM(i)?i.map(o1):o1(i),l={done:!1,value:e[0]},u=zV(n&&n.length===e.length?n:UV(e),t),f=LV(u,e,{ease:Array.isArray(a)?a:FV(e,a)});return{calculatedDuration:t,next:p=>(l.value=f(p),l.done=p>=t,l)}}const qV=t=>t!==null;function C0(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(qV),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const HV={decay:Kg,inertia:Kg,tween:Fc,keyframes:Fc,spring:sf};function YA(t){typeof t.type=="string"&&(t.type=HV[t.type])}class j0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const GV=t=>t/100;class I0 extends j0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;YA(e);const{type:n=Fc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const p=n||Fc;p!==Fc&&typeof f[0]!="number"&&(this.mixKeyframes=Tu(GV,GA(f[0],f[1])),f=[0,100]);const y=p({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...f].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=R0(y));const{calculatedDuration:x}=y;this.calculatedDuration=x,this.resolvedDuration=x+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=y}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:p}=this;if(this.startTime===null)return i.next(0);const{delay:y=0,keyframes:x,repeat:b,repeatType:T,repeatDelay:j,type:D,onUpdate:z,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const F=this.currentTime-y*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let M=this.currentTime,w=i;if(b){const A=Math.min(this.currentTime,a)/f;let R=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&R--,R=Math.min(R,b+1),R%2&&(T==="reverse"?(V=1-V,j&&(V-=j/f)):T==="mirror"&&(w=u)),M=mi(0,1,V)*f}const E=$?{done:!1,value:x[0]}:w.next(M);l&&(E.value=l(E.value));let{done:I}=E;!$&&p!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return N&&D!==Kg&&(E.value=C0(x,this.options,B,this.speed)),z&&z(E.value),N&&this.finish(),E}then(e,n){return this.finished.then(e,n)}get duration(){return ss(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ss(e)}get time(){return ss(this.currentTime)}set time(e){e=As(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(yn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ss(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=RV,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function $V(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pa=t=>t*180/Math.PI,Yg=t=>{const e=Pa(Math.atan2(t[1],t[0]));return Wg(e)},KV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Yg,rotateZ:Yg,skewX:t=>Pa(Math.atan(t[1])),skewY:t=>Pa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Wg=t=>(t=t%360,t<0&&(t+=360),t),m1=Yg,p1=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),g1=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),YV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:p1,scaleY:g1,scale:t=>(p1(t)+g1(t))/2,rotateX:t=>Wg(Pa(Math.atan2(t[6],t[5]))),rotateY:t=>Wg(Pa(Math.atan2(-t[2],t[0]))),rotateZ:m1,rotate:m1,skewX:t=>Pa(Math.atan(t[4])),skewY:t=>Pa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Qg(t){return t.includes("scale")?1:0}function Xg(t,e){if(!t||t==="none")return Qg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=YV,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=KV,a=f}if(!a)return Qg(e);const l=i[e],u=a[1].split(",").map(QV);return typeof l=="function"?l(u):u[l]}const WV=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Xg(n,e)};function QV(t){return parseFloat(t.trim())}const wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_l=new Set(wl),y1=t=>t===bl||t===ge,XV=new Set(["x","y","z"]),JV=wl.filter(t=>!XV.has(t));function ZV(t){const e=[];return JV.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const kr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Xg(e,"x"),y:(t,{transform:e})=>Xg(e,"y")};kr.translateX=kr.x;kr.translateY=kr.y;const Ma=new Set;let Jg=!1,Zg=!1,ey=!1;function WA(){if(Zg){const t=Array.from(Ma).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=ZV(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Zg=!1,Jg=!1,Ma.forEach(t=>t.complete(ey)),Ma.clear()}function QA(){Ma.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Zg=!0)})}function eO(){ey=!0,QA(),WA(),ey=!1}class k0{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),Jg||(Jg=!0,lt.read(QA),lt.resolveKeyframes(WA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const f=i.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}$V(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tO=t=>t.startsWith("--");function nO(t,e,n){tO(e)?t.style.setProperty(e,n):t.style[e]=n}const sO={};function XA(t,e){const n=EA(t);return()=>sO[e]??n()}const iO=XA(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),JA=XA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,x1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dc([0,.65,.55,1]),circOut:Dc([.55,0,1,.45]),backIn:Dc([.31,.01,.66,-.59]),backOut:Dc([.33,1.53,.69,.99])};function ZA(t,e){if(t)return typeof t=="function"?JA()?$A(t,e):"ease-out":MA(t)?Dc(t):Array.isArray(t)?t.map(n=>ZA(n,e)||x1.easeOut):x1[t]}function rO(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:p}={},y=void 0){const x={[e]:n};p&&(x.offset=p);const b=ZA(f,a);Array.isArray(b)&&(x.easing=b);const T={delay:i,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return y&&(T.pseudoElement=y),t.animate(x,T)}function e2(t){return typeof t=="function"&&"applyToOptions"in t}function aO({type:t,...e}){return e2(t)&&JA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class t2 extends j0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,b0(typeof e.type!="string");const y=aO(e);this.animation=rO(n,i,a,y,l),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const x=C0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(x):nO(n,i,x),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ss(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ss(e)}get time(){return ss(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=As(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&iO()?(this.animation.timeline=e,is):n(this)}}const n2={anticipate:IA,backInOut:jA,circInOut:DA};function oO(t){return t in n2}function lO(t){typeof t.ease=="string"&&oO(t.ease)&&(t.ease=n2[t.ease])}const ig=10;class cO extends t2{constructor(e){lO(e),YA(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new I0({...u,autoplay:!1}),p=Math.max(ig,yn.now()-this.startTime),y=mi(0,ig,p-ig);n.setWithVelocity(f.sample(Math.max(0,p-y)).value,f.sample(p).value,y),f.stop()}}const v1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ns.test(t)||t==="0")&&!t.startsWith("url("));function uO(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hO(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=v1(a,e),f=v1(l,e);return!u||!f?!1:uO(t)||(n==="spring"||e2(n))&&i}function ty(t){t.duration=0,t.type="keyframes"}const dO=new Set(["opacity","clipPath","filter","transform"]),fO=EA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mO(t){const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:y}=e.owner.getProps();return fO()&&n&&dO.has(n)&&(n!=="transform"||!y)&&!p&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const pO=40;class gO extends j0{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:p,motionValue:y,element:x,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const T={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:p,motionValue:y,element:x,...b},j=x?.KeyframeResolver||k0;this.keyframeResolver=new j(f,(D,z,B)=>this.onKeyframesResolved(D,z,T,!B),p,y,x),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:p,isHandoff:y,onUpdate:x}=i;this.resolvedAt=yn.now(),hO(e,l,u,f)||((Gi.instantAnimations||!p)&&x?.(C0(e,i,n)),e[0]=e[e.length-1],ty(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>pO?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},j=!y&&mO(T),D=T.motionValue?.owner?.current,z=j?new cO({...T,element:D}):new I0(T);z.finished.then(()=>{this.notifyFinished()}).catch(is),this.pendingTimeline&&(this.stopTimeline=z.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=z}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eO()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function s2(t,e,n,i=0,a=1){const l=Array.from(t).sort((y,x)=>y.sortNodePosition(x)).indexOf(e),u=t.size,f=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:f-l*i}const yO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xO(t){const e=yO.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function i2(t,e,n=1){const[i,a]=xO(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return wA(u)?parseFloat(u):u}return E0(a)?i2(a,e,n+1):a}const vO={type:"spring",stiffness:500,damping:25,restSpeed:10},bO=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wO={type:"keyframes",duration:.8},_O={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TO=(t,{keyframes:e})=>e.length>2?wO:_l.has(t)?t.startsWith("scale")?bO(e[1]):vO:_O,EO=t=>t!==null;function SO(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(EO),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}function r2(t,e){if(t?.inherit&&e){const{inherit:n,...i}=t;return{...e,...i}}return t}function D0(t,e){const n=t?.[e]??t?.default??t;return n!==t?r2(n,t):n}function AO({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:p,elapsed:y,...x}){return!!Object.keys(x).length}const P0=(t,e,n,i={},a,l)=>u=>{const f=D0(i,t)||{},p=f.delay||i.delay||0;let{elapsed:y=0}=i;y=y-As(p);const x={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-y,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};AO(f)||Object.assign(x,TO(t,x)),x.duration&&(x.duration=As(x.duration)),x.repeatDelay&&(x.repeatDelay=As(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let b=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(ty(x),x.delay===0&&(b=!0)),(Gi.instantAnimations||Gi.skipAnimations||a?.shouldSkipAnimations)&&(b=!0,ty(x),x.delay=0),x.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const T=SO(x.keyframes,f);if(T!==void 0){lt.update(()=>{x.onUpdate(T),x.onComplete()});return}}return f.isSync?new I0(x):new gO(x)};function b1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function M0(t,e,n,i){if(typeof e=="function"){const[a,l]=b1(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=b1(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function Jo(t,e,n){const i=t.getProps();return M0(i,e,n!==void 0?n:i.custom,t)}const a2=new Set(["width","height","top","left","right","bottom",...wl]),w1=30,NO=t=>!isNaN(parseFloat(t));class RO{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NO(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new w0);const i=this.events[e].add(n);return e==="change"?()=>{i(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>w1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,w1);return SA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ol(t,e){return new RO(t,e)}const ny=t=>Array.isArray(t);function CO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ol(n))}function jO(t){return ny(t)?t[t.length-1]||0:t}function IO(t,e){const n=Jo(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const f=jO(l[u]);CO(t,u,f)}}const fn=t=>!!(t&&t.getVelocity);function kO(t){return!!(fn(t)&&t.add)}function sy(t,e){const n=t.getValue("willChange");if(kO(n))return n.add(e);if(!n&&Gi.WillChange){const i=new Gi.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function V0(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const DO="framerAppearId",o2="data-"+V0(DO);function l2(t){return t.props[o2]}function PO({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function c2(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:u,...f}=e;const p=t.getDefaultTransition();l=l?r2(l,p):p;const y=l?.reduceMotion;i&&(l=i);const x=[],b=a&&t.animationState&&t.animationState.getState()[a];for(const T in f){const j=t.getValue(T,t.latestValues[T]??null),D=f[T];if(D===void 0||b&&PO(b,T))continue;const z={delay:n,...D0(l||{},T)},B=j.get();if(B!==void 0&&!j.isAnimating&&!Array.isArray(D)&&D===B&&!z.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const w=l2(t);if(w){const E=window.MotionHandoffAnimation(w,T,lt);E!==null&&(z.startTime=E,F=!0)}}sy(t,T);const $=y??t.shouldReduceMotion;j.start(P0(T,j,D,$&&a2.has(T)?{type:!1}:z,t,F));const M=j.animation;M&&x.push(M)}if(u){const T=()=>lt.update(()=>{u&&IO(t,u)});x.length?Promise.all(x).then(T):T()}return x}function iy(t,e,n={}){const i=Jo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(c2(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:x,staggerDirection:b}=a;return MO(t,e,p,y,x,b,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>y())}else return Promise.all([l(),u(n.delay)])}function MO(t,e,n=0,i=0,a=0,l=1,u){const f=[];for(const p of t.variantChildren)p.notify("AnimationStart",e),f.push(iy(p,e,{...u,delay:n+(typeof i=="function"?0:i)+s2(t.variantChildren,p,i,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(f)}function VO(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>iy(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=iy(t,e,n);else{const a=typeof e=="function"?Jo(t,e,n.custom):e;i=Promise.all(c2(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const OO={test:t=>t==="auto",parse:t=>t},u2=t=>e=>e.test(t),h2=[bl,ge,hi,Nr,dV,hV,OO],_1=t=>h2.find(u2(t));function LO(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TA(t):!0}const BO=new Set(["brightness","contrast","saturate","opacity"]);function UO(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(S0)||[];if(!i)return t;const a=n.replace(i,"");let l=BO.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const zO=/\b([a-z-]*)\(.*?\)/gu,ry={...Ns,getAnimatableNone:t=>{const e=t.match(zO);return e?e.map(UO).join(" "):t}},ay={...Ns,getAnimatableNone:t=>{const e=Ns.parse(t);return Ns.createTransformer(t)(e.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},T1={...bl,transform:Math.round},FO={rotate:Nr,rotateX:Nr,rotateY:Nr,rotateZ:Nr,scale:hd,scaleX:hd,scaleY:hd,scaleZ:hd,skew:Nr,skewX:Nr,skewY:Nr,distance:ge,translateX:ge,translateY:ge,translateZ:ge,x:ge,y:ge,z:ge,perspective:ge,transformPerspective:ge,opacity:su,originX:c1,originY:c1,originZ:ge},O0={borderWidth:ge,borderTopWidth:ge,borderRightWidth:ge,borderBottomWidth:ge,borderLeftWidth:ge,borderRadius:ge,borderTopLeftRadius:ge,borderTopRightRadius:ge,borderBottomRightRadius:ge,borderBottomLeftRadius:ge,width:ge,maxWidth:ge,height:ge,maxHeight:ge,top:ge,right:ge,bottom:ge,left:ge,inset:ge,insetBlock:ge,insetBlockStart:ge,insetBlockEnd:ge,insetInline:ge,insetInlineStart:ge,insetInlineEnd:ge,padding:ge,paddingTop:ge,paddingRight:ge,paddingBottom:ge,paddingLeft:ge,paddingBlock:ge,paddingBlockStart:ge,paddingBlockEnd:ge,paddingInline:ge,paddingInlineStart:ge,paddingInlineEnd:ge,margin:ge,marginTop:ge,marginRight:ge,marginBottom:ge,marginLeft:ge,marginBlock:ge,marginBlockStart:ge,marginBlockEnd:ge,marginInline:ge,marginInlineStart:ge,marginInlineEnd:ge,fontSize:ge,backgroundPositionX:ge,backgroundPositionY:ge,...FO,zIndex:T1,fillOpacity:su,strokeOpacity:su,numOctaves:T1},qO={...O0,color:Lt,backgroundColor:Lt,outlineColor:Lt,fill:Lt,stroke:Lt,borderColor:Lt,borderTopColor:Lt,borderRightColor:Lt,borderBottomColor:Lt,borderLeftColor:Lt,filter:ry,WebkitFilter:ry,mask:ay,WebkitMask:ay},d2=t=>qO[t],HO=new Set([ry,ay]);function f2(t,e){let n=d2(t);return HO.has(n)||(n=Ns),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const GO=new Set(["auto","none","0"]);function $O(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!GO.has(l)&&iu(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=f2(n,a)}class KO extends k0{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let x=0;x<e.length;x++){let b=e[x];if(typeof b=="string"&&(b=b.trim(),E0(b))){const T=i2(b,n.current);T!==void 0&&(e[x]=T),x===e.length-1&&(this.finalKeyframe=b)}}if(this.resolveNoneKeyframes(),!a2.has(i)||e.length!==2)return;const[a,l]=e,u=_1(a),f=_1(l),p=l1(a),y=l1(l);if(p!==y&&kr[i]){this.needsMeasurement=!0;return}if(u!==f)if(y1(u)&&y1(f))for(let x=0;x<e.length;x++){const b=e[x];typeof b=="string"&&(e[x]=parseFloat(b))}else kr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||LO(e[a]))&&i.push(a);i.length&&$O(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=kr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const YO=new Set(["opacity","clipPath","filter","transform"]);function m2(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=n?.[t]??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t).filter(i=>i!=null)}const p2=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function oy(t){return _A(t)&&"offsetHeight"in t}const{schedule:L0}=VA(queueMicrotask,!1),ws={x:!1,y:!1};function g2(){return ws.x||ws.y}function WO(t){return t==="x"||t==="y"?ws[t]?null:(ws[t]=!0,()=>{ws[t]=!1}):ws.x||ws.y?null:(ws.x=ws.y=!0,()=>{ws.x=ws.y=!1})}function y2(t,e){const n=m2(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function QO(t){return!(t.pointerType==="touch"||g2())}function XO(t,e,n={}){const[i,a,l]=y2(t,n);return i.forEach(u=>{let f=!1,p=!1,y;const x=()=>{u.removeEventListener("pointerleave",D)},b=B=>{y&&(y(B),y=void 0),x()},T=B=>{f=!1,window.removeEventListener("pointerup",T),window.removeEventListener("pointercancel",T),p&&(p=!1,b(B))},j=()=>{f=!0,window.addEventListener("pointerup",T,a),window.addEventListener("pointercancel",T,a)},D=B=>{if(B.pointerType!=="touch"){if(f){p=!0;return}b(B)}},z=B=>{if(!QO(B))return;p=!1;const F=e(u,B);typeof F=="function"&&(y=F,u.addEventListener("pointerleave",D,a))};u.addEventListener("pointerenter",z,a),u.addEventListener("pointerdown",j,a)}),l}const x2=(t,e)=>e?t===e?!0:x2(t,e.parentElement):!1,B0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,JO=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZO(t){return JO.has(t.tagName)||t.isContentEditable===!0}const e3=new Set(["INPUT","SELECT","TEXTAREA"]);function t3(t){return e3.has(t.tagName)||t.isContentEditable===!0}const Rd=new WeakSet;function E1(t){return e=>{e.key==="Enter"&&t(e)}}function rg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const n3=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=E1(()=>{if(Rd.has(n))return;rg(n,"down");const a=E1(()=>{rg(n,"up")}),l=()=>rg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function S1(t){return B0(t)&&!g2()}const A1=new WeakSet;function s3(t,e,n={}){const[i,a,l]=y2(t,n),u=f=>{const p=f.currentTarget;if(!S1(f)||A1.has(f))return;Rd.add(p),n.stopPropagation&&A1.add(f);const y=e(p,f),x=(j,D)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",T),Rd.has(p)&&Rd.delete(p),S1(j)&&typeof y=="function"&&y(j,{success:D})},b=j=>{x(j,p===window||p===document||n.useGlobalTarget||x2(p,j.target))},T=j=>{x(j,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",T,a)};return i.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),oy(f)&&(f.addEventListener("focus",y=>n3(y,a)),!ZO(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function U0(t){return _A(t)&&"ownerSVGElement"in t}const Cd=new WeakMap;let jd;const v2=(t,e,n)=>(i,a)=>a&&a[0]?a[0][t+"Size"]:U0(i)&&"getBBox"in i?i.getBBox()[e]:i[n],i3=v2("inline","width","offsetWidth"),r3=v2("block","height","offsetHeight");function a3({target:t,borderBoxSize:e}){Cd.get(t)?.forEach(n=>{n(t,{get width(){return i3(t,e)},get height(){return r3(t,e)}})})}function o3(t){t.forEach(a3)}function l3(){typeof ResizeObserver>"u"||(jd=new ResizeObserver(o3))}function c3(t,e){jd||l3();const n=m2(t);return n.forEach(i=>{let a=Cd.get(i);a||(a=new Set,Cd.set(i,a)),a.add(e),jd?.observe(i)}),()=>{n.forEach(i=>{const a=Cd.get(i);a?.delete(e),a?.size||jd?.unobserve(i)})}}const Id=new Set;let zo;function u3(){zo=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Id.forEach(e=>e(t))},window.addEventListener("resize",zo)}function h3(t){return Id.add(t),zo||u3(),()=>{Id.delete(t),!Id.size&&typeof zo=="function"&&(window.removeEventListener("resize",zo),zo=void 0)}}function N1(t,e){return typeof t=="function"?h3(t):c3(t,e)}function d3(t){return U0(t)&&t.tagName==="svg"}const f3=[...h2,Lt,Ns],m3=t=>f3.find(u2(t)),R1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fo=()=>({x:R1(),y:R1()}),C1=()=>({min:0,max:0}),qt=()=>({x:C1(),y:C1()}),p3=new WeakMap;function If(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ru(t){return typeof t=="string"||Array.isArray(t)}const z0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],F0=["initial",...z0];function kf(t){return If(t.animate)||F0.some(e=>ru(t[e]))}function b2(t){return!!(kf(t)||t.variants)}function g3(t,e,n){for(const i in e){const a=e[i],l=n[i];if(fn(a))t.addValue(i,a);else if(fn(l))t.addValue(i,ol(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,ol(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const ly={current:null},w2={current:!1},y3=typeof window<"u";function x3(){if(w2.current=!0,!!y3)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ly.current=t.matches;t.addEventListener("change",e),e()}else ly.current=!1}const j1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let rf={};function _2(t){rf=t}function v3(){return rf}class b3{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=k0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const j=yn.now();this.renderScheduledAt<j&&(this.renderScheduledAt=j,lt.render(this.render,!1,!0))};const{latestValues:y,renderState:x}=f;this.latestValues=y,this.baseTarget={...y},this.initialValues=n.initial?{...y}:{},this.renderState=x,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=p,this.blockInitialAnimation=!!u,this.isControllingVariants=kf(n),this.isVariantNode=b2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:b,...T}=this.scrapeMotionValuesFromProps(n,{},this);for(const j in T){const D=T[j];y[j]!==void 0&&fn(D)&&D.set(y[j])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,p3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(w2.current||x3(),this.shouldReduceMotion=ly.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Yr(this.notifyUpdate),Yr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&YO.has(e)&&this.current instanceof HTMLElement){const{factory:u,keyframes:f,times:p,ease:y,duration:x}=n.accelerate,b=new t2({element:this.current,name:e,keyframes:f,times:p,ease:y,duration:As(x)}),T=u(b);this.valueSubscriptions.set(e,()=>{T(),b.cancel()});return}const i=_l.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&lt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in rf){const n=rf[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<j1.length;i++){const a=j1[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=g3(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=ol(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(wA(i)||TA(i))?i=parseFloat(i):!m3(i)&&Ns.test(n)&&(i=f2(e,n)),this.setBaseTarget(e,fn(i)?i.get():i)),fn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=M0(this.props,n,this.presenceContext?.custom);l&&(i=l[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!fn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new w0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){L0.render(this.render)}}class T2 extends b3{constructor(){super(...arguments),this.KeyframeResolver=KO}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const i=e.style;return i?i[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Xr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function E2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function w3({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _3(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function ag(t){return t===void 0||t===1}function cy({scale:t,scaleX:e,scaleY:n}){return!ag(t)||!ag(e)||!ag(n)}function ja(t){return cy(t)||S2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function S2(t){return I1(t.x)||I1(t.y)}function I1(t){return t&&t!=="0%"}function af(t,e,n){const i=t-n,a=e*i;return n+a}function k1(t,e,n,i,a){return a!==void 0&&(t=af(t,a,i)),af(t,n,i)+e}function uy(t,e=0,n=1,i,a){t.min=k1(t.min,e,n,i,a),t.max=k1(t.max,e,n,i,a)}function A2(t,{x:e,y:n}){uy(t.x,e.translate,e.scale,e.originPoint),uy(t.y,n.translate,n.scale,n.originPoint)}const D1=.999999999999,P1=1.0000000000001;function T3(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ho(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,A2(t,u)),i&&ja(l.latestValues)&&Ho(t,l.latestValues))}e.x<P1&&e.x>D1&&(e.x=1),e.y<P1&&e.y>D1&&(e.y=1)}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function M1(t,e,n,i,a=.5){const l=yt(t.min,t.max,a);uy(t,e,n,l,i)}function Ho(t,e){M1(t.x,e.x,e.scaleX,e.scale,e.originX),M1(t.y,e.y,e.scaleY,e.scale,e.originY)}function N2(t,e){return E2(_3(t.getBoundingClientRect(),e))}function E3(t,e,n){const i=N2(t,n),{scroll:a}=e;return a&&(qo(i.x,a.offset.x),qo(i.y,a.offset.y)),i}const S3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A3=wl.length;function N3(t,e,n){let i="",a=!0;for(let l=0;l<A3;l++){const u=wl[l],f=t[u];if(f===void 0)continue;let p=!0;if(typeof f=="number")p=f===(u.startsWith("scale")?1:0);else{const y=parseFloat(f);p=u.startsWith("scale")?y===1:y===0}if(!p||n){const y=p2(f,O0[u]);if(!p){a=!1;const x=S3[u]||u;i+=`${x}(${y}) `}n&&(e[u]=y)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function q0(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const p in e){const y=e[p];if(_l.has(p)){u=!0;continue}else if(LA(p)){a[p]=y;continue}else{const x=p2(y,O0[p]);p.startsWith("origin")?(f=!0,l[p]=x):i[p]=x}}if(e.transform||(u||n?i.transform=N3(e,t.transform,n):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:y="50%",originZ:x=0}=l;i.transformOrigin=`${p} ${y} ${x}`}}function R2(t,{style:e,vars:n},i,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function V1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Nc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ge.test(t))t=parseFloat(t);else return t;const n=V1(t,e.target.x),i=V1(t,e.target.y);return`${n}% ${i}%`}},R3={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Ns.parse(t);if(a.length>5)return i;const l=Ns.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,p=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=p;const y=yt(f,p,.5);return typeof a[2+u]=="number"&&(a[2+u]/=y),typeof a[3+u]=="number"&&(a[3+u]/=y),l(a)}},hy={borderRadius:{...Nc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Nc,borderTopRightRadius:Nc,borderBottomLeftRadius:Nc,borderBottomRightRadius:Nc,boxShadow:R3};function C2(t,{layout:e,layoutId:n}){return _l.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hy[t]||t==="opacity")}function H0(t,e,n){const i=t.style,a=e?.style,l={};if(!i)return l;for(const u in i)(fn(i[u])||a&&fn(a[u])||C2(u,t)||n?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function C3(t){return window.getComputedStyle(t)}class j3 extends T2{constructor(){super(...arguments),this.type="html",this.renderInstance=R2}readValueFromInstance(e,n){if(_l.has(n))return this.projection?.isProjecting?Qg(n):WV(e,n);{const i=C3(e),a=(LA(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return N2(e,n)}build(e,n,i){q0(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return H0(e,n,i)}}const I3={offset:"stroke-dashoffset",array:"stroke-dasharray"},k3={offset:"strokeDashoffset",array:"strokeDasharray"};function D3(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?I3:k3;t[l.offset]=`${-i}`,t[l.array]=`${e} ${n}`}const P3=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function j2(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},p,y,x){if(q0(t,f,y),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:T}=t;b.transform&&(T.transform=b.transform,delete b.transform),(T.transform||b.transformOrigin)&&(T.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),T.transform&&(T.transformBox=x?.transformBox??"fill-box",delete b.transformBox);for(const j of P3)b[j]!==void 0&&(T[j]=b[j],delete b[j]);e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),i!==void 0&&(b.scale=i),a!==void 0&&D3(b,a,l,u,!1)}const I2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),k2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function M3(t,e,n,i){R2(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(I2.has(a)?a:V0(a),e.attrs[a])}function D2(t,e,n){const i=H0(t,e,n);for(const a in t)if(fn(t[a])||fn(e[a])){const l=wl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}class V3 extends T2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_l.has(n)){const i=d2(n);return i&&i.default||0}return n=I2.has(n)?n:V0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return D2(e,n,i)}build(e,n,i){j2(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){M3(e,n,i,a)}mount(e){this.isSVGTag=k2(e.tagName),super.mount(e)}}const O3=F0.length;function P2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?P2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<O3;n++){const i=F0[n],a=t.props[i];(ru(a)||a===!1)&&(e[i]=a)}return e}function M2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const L3=[...z0].reverse(),B3=z0.length;function U3(t){return e=>Promise.all(e.map(({animation:n,options:i})=>VO(t,n,i)))}function z3(t){let e=U3(t),n=O1(),i=!0;const a=p=>(y,x)=>{const b=Jo(t,x,p==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:T,transitionEnd:j,...D}=b;y={...y,...D,...j}}return y};function l(p){e=p(t)}function u(p){const{props:y}=t,x=P2(t.parent)||{},b=[],T=new Set;let j={},D=1/0;for(let B=0;B<B3;B++){const F=L3[B],$=n[F],M=y[F]!==void 0?y[F]:x[F],w=ru(M),E=F===p?$.isActive:null;E===!1&&(D=B);let I=M===x[F]&&M!==y[F]&&w;if(I&&i&&t.manuallyAnimateOnMount&&(I=!1),$.protectedKeys={...j},!$.isActive&&E===null||!M&&!$.prevProp||If(M)||typeof M=="boolean")continue;if(F==="exit"&&$.isActive&&E!==!0){$.prevResolvedValues&&(j={...j,...$.prevResolvedValues});continue}const N=F3($.prevProp,M);let A=N||F===p&&$.isActive&&!I&&w||B>D&&w,R=!1;const V=Array.isArray(M)?M:[M];let O=V.reduce(a(F),{});E===!1&&(O={});const{prevResolvedValues:G={}}=$,L={...G,...O},De=le=>{A=!0,T.has(le)&&(R=!0,T.delete(le)),$.needsAnimating[le]=!0;const fe=t.getValue(le);fe&&(fe.liveStyle=!1)};for(const le in L){const fe=O[le],Ne=G[le];if(j.hasOwnProperty(le))continue;let ke=!1;ny(fe)&&ny(Ne)?ke=!M2(fe,Ne):ke=fe!==Ne,ke?fe!=null?De(le):T.add(le):fe!==void 0&&T.has(le)?De(le):$.protectedKeys[le]=!0}$.prevProp=M,$.prevResolvedValues=O,$.isActive&&(j={...j,...O}),i&&t.blockInitialAnimation&&(A=!1);const We=I&&N;A&&(!We||R)&&b.push(...V.map(le=>{const fe={type:F};if(typeof le=="string"&&i&&!We&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ne}=t,ke=Jo(Ne,le);if(Ne.enteringChildren&&ke){const{delayChildren:q}=ke.transition||{};fe.delay=s2(Ne.enteringChildren,t,q)}}return{animation:le,options:fe}}))}if(T.size){const B={};if(typeof y.initial!="boolean"){const F=Jo(t,Array.isArray(y.initial)?y.initial[0]:y.initial);F&&F.transition&&(B.transition=F.transition)}T.forEach(F=>{const $=t.getBaseTarget(F),M=t.getValue(F);M&&(M.liveStyle=!0),B[F]=$??null}),b.push({animation:B})}let z=!!b.length;return i&&(y.initial===!1||y.initial===y.animate)&&!t.manuallyAnimateOnMount&&(z=!1),i=!1,z?e(b):Promise.resolve()}function f(p,y){if(n[p].isActive===y)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(p,y)),n[p].isActive=y;const x=u(p);for(const b in n)n[b].protectedKeys={};return x}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=O1()}}}function F3(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!M2(e,t):!1}function Ra(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O1(){return{animate:Ra(!0),whileInView:Ra(),whileHover:Ra(),whileTap:Ra(),whileDrag:Ra(),whileFocus:Ra(),exit:Ra()}}function L1(t,e){t.min=e.min,t.max=e.max}function bs(t,e){L1(t.x,e.x),L1(t.y,e.y)}function B1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const V2=1e-4,q3=1-V2,H3=1+V2,O2=.01,G3=0-O2,$3=0+O2;function xn(t){return t.max-t.min}function K3(t,e,n){return Math.abs(t-e)<=n}function U1(t,e,n,i=.5){t.origin=i,t.originPoint=yt(e.min,e.max,t.origin),t.scale=xn(n)/xn(e),t.translate=yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=q3&&t.scale<=H3||isNaN(t.scale))&&(t.scale=1),(t.translate>=G3&&t.translate<=$3||isNaN(t.translate))&&(t.translate=0)}function qc(t,e,n,i){U1(t.x,e.x,n.x,i?i.originX:void 0),U1(t.y,e.y,n.y,i?i.originY:void 0)}function z1(t,e,n){t.min=n.min+e.min,t.max=t.min+xn(e)}function Y3(t,e,n){z1(t.x,e.x,n.x),z1(t.y,e.y,n.y)}function F1(t,e,n){t.min=e.min-n.min,t.max=t.min+xn(e)}function of(t,e,n){F1(t.x,e.x,n.x),F1(t.y,e.y,n.y)}function q1(t,e,n,i,a){return t-=e,t=af(t,1/n,i),a!==void 0&&(t=af(t,1/a,i)),t}function W3(t,e=0,n=1,i=.5,a,l=t,u=t){if(hi.test(e)&&(e=parseFloat(e),e=yt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=yt(l.min,l.max,i);t===l&&(f-=e),t.min=q1(t.min,e,n,f,a),t.max=q1(t.max,e,n,f,a)}function H1(t,e,[n,i,a],l,u){W3(t,e[n],e[i],e[a],e.scale,l,u)}const Q3=["x","scaleX","originX"],X3=["y","scaleY","originY"];function G1(t,e,n,i){H1(t.x,e,Q3,n?n.x:void 0,i?i.x:void 0),H1(t.y,e,X3,n?n.y:void 0,i?i.y:void 0)}function $1(t){return t.translate===0&&t.scale===1}function L2(t){return $1(t.x)&&$1(t.y)}function K1(t,e){return t.min===e.min&&t.max===e.max}function J3(t,e){return K1(t.x,e.x)&&K1(t.y,e.y)}function Y1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function B2(t,e){return Y1(t.x,e.x)&&Y1(t.y,e.y)}function W1(t){return xn(t.x)/xn(t.y)}function Q1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function si(t){return[t("x"),t("y")]}function Z3(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:y,rotate:x,rotateX:b,rotateY:T,skewX:j,skewY:D}=n;y&&(i=`perspective(${y}px) ${i}`),x&&(i+=`rotate(${x}deg) `),b&&(i+=`rotateX(${b}deg) `),T&&(i+=`rotateY(${T}deg) `),j&&(i+=`skewX(${j}deg) `),D&&(i+=`skewY(${D}deg) `)}const f=t.x.scale*e.x,p=t.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const U2=["TopLeft","TopRight","BottomLeft","BottomRight"],eL=U2.length,X1=t=>typeof t=="string"?parseFloat(t):t,J1=t=>typeof t=="number"||ge.test(t);function tL(t,e,n,i,a,l){a?(t.opacity=yt(0,n.opacity??1,nL(i)),t.opacityExit=yt(e.opacity??1,0,sL(i))):l&&(t.opacity=yt(e.opacity??1,n.opacity??1,i));for(let u=0;u<eL;u++){const f=`border${U2[u]}Radius`;let p=Z1(e,f),y=Z1(n,f);if(p===void 0&&y===void 0)continue;p||(p=0),y||(y=0),p===0||y===0||J1(p)===J1(y)?(t[f]=Math.max(yt(X1(p),X1(y),i),0),(hi.test(y)||hi.test(p))&&(t[f]+="%")):t[f]=y}(e.rotate||n.rotate)&&(t.rotate=yt(e.rotate||0,n.rotate||0,i))}function Z1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nL=z2(0,.5,kA),sL=z2(.5,.95,is);function z2(t,e,n){return i=>i<t?0:i>e?1:n(nu(t,e,i))}function iL(t,e,n){const i=fn(t)?t:ol(t);return i.start(P0("",i,e,n)),i.animation}function au(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}const rL=(t,e)=>t.depth-e.depth;class aL{constructor(){this.children=[],this.isDirty=!1}add(e){v0(this.children,e),this.isDirty=!0}remove(e){ef(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rL),this.isDirty=!1,this.children.forEach(e)}}function oL(t,e){const n=yn.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Yr(i),t(l-e))};return lt.setup(i,!0),()=>Yr(i)}function kd(t){return fn(t)?t.get():t}class lL{constructor(){this.members=[]}add(e){v0(this.members,e);for(let n=this.members.length-1;n>=0;n--){const i=this.members[n];if(i===e||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&ef(this.members,i)}e.scheduleRender()}remove(e){if(ef(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const a=i.options.layoutDependency,l=e.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const p=i.instance;p&&p.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:f}=e.options;f===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Dd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},og=["","X","Y","Z"],cL=1e3;let uL=0;function lg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function F2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=l2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",lt,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&F2(i)}function q2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=e?.()){this.id=uL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fL),this.nodes.forEach(yL),this.nodes.forEach(xL),this.nodes.forEach(mL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new aL)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new w0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const p=this.eventHandlers.get(u);p&&p.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=U0(u)&&!d3(u),this.instance=u;const{layoutId:f,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||f)&&(this.isLayoutDirty=!0),t){let x,b=0;const T=()=>this.root.updateBlockedByResize=!1;lt.read(()=>{b=window.innerWidth}),t(u,()=>{const j=window.innerWidth;j!==b&&(b=j,this.root.updateBlockedByResize=!0,x&&x(),x=oL(T,250),Dd.hasAnimatedSinceResize&&(Dd.hasAnimatedSinceResize=!1,this.nodes.forEach(nT)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:b,hasRelativeLayoutChanged:T,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||y.getDefaultTransition()||TL,{onLayoutAnimationStart:z,onLayoutAnimationComplete:B}=y.getProps(),F=!this.targetLayout||!B2(this.targetLayout,j),$=!b&&T;if(this.options.layoutRoot||this.resumeFrom||$||b&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...D0(D,"layout"),onPlay:z,onComplete:B};(y.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(x,$)}else b||nT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&F2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const b=this.path[x];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eT);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tT);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(gL),this.nodes.forEach(hL),this.nodes.forEach(dL)):this.nodes.forEach(tT),this.clearAllSnapshots();const f=yn.now();sn.delta=mi(0,1e3/60,f-sn.timestamp),sn.timestamp=f,sn.isProcessing=!0,Zp.update.process(sn),Zp.preRender.process(sn),Zp.render.process(sn),sn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,L0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pL),this.sharedNodes.forEach(bL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xn(this.snapshot.measuredBox.x)&&!xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!L2(this.projectionDelta),p=this.getTransformTemplate(),y=p?p(this.latestValues,""):void 0,x=y!==this.prevTransformTemplateValue;u&&this.instance&&(f||ja(this.latestValues)||x)&&(a(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return u&&(p=this.removeTransform(p)),EL(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return qt();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(SL))){const{scroll:y}=this.root;y&&(qo(f.x,y.offset.x),qo(f.y,y.offset.y))}return f}removeElementScroll(u){const f=qt();if(bs(f,u),this.scroll?.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:x,options:b}=y;y!==this.root&&x&&b.layoutScroll&&(x.wasRoot&&bs(f,u),qo(f.x,x.offset.x),qo(f.y,x.offset.y))}return f}applyTransform(u,f=!1){const p=qt();bs(p,u);for(let y=0;y<this.path.length;y++){const x=this.path[y];!f&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Ho(p,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),ja(x.latestValues)&&Ho(p,x.latestValues)}return ja(this.latestValues)&&Ho(p,this.latestValues),p}removeTransform(u){const f=qt();bs(f,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];if(!y.instance||!ja(y.latestValues))continue;cy(y.latestValues)&&y.updateSnapshot();const x=qt(),b=y.measurePageBox();bs(x,b),G1(f,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,x)}return ja(this.latestValues)&&G1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==sn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:b}=this.options;if(!this.layout||!(x||b))return;this.resolvedRelativeTargetAt=sn.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qt(),this.targetWithTransforms=qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bs(this.target,this.layout.layoutBox),A2(this.target,this.targetDelta)):bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||cy(this.parent.latestValues)||S2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,p){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qt(),this.relativeTargetOrigin=qt(),of(this.relativeTargetOrigin,f,p),bs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===sn.timestamp&&(p=!1),p)return;const{layout:y,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||x))return;bs(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,T=this.treeScale.y;T3(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=qt());const{target:j}=u;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(B1(this.prevProjectionDelta.x,this.projectionDelta.x),B1(this.prevProjectionDelta.y,this.projectionDelta.y)),qc(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==T||!Q1(this.projectionDelta.x,this.prevProjectionDelta.x)||!Q1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Fo(),this.projectionDelta=Fo(),this.projectionDeltaWithTransform=Fo()}setAnimationOrigin(u,f=!1){const p=this.snapshot,y=p?p.latestValues:{},x={...this.latestValues},b=Fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=qt(),j=p?p.source:void 0,D=this.layout?this.layout.source:void 0,z=j!==D,B=this.getStack(),F=!B||B.members.length<=1,$=!!(z&&!F&&this.options.crossfade===!0&&!this.path.some(_L));this.animationProgress=0;let M;this.mixTargetDelta=w=>{const E=w/1e3;sT(b.x,u.x,E),sT(b.y,u.y,E),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(of(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wL(this.relativeTarget,this.relativeTargetOrigin,T,E),M&&J3(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=qt()),bs(M,this.relativeTarget)),z&&(this.animationValues=x,tL(x,y,this.latestValues,E,$,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{Dd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ol(0)),this.motionValue.jump(0,!1),this.currentAnimation=iL(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(cL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:p,layout:y,latestValues:x}=u;if(!(!f||!p||!y)){if(this!==u&&this.layout&&y&&H2(this.options.animationType,this.layout.layoutBox,y.layoutBox)){p=this.target||qt();const b=xn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+b;const T=xn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+T}bs(f,p),Ho(f,x),qc(this.projectionDeltaWithTransform,this.layoutCorrected,f,x)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new lL),this.sharedNodes.get(u).add(f);const y=f.options.initialPromotionConfig;f.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:p}={}){const y=this.getStack();y&&y.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const y={};p.z&&lg("z",u,y,this.animationValues);for(let x=0;x<og.length;x++)lg(`rotate${og[x]}`,u,y,this.animationValues),lg(`skew${og[x]}`,u,y,this.animationValues);u.render();for(const x in y)u.setStaticValue(x,y[x]),this.animationValues&&(this.animationValues[x]=y[x]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=kd(f?.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=kd(f?.pointerEvents)||""),this.hasProjected&&!ja(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const x=y.animationValues||y.latestValues;this.applyTransformsToTarget();let b=Z3(this.projectionDeltaWithTransform,this.treeScale,x);p&&(b=p(x,b)),u.transform=b;const{x:T,y:j}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${j.origin*100}% 0`,y.animationValues?u.opacity=y===this?x.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=y===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const D in hy){if(x[D]===void 0)continue;const{correct:z,applyTo:B,isCSSVariable:F}=hy[D],$=b==="none"?x[D]:z(x[D],y);if(B){const M=B.length;for(let w=0;w<M;w++)u[B[w]]=$}else F?this.options.visualElement.renderState.vars[D]=$:u[D]=$}this.options.layoutId&&(u.pointerEvents=y===this?kd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(eT),this.root.sharedNodes.clear()}}}function hL(t){t.updateLayout()}function dL(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?si(x=>{const b=l?e.measuredBox[x]:e.layoutBox[x],T=xn(b);b.min=n[x].min,b.max=b.min+T}):H2(a,e.layoutBox,n)&&si(x=>{const b=l?e.measuredBox[x]:e.layoutBox[x],T=xn(n[x]);b.max=b.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+T)});const u=Fo();qc(u,n,e.layoutBox);const f=Fo();l?qc(f,t.applyTransform(i,!0),e.measuredBox):qc(f,n,e.layoutBox);const p=!L2(u);let y=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:b,layout:T}=x;if(b&&T){const j=qt();of(j,e.layoutBox,b.layoutBox);const D=qt();of(D,n,T.layoutBox),B2(j,D)||(y=!0),x.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=j,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function fL(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function mL(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pL(t){t.clearSnapshot()}function eT(t){t.clearMeasurements()}function tT(t){t.isLayoutDirty=!1}function gL(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function yL(t){t.resolveTargetDelta()}function xL(t){t.calcProjection()}function vL(t){t.resetSkewAndRotation()}function bL(t){t.removeLeadSnapshot()}function sT(t,e,n){t.translate=yt(e.translate,0,n),t.scale=yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iT(t,e,n,i){t.min=yt(e.min,n.min,i),t.max=yt(e.max,n.max,i)}function wL(t,e,n,i){iT(t.x,e.x,n.x,i),iT(t.y,e.y,n.y,i)}function _L(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TL={duration:.45,ease:[.4,0,.1,1]},rT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),aT=rT("applewebkit/")&&!rT("chrome/")?Math.round:is;function oT(t){t.min=aT(t.min),t.max=aT(t.max)}function EL(t){oT(t.x),oT(t.y)}function H2(t,e,n){return t==="position"||t==="preserve-aspect"&&!K3(W1(e),W1(n),.2)}function SL(t){return t!==t.root&&t.scroll?.wasRoot}const AL=q2({attachResizeListener:(t,e)=>au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),cg={current:void 0},G2=q2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cg.current){const t=new AL({});t.mount(window),t.setOptions({layoutScroll:!0}),cg.current=t}return cg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),G0=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function lT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NL(...t){return e=>{let n=!1;const i=t.map(a=>{const l=lT(a,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():lT(t[a],null)}}}}function RL(...t){return P.useCallback(NL(...t),t)}class CL extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=n.offsetParent,a=oy(i)&&i.offsetWidth||0,l=oy(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=n.offsetHeight||0,u.width=n.offsetWidth||0,u.top=n.offsetTop,u.left=n.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function jL({children:t,isPresent:e,anchorX:n,anchorY:i,root:a,pop:l}){const u=P.useId(),f=P.useRef(null),p=P.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:y}=P.useContext(G0),x=t.props?.ref??t?.ref,b=RL(f,x);return P.useInsertionEffect(()=>{const{width:T,height:j,top:D,left:z,right:B,bottom:F}=p.current;if(e||l===!1||!f.current||!T||!j)return;const $=n==="left"?`left: ${z}`:`right: ${B}`,M=i==="bottom"?`bottom: ${F}`:`top: ${D}`;f.current.dataset.motionPopId=u;const w=document.createElement("style");y&&(w.nonce=y);const E=a??document.head;return E.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${T}px !important;
            height: ${j}px !important;
            ${$}px !important;
            ${M}px !important;
          }
        `),()=>{E.contains(w)&&E.removeChild(w)}},[e]),h.jsx(CL,{isPresent:e,childRef:f,sizeRef:p,pop:l,children:l===!1?t:P.cloneElement(t,{ref:b})})}const IL=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:p,root:y})=>{const x=x0(kL),b=P.useId();let T=!0,j=P.useMemo(()=>(T=!1,{id:b,initial:e,isPresent:n,custom:a,onExitComplete:D=>{x.set(D,!0);for(const z of x.values())if(!z)return;i&&i()},register:D=>(x.set(D,!1),()=>x.delete(D))}),[n,x,i]);return l&&T&&(j={...j}),P.useMemo(()=>{x.forEach((D,z)=>x.set(z,!1))},[n]),P.useEffect(()=>{!n&&!x.size&&i&&i()},[n]),t=h.jsx(jL,{pop:u==="popLayout",isPresent:n,anchorX:f,anchorY:p,root:y,children:t}),h.jsx(jf.Provider,{value:j,children:t})};function kL(){return new Map}function $2(t=!0){const e=P.useContext(jf);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=P.useId();P.useEffect(()=>{if(t)return a(l)},[t]);const u=P.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const dd=t=>t.key||"";function cT(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const DL=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:p="top",root:y})=>{const[x,b]=$2(u),T=P.useMemo(()=>cT(t),[t]),j=u&&!x?[]:T.map(dd),D=P.useRef(!0),z=P.useRef(T),B=x0(()=>new Map),F=P.useRef(new Set),[$,M]=P.useState(T),[w,E]=P.useState(T);bA(()=>{D.current=!1,z.current=T;for(let A=0;A<w.length;A++){const R=dd(w[A]);j.includes(R)?(B.delete(R),F.current.delete(R)):B.get(R)!==!0&&B.set(R,!1)}},[w,j.length,j.join("-")]);const I=[];if(T!==$){let A=[...T];for(let R=0;R<w.length;R++){const V=w[R],O=dd(V);j.includes(O)||(A.splice(R,0,V),I.push(V))}return l==="wait"&&I.length&&(A=I),E(cT(A)),M(T),null}const{forceRender:N}=P.useContext(y0);return h.jsx(h.Fragment,{children:w.map(A=>{const R=dd(A),V=u&&!x?!1:T===w||j.includes(R),O=()=>{if(F.current.has(R))return;if(F.current.add(R),B.has(R))B.set(R,!0);else return;let G=!0;B.forEach(L=>{L||(G=!1)}),G&&(N?.(),E(z.current),u&&b?.(),i&&i())};return h.jsx(IL,{isPresent:V,initial:!D.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:y,onExitComplete:V?void 0:O,anchorX:f,anchorY:p,children:A},R)})})},K2=P.createContext({strict:!1}),uT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let hT=!1;function PL(){if(hT)return;const t={};for(const e in uT)t[e]={isEnabled:n=>uT[e].some(i=>!!n[i])};_2(t),hT=!0}function Y2(){return PL(),v3()}function ML(t){const e=Y2();for(const n in t)e[n]={...e[n],...t[n]};_2(e)}const VL=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function lf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VL.has(t)}let W2=t=>!lf(t);function OL(t){typeof t=="function"&&(W2=e=>e.startsWith("on")?!lf(e):t(e))}try{OL(require("@emotion/is-prop-valid").default)}catch{}function LL(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(W2(a)||n===!0&&lf(a)||!e&&!lf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}const Df=P.createContext({});function BL(t,e){if(kf(t)){const{initial:n,animate:i}=t;return{initial:n===!1||ru(n)?n:void 0,animate:ru(i)?i:void 0}}return t.inherit!==!1?e:{}}function UL(t){const{initial:e,animate:n}=BL(t,P.useContext(Df));return P.useMemo(()=>({initial:e,animate:n}),[dT(e),dT(n)])}function dT(t){return Array.isArray(t)?t.join(" "):t}const $0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Q2(t,e,n){for(const i in e)!fn(e[i])&&!C2(i,n)&&(t[i]=e[i])}function zL({transformTemplate:t},e){return P.useMemo(()=>{const n=$0();return q0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function FL(t,e){const n=t.style||{},i={};return Q2(i,n,t),Object.assign(i,zL(t,e)),i}function qL(t,e){const n={},i=FL(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const X2=()=>({...$0(),attrs:{}});function HL(t,e,n,i){const a=P.useMemo(()=>{const l=X2();return j2(l,e,k2(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};Q2(l,t.style,t),a.style={...l,...a.style}}return a}const GL=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K0(t){return typeof t!="string"||t.includes("-")?!1:!!(GL.indexOf(t)>-1||/[A-Z]/u.test(t))}function $L(t,e,n,{latestValues:i},a,l=!1,u){const p=(u??K0(t)?HL:qL)(e,i,a,t),y=LL(e,typeof t=="string",l),x=t!==P.Fragment?{...y,...p,ref:n}:{},{children:b}=e,T=P.useMemo(()=>fn(b)?b.get():b,[b]);return P.createElement(t,{...x,children:T})}function KL({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:YL(n,i,a,t),renderState:e()}}function YL(t,e,n,i){const a={},l=i(t,{});for(const T in l)a[T]=kd(l[T]);let{initial:u,animate:f}=t;const p=kf(t),y=b2(t);e&&y&&!p&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const b=x?f:u;if(b&&typeof b!="boolean"&&!If(b)){const T=Array.isArray(b)?b:[b];for(let j=0;j<T.length;j++){const D=M0(t,T[j]);if(D){const{transitionEnd:z,transition:B,...F}=D;for(const $ in F){let M=F[$];if(Array.isArray(M)){const w=x?M.length-1:0;M=M[w]}M!==null&&(a[$]=M)}for(const $ in z)a[$]=z[$]}}}return a}const J2=t=>(e,n)=>{const i=P.useContext(Df),a=P.useContext(jf),l=()=>KL(t,e,i,a);return n?l():x0(l)},WL=J2({scrapeMotionValuesFromProps:H0,createRenderState:$0}),QL=J2({scrapeMotionValuesFromProps:D2,createRenderState:X2}),XL=Symbol.for("motionComponentSymbol");function JL(t,e,n){const i=P.useRef(n);P.useInsertionEffect(()=>{i.current=n});const a=P.useRef(null);return P.useCallback(l=>{l&&t.onMount?.(l),e&&(l?e.mount(l):e.unmount());const u=i.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[e])}const Z2=P.createContext({});function Lo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZL(t,e,n,i,a,l){const{visualElement:u}=P.useContext(Df),f=P.useContext(K2),p=P.useContext(jf),y=P.useContext(G0),x=y.reducedMotion,b=y.skipAnimations,T=P.useRef(null),j=P.useRef(!1);i=i||f.renderer,!T.current&&i&&(T.current=i(t,{visualState:e,parent:u,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:x,skipAnimations:b,isSVG:l}),j.current&&T.current&&(T.current.manuallyAnimateOnMount=!0));const D=T.current,z=P.useContext(Z2);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&e6(T.current,n,a,z);const B=P.useRef(!1);P.useInsertionEffect(()=>{D&&B.current&&D.update(n,p)});const F=n[o2],$=P.useRef(!!F&&!window.MotionHandoffIsComplete?.(F)&&window.MotionHasOptimisedAnimation?.(F));return bA(()=>{j.current=!0,D&&(B.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),$.current&&D.animationState&&D.animationState.animateChanges())}),P.useEffect(()=>{D&&(!$.current&&D.animationState&&D.animationState.animateChanges(),$.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(F)}),$.current=!1),D.enteringChildren=void 0)}),D}function e6(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:p,layoutRoot:y,layoutCrossfade:x}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eN(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&Lo(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:x,layoutScroll:p,layoutRoot:y})}function eN(t){if(t)return t.options.allowProjection!==!1?t.projection:eN(t.parent)}function ug(t,{forwardMotionProps:e=!1,type:n}={},i,a){i&&ML(i);const l=n?n==="svg":K0(t),u=l?QL:WL;function f(y,x){let b;const T={...P.useContext(G0),...y,layoutId:t6(y)},{isStatic:j}=T,D=UL(y),z=u(y,j);if(!j&&vA){n6();const B=s6(T);b=B.MeasureLayout,D.visualElement=ZL(t,z,T,a,B.ProjectionNode,l)}return h.jsxs(Df.Provider,{value:D,children:[b&&D.visualElement?h.jsx(b,{visualElement:D.visualElement,...T}):null,$L(t,y,JL(z,D.visualElement,x),z,j,e,l)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const p=P.forwardRef(f);return p[XL]=t,p}function t6({layoutId:t}){const e=P.useContext(y0).id;return e&&t!==void 0?e+"-"+t:t}function n6(t,e){P.useContext(K2).strict}function s6(t){const e=Y2(),{drag:n,layout:i}=e;if(!n&&!i)return{};const a={...n,...i};return{MeasureLayout:n?.isEnabled(t)||i?.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function i6(t,e){if(typeof Proxy>"u")return ug;const n=new Map,i=(l,u)=>ug(l,u,t,e),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,ug(u,void 0,t,e)),n.get(u))})}const r6=(t,e)=>e.isSVG??K0(t)?new V3(e):new j3(e,{allowProjection:t!==P.Fragment});class a6 extends Xr{constructor(e){super(e),e.animationState||(e.animationState=z3(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();If(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let o6=0;class l6 extends Xr{constructor(){super(...arguments),this.id=o6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const c6={animation:{Feature:a6},exit:{Feature:l6}};function Au(t){return{point:{x:t.pageX,y:t.pageY}}}const u6=t=>e=>B0(e)&&t(e,Au(e));function Hc(t,e,n,i){return au(t,e,u6(n),i)}const tN=({current:t})=>t?t.ownerDocument.defaultView:null,fT=(t,e)=>Math.abs(t-e);function h6(t,e){const n=fT(t.x,e.x),i=fT(t.y,e.y);return Math.sqrt(n**2+i**2)}const mT=new Set(["auto","scroll"]);class nN{constructor(e,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=j=>{this.handleScroll(j.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=dg(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,z=h6(j.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!z)return;const{point:B}=j,{timestamp:F}=sn;this.history.push({...B,timestamp:F});const{onStart:$,onMove:M}=this.handlers;D||($&&$(this.lastMoveEvent,j),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,j)},this.handlePointerMove=(j,D)=>{this.lastMoveEvent=j,this.lastMoveEventInfo=hg(D,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(j,D)=>{this.end();const{onEnd:z,onSessionEnd:B,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=dg(j.type==="pointercancel"?this.lastMoveEventInfo:hg(D,this.transformPagePoint),this.history);this.startEvent&&z&&z(j,$),B&&B(j,$)},!B0(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const p=Au(e),y=hg(p,this.transformPagePoint),{point:x}=y,{timestamp:b}=sn;this.history=[{...x,timestamp:b}];const{onSessionStart:T}=n;T&&T(e,dg(y,this.history)),this.removeListeners=Tu(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(e){let n=e.parentElement;for(;n;){const i=getComputedStyle(n);(mT.has(i.overflowX)||mT.has(i.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const i=e===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-n.x,y:a.y-n.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),lt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Yr(this.updatePoint)}}function hg(t,e){return e?{point:e(t.point)}:t}function pT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dg({point:t},e){return{point:t,delta:pT(t,sN(e)),offset:pT(t,d6(e)),velocity:f6(e,.1)}}function d6(t){return t[0]}function sN(t){return t[t.length-1]}function f6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=sN(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>As(e)));)n--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&a.timestamp-i.timestamp>As(e)*2&&(i=t[1]);const l=ss(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function m6(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?yt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?yt(n,t,i.max):Math.min(t,n)),t}function gT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function p6(t,{top:e,left:n,bottom:i,right:a}){return{x:gT(t.x,n,a),y:gT(t.y,e,i)}}function yT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function g6(t,e){return{x:yT(t.x,e.x),y:yT(t.y,e.y)}}function y6(t,e){let n=.5;const i=xn(t),a=xn(e);return a>i?n=nu(e.min,e.max-i,t.min):i>a&&(n=nu(t.min,t.max-a,e.min)),mi(0,1,n)}function x6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dy=.35;function v6(t=dy){return t===!1?t=0:t===!0&&(t=dy),{x:xT(t,"left","right"),y:xT(t,"top","bottom")}}function xT(t,e,n){return{min:vT(t,e),max:vT(t,n)}}function vT(t,e){return typeof t=="number"?t:t[e]||0}const b6=new WeakMap;class w6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{n&&this.snapToCursor(Au(b).point),this.stopAnimation()},u=(b,T)=>{const{drag:j,dragPropagation:D,onDragStart:z}=this.getProps();if(j&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=WO(j),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(F=>{let $=this.getAxisMotionValue(F).get()||0;if(hi.test($)){const{projection:M}=this.visualElement;if(M&&M.layout){const w=M.layout.layoutBox[F];w&&($=xn(w)*(parseFloat($)/100))}}this.originPoint[F]=$}),z&&lt.update(()=>z(b,T),!1,!0),sy(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},f=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T;const{dragPropagation:j,dragDirectionLock:D,onDirectionLock:z,onDrag:B}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:F}=T;if(D&&this.currentDirection===null){this.currentDirection=T6(F),this.currentDirection!==null&&z&&z(this.currentDirection);return}this.updateAxis("x",T.point,F),this.updateAxis("y",T.point,F),this.visualElement.render(),B&&lt.update(()=>B(b,T),!1,!0)},p=(b,T)=>{this.latestPointerEvent=b,this.latestPanInfo=T,this.stop(b,T),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>{const{dragSnapToOrigin:b}=this.getProps();(b||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:x}=this.getProps();this.panSession=new nN(e,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:p,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:x,distanceThreshold:i,contextWindow:tN(this.visualElement),element:this.visualElement.current})}stop(e,n){const i=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&lt.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!fd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=m6(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Lo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=p6(i.layoutBox,e):this.constraints=!1,this.elastic=v6(n),a!==this.constraints&&!Lo(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=x6(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Lo(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=E3(i,a.root,this.visualElement.getTransformPagePoint());let u=g6(a.layout.layoutBox,l);if(n){const f=n(w3(u));this.hasMutatedConstraints=!!f,f&&(u=E2(f))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},y=si(x=>{if(!fd(x,n,this.currentDirection))return;let b=p&&p[x]||{};u&&(b={min:0,max:0});const T=a?200:1e6,j=a?40:1e7,D={type:"inertia",velocity:i?e[x]:0,bounceStiffness:T,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(x,D)});return Promise.all(y).then(f)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return sy(this.visualElement,e),i.start(P0(e,i,0,n,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){si(n=>{const{drag:i}=this.getProps();if(!fd(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n],p=l.get()||0;l.set(e[n]-yt(u,f,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Lo(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};si(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const p=f.get();a[u]=y6({min:p,max:p},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),si(u=>{if(!fd(u,e,null))return;const f=this.getAxisMotionValue(u),{min:p,max:y}=this.constraints[u];f.set(yt(p,y,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;b6.set(this.visualElement,this);const e=this.visualElement.current,n=Hc(e,"pointerdown",y=>{const{drag:x,dragListener:b=!0}=this.getProps(),T=y.target,j=T!==e&&t3(T);x&&b&&!j&&this.start(y)});let i;const a=()=>{const{dragConstraints:y}=this.getProps();Lo(y)&&y.current&&(this.constraints=this.resolveRefConstraints(),i||(i=_6(e,y.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),lt.read(a);const f=au(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:x})=>{this.isDragging&&x&&(si(b=>{const T=this.getAxisMotionValue(b);T&&(this.originPoint[b]+=y[b].translate,T.set(T.get()+y[b].translate))}),this.visualElement.render())}));return()=>{f(),n(),u(),p&&p(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=dy,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function bT(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function _6(t,e,n){const i=N1(t,bT(n)),a=N1(e,bT(n));return()=>{i(),a()}}function fd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function T6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class E6 extends Xr{constructor(e){super(e),this.removeGroupControls=is,this.removeListeners=is,this.controls=new w6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||is}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const fg=t=>(e,n)=>{t&&lt.update(()=>t(e,n),!1,!0)};class S6 extends Xr{constructor(){super(...arguments),this.removePointerDownListener=is}onPointerDown(e){this.session=new nN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:fg(e),onStart:fg(n),onMove:fg(i),onEnd:(l,u)=>{delete this.session,a&&lt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let mg=!1;class A6 extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),mg&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Dd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,e.layoutDependency!==n&&u.setOptions({...u.options,layoutDependency:n}),mg=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||lt.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),L0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;mg=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iN(t){const[e,n]=$2(),i=P.useContext(y0);return h.jsx(A6,{...t,layoutGroup:i,switchLayoutGroup:P.useContext(Z2),isPresent:e,safeToRemove:n})}const N6={pan:{Feature:S6},drag:{Feature:E6,ProjectionNode:G2,MeasureLayout:iN}};function wT(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&lt.postRender(()=>l(e,Au(e)))}class R6 extends Xr{mount(){const{current:e}=this.node;e&&(this.unmount=XO(e,(n,i)=>(wT(this.node,i,"Start"),a=>wT(this.node,a,"End"))))}unmount(){}}class C6 extends Xr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Tu(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _T(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&lt.postRender(()=>l(e,Au(e)))}class j6 extends Xr{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:i}=this.node.props;this.unmount=s3(e,(a,l)=>(_T(this.node,l,"Start"),(u,{success:f})=>_T(this.node,u,f?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:i?.tap===!1})}unmount(){}}const fy=new WeakMap,pg=new WeakMap,I6=t=>{const e=fy.get(t.target);e&&e(t)},k6=t=>{t.forEach(I6)};function D6({root:t,...e}){const n=t||document;pg.has(n)||pg.set(n,{});const i=pg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(k6,{root:t,...e})),i[a]}function P6(t,e,n){const i=D6(e);return fy.set(t,n),i.observe(t),()=>{fy.delete(t),i.unobserve(t)}}const M6={some:0,all:1};class V6 extends Xr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:M6[a]},f=p=>{const{isIntersecting:y}=p;if(this.isInView===y||(this.isInView=y,l&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:x,onViewportLeave:b}=this.node.getProps(),T=y?x:b;T&&T(p)};return P6(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(O6(e,n))&&this.startObserver()}unmount(){}}function O6({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const L6={inView:{Feature:V6},tap:{Feature:j6},focus:{Feature:C6},hover:{Feature:R6}},B6={layout:{ProjectionNode:G2,MeasureLayout:iN}},U6={...c6,...L6,...N6,...B6},z6=i6(U6,r6),Y0={growth:{title:"   (Premium Collection)",desc:"       5 ",books:[{title:"",author:" ",cover:"/images/covers/sapiens.jpg",desc:"    .   .",link:"https://www.coupang.com/np/search?component=&q="},{title:"  ",author:" ",cover:"/images/covers/e_05.jpg",desc:"  .   .",link:"https://www.coupang.com/np/search?component=&q="},{title:"",author:" ",cover:"/images/covers/c_02.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q="},{title:"  8 ",author:" ",cover:"/images/covers/b_06.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20%208%20"},{title:"  ",author:" ",cover:"/images/covers/ju_01.jpg",desc:"        .",link:"https://www.coupang.com/np/search?component=&q=%20%20"},{title:" ",author:"",cover:"/images/covers/say_01.jpg",desc:"     .    .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:" ",author:" ",cover:"/images/covers/don_01.jpg",desc:"   20  .     .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:"",author:" ",cover:"/images/covers/factfulness.jpg",desc:"    .    .",link:"https://www.coupang.com/np/search?component=&q="},{title:"",author:" ",cover:"/images/covers/rm_01.jpg",desc:"     .   .",link:"https://www.coupang.com/np/search?component=&q="},{title:"",author:" ",cover:"/images/covers/one_01.jpg",desc:"     .    .",link:"https://www.coupang.com/np/search?component=&q="}],travelTitle:"    (Travel Curation)",travelDesc:"       Top 5",travel:[{place:"",country:"",image:"https://images.unsplash.com/photo-1501594907352-04cda38ebc29?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1496442226666-8d4a0e62e6e9?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1525625293386-3f8f99389edd?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1599946347371-68eb71b16afc?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"UAE",image:"https://images.unsplash.com/photo-1512453979798-5ea936a7d40c?q=80&w=800&auto=format&fit=crop",desc:"     ,   "}]},entertainment:{title:"  (Premium Collection)",desc:"     5",books:[{title:" ",author:" ",cover:"/images/covers/b_10.jpg",desc:"    .   .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:"    ",author:" ",cover:"/images/covers/e_03.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20%20%20%20"},{title:" ",author:" ",cover:"/images/covers/mo_02.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:" ",author:" ",cover:"/images/covers/b_09.jpg",desc:"AI      .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:"",author:" ",cover:"/images/covers/e_01.jpg",desc:"    .",link:"https://www.coupang.com/np/search?component=&q="}],travelTitle:"    (Travel Curation)",travelDesc:"       Top 5",travel:[{place:"",country:"",image:"https://images.unsplash.com/photo-1605810230434-7631ac76ec81?q=80&w=800&auto=format&fit=crop",desc:"24      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1551641506-ee5bf4cb45f1?q=80&w=800&auto=format&fit=crop",desc:"        "},{place:"",country:"",image:"https://images.unsplash.com/photo-1511527661048-7fe73d85e9a4?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1508009603885-50cf7c579365?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1589802829985-817e51171b92?q=80&w=800&auto=format&fit=crop",desc:" ,     "}]},empathy:{title:"   (Premium Collection)",desc:"     5",books:[{title:"",author:"",cover:"/images/covers/almond.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q="},{title:" ",author:"",cover:"/images/covers/human_acts.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:"",author:"",cover:"/images/covers/vegetarian.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q="},{title:" ",author:"",cover:"/images/covers/i_07.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q=%20"},{title:" ",author:" ",cover:"/images/covers/o_05.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q=%20"}],travelTitle:"    (Travel Curation)",travelDesc:" ,      Top 5",travel:[{place:"",country:"",image:"https://images.unsplash.com/photo-1502602898657-3e91760cbb34?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1534429776-27727e242d33?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1546708973-b339540b5104?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1592906209472-a36b1f3782ef?q=80&w=800&auto=format&fit=crop",desc:"      "},{place:"",country:"",image:"https://images.unsplash.com/photo-1570077188670-e3a8d69ac5ff?q=80&w=800&auto=format&fit=crop",desc:"   ,      "}]},mindfulness:{title:"  (Premium Collection)",desc:"      5",books:[{title:"",author:" ",cover:"/images/covers/demian.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q="},{title:"    ",author:" ",cover:"/images/covers/lightness.jpg",desc:"     .",link:"https://www.coupang.com/np/search?component=&q=%20%20%20%20"},{title:"",author:" ",cover:"/images/covers/r_07.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q="},{title:"1984",author:" ",cover:"/images/covers/1984.jpg",desc:"      .",link:"https://www.coupang.com/np/search?component=&q=1984"},{title:"  ",author:"",cover:"/images/covers/i_02.jpg",desc:"  ,     .",link:"https://www.coupang.com/np/search?component=&q=%20%20"},{title:"",author:" ",cover:"/images/covers/wm_01.jpg",desc:"     .     .",link:"https://www.coupang.com/np/search?component=&q="}],travelTitle:"     (Travel Curation)",travelDesc:"       Top 5",travel:[{place:"",country:" ",image:"https://images.unsplash.com/photo-1537996194471-e657df975ab4?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1587595431973-160d0d94add1?q=80&w=800&auto=format&fit=crop",desc:" ,     "},{place:"",country:"",image:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=800&auto=format&fit=crop",desc:"       "},{place:"",country:"",image:"https://images.unsplash.com/photo-1499678329028-101435549a4e?q=80&w=800&auto=format&fit=crop",desc:"        "},{place:"",country:"",image:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=800&auto=format&fit=crop",desc:" ,  (Zen Garden)   "}]}},rN=P.createContext(),Pf=()=>P.useContext(rN),F6=({children:t})=>{const[e,n]=P.useState(!1),[i,a]=P.useState(null),l=P.useRef(null),u=P.useRef(null),f=P.useRef(!1);P.useEffect(()=>{l.current=new Audio,u.current=new Audio;const T=()=>{l.current&&(l.current.play().catch(()=>{}),l.current.pause()),u.current&&(u.current.play().catch(()=>{}),u.current.pause()),document.removeEventListener("click",T)};document.addEventListener("click",T)},[]);const p=async T=>{if(u.current){u.current.src=T,u.current.loop=!0,u.current.volume=.1;try{await u.current.play()}catch{}}},y=()=>{f.current=!0,l.current&&(l.current.pause(),l.current.src=""),u.current&&(u.current.pause(),u.current.src=""),n(!1),a(null),setTimeout(()=>{f.current=!1},200)},x=async(T,j="podcast")=>{if(e)return y();n(!0),a(j),f.current=!1,await p("/music/carefree.mp3");const D=j.toLowerCase().replace(/[^a-z0-9]/g,"").replace("review","").replace("pick","").replace("weekly",""),z=[`/audio/${D}.mp3?v=${Date.now()}`,`/audio/fact.mp3?v=${Date.now()}`];console.log("[AUDIO-SYS] Searching for MP3 for baseId:",D);let B=null;for(const F of z)try{if((await fetch(F,{method:"HEAD"})).ok){B=F;break}}catch{}B?(console.log("[AUDIO-SYS] Found local MP3! Playing:",B),await new Promise(F=>{l.current.src=B,l.current.onended=()=>F(),l.current.onerror=()=>F(),l.current.play().catch(()=>F());const $=setInterval(()=>{f.current&&(l.current.pause(),clearInterval($),F())},100)})):console.error("[AUDIO-SYS] FATAL: No local MP3 found. TTS is DISABLED."),n(!1),a(null)},b=(T,j)=>x([],j);return h.jsx(rN.Provider,{value:{isSpeaking:e,activeAudioId:i,playPodcast:x,speakReview:b,stopAll:y},children:t})},_t={sapiens:[{role:"A",text:" !    .           ."},{role:"B",text:",  .         ''   .     ."},{role:"A",text:"        ,           ."},{role:"B",text:"     ,  ,  ,         ."},{role:"A",text:" ' '    .  7  ,            ."},{role:"B",text:"       '  ' . , , , , ...            ."},{role:"A",text:"      ,      ,         ."},{role:"B",text:"  '  '     . , ,    , , ,        ."},{role:"A",text:"  ,           .                  ."},{role:"B",text:" ' '.    '  '    .         ,     ."},{role:"A",text:"   ,             ."},{role:"B",text:"       ,     .          ,     ."},{role:"A",text:"   ,     .      ,       ."},{role:"B",text:"   ' '.              ."},{role:"A",text:"        .     ,       ."},{role:"B",text:" ' '     .       ''    ."},{role:"A",text:", ,        ?  .    ,                ."},{role:"B",text:"     ,          ."},{role:"A",text:"                ."},{role:"B",text:"       ,            ."},{role:"A",text:"     .         ,      ."},{role:"B",text:"              ."},{role:"A",text:"       .          ."},{role:"B",text:"         .          ."},{role:"A",text:"     ,            ."},{role:"B",text:",         .     !"}],1984:[{role:"A",text:" !    .         ."},{role:"B",text:",  .       , '1984'  .     ."},{role:"A",text:"         ,         ."},{role:"B",text:"  ' '        ,         ."},{role:"A",text:"  '' ''             ."},{role:"B",text:"     .                 ."},{role:"A",text:"        .       ."},{role:"B",text:"     ,        . '    '   ."},{role:"A",text:"         ,    ''    ."},{role:"B",text:"  101     '   '      ."},{role:"A",text:"              ."},{role:"B",text:"  ''       .         ."},{role:"A",text:"                 ."},{role:"B",text:"    '   '          ."},{role:"A",text:"           ."},{role:"B",text:"         .         ."},{role:"A",text:"    ,  ,        ."},{role:"B",text:" ,            ."},{role:"A",text:"   ,     .          ."},{role:"B",text:"     .     !"}],demian:[{role:"A",text:" !    .       ."},{role:"B",text:",  .           ''  .     ."},{role:"A",text:" ''     ,         ."},{role:"B",text:"              ."},{role:"A",text:"                ."},{role:"B",text:"            ."},{role:"A",text:"      ,     ."},{role:"B",text:"  . '    .  .       .'"},{role:"A",text:"           .         ."},{role:"B",text:"         .     ,    ."},{role:"A",text:"        .        ."},{role:"B",text:"                ."},{role:"A",text:"                ."},{role:"B",text:"     '   ,     '     ."},{role:"A",text:"    ,          ."},{role:"B",text:"           ."},{role:"A",text:"     .    ,         ."},{role:"B",text:"    ?      ,       ?"},{role:"A",text:"     ,        ."},{role:"B",text:"             .     !"}],vegetarian:[{role:"A",text:"!    .       ."},{role:"B",text:",  .     2024   ,   ''  .     ."},{role:"A",text:"      ,        ."},{role:"B",text:"        ,           ."},{role:"A",text:"       ,          ."},{role:"B",text:"        ,           ."},{role:"A",text:"               ."},{role:"B",text:"     ,           ."},{role:"A",text:"             ."},{role:"B",text:"                ."},{role:"A",text:"  ,   ,           ."},{role:"B",text:"     ''   .           ?"},{role:"A",text:"              ."},{role:"B",text:"      ,         ."},{role:"A",text:"     ,            ."},{role:"B",text:"         .       ."},{role:"A",text:"    ,          ."},{role:"B",text:"           .     !"}],factfulness:[{role:"A",text:"!    .        ."},{role:"B",text:",  .     ,   ''  .     ."},{role:"A",text:"         (Fact)      ."},{role:"B",text:"     10   .    ' '   ."},{role:"A",text:" 4                  ."},{role:"B",text:"     ' '         ."},{role:"A",text:"      ,    .      ."},{role:"B",text:"     ,            ."},{role:"A",text:"         .        ."},{role:"B",text:"         ''   ."},{role:"A",text:"             ."},{role:"B",text:"     ' '       ."},{role:"A",text:"       ,       ."},{role:"B",text:"     ' '   ' '    ."},{role:"A",text:"          ."},{role:"B",text:"   .        .     !"}],almond:[{role:"A",text:" !    .   1      ."},{role:"B",text:",  .        ,   ''  .     ."},{role:"A",text:"            ''     ."},{role:"B",text:"    ,  ''    .         ."},{role:"A",text:"          ,      ."},{role:"B",text:"                ."},{role:"A",text:"               ."},{role:"B",text:"    ''  ,         ."},{role:"A",text:"       ,          ."},{role:"B",text:"             ''  ."},{role:"A",text:"            ."},{role:"B",text:"    ,             ."},{role:"A",text:"             ."},{role:"B",text:"            ."},{role:"A",text:"               ."},{role:"B",text:"       .     !"}],leverage:[{role:"A",text:"!    .      ?"},{role:"B",text:",  .         ,   ''  .     ."},{role:"A",text:"            ."},{role:"B",text:"     ,         ."},{role:"A",text:"'V.V.I.P.'                 ."},{role:"B",text:"              ."},{role:"A",text:"   ,        ."},{role:"B",text:"        ,       ."},{role:"A",text:", ,      ,          ."},{role:"B",text:"  '  '           ."},{role:"A",text:"    .         ."},{role:"B",text:"      ,          ."},{role:"A",text:"     ,    ?"},{role:"B",text:"      .     !"}],"one-thing":[{role:"A",text:"!    .     '  '  ."},{role:"B",text:",  .          ,   ''  .     ."},{role:"A",text:"      ,             ?"},{role:"B",text:"      ,          ."},{role:"A",text:"    .       ."},{role:"B",text:"      ,        ."},{role:"A",text:"'   ' '   '        ."},{role:"B",text:"  ,         4  ' ' ."},{role:"A",text:"   .          ."},{role:"B",text:"      ,        ."},{role:"A",text:"              ."},{role:"B",text:"           .     !"}],ubermensch:[{role:"A",text:"!    .      ?"},{role:"B",text:",  .        , ''   .     ."},{role:"A",text:"       ,           ."},{role:"B",text:"    , ,       ."},{role:"A",text:"    ,            ."},{role:"B",text:"     ' '         ."},{role:"A",text:"   ' '    ' !'     ."},{role:"B",text:"            ,    ."},{role:"A",text:"              ."},{role:"B",text:"            ."},{role:"A",text:"       ,      ."},{role:"B",text:"           .     !"}],sayno:[{role:"A",text:"!    .        ."},{role:"B",text:",  .        , ' '  .     ."},{role:"A",text:"            ."},{role:"B",text:"       ,        ."},{role:"A",text:"      ' '      ."},{role:"B",text:"      ,         ."},{role:"A",text:"           .       ."},{role:"B",text:"              ."},{role:"A",text:"                ."},{role:"B",text:", ,             ."},{role:"A",text:"    ?         ."},{role:"B",text:"         .     !"}],psychology:[{role:"A",text:"!    .        ."},{role:"B",text:",  .        ,   ' '  .     ."},{role:"A",text:"             ."},{role:"B",text:"           ''  ."},{role:"A",text:"              ."},{role:"B",text:"     ''         ."},{role:"A",text:"                ."},{role:"B",text:"           ."},{role:"A",text:"        ' '   ."},{role:"B",text:"              ' '   ."},{role:"A",text:"           ."},{role:"B",text:"         .     !"}],"property-money":[{role:"A",text:" !    .       ."},{role:"B",text:",  .        ' '  .     ."},{role:"A",text:"        ''     ."},{role:"B",text:"              ."},{role:"A",text:"              ."},{role:"B",text:"                ."},{role:"A",text:"               ."},{role:"B",text:"         ,    ."},{role:"A",text:"              ."},{role:"B",text:"          .     !"}],"your-name":[{role:"A",text:" !    .        ."},{role:"B",text:",  .         ,   ' '  .     ."},{role:"A",text:"               ."},{role:"B",text:"    ''            ."},{role:"A",text:"              ."},{role:"B",text:"                ."},{role:"A",text:"               ."},{role:"B",text:"             ."},{role:"A",text:"           ''  ."},{role:"B",text:"            .     !"}],stoner:[{role:"A",text:" !    .         ."},{role:"B",text:",  .            ,   ''  .     ."},{role:"A",text:"               ."},{role:"B",text:"               ."},{role:"A",text:"      ,        ."},{role:"B",text:"  '  ?'          ."},{role:"A",text:"             ."},{role:"B",text:"            ."},{role:"A",text:"             ."},{role:"B",text:"      .     !"}],"small-things":[{role:"A",text:" !    .          ."},{role:"B",text:",  .          ,   '  '  .     ."},{role:"A",text:"              ."},{role:"B",text:"                ."},{role:"A",text:"       ,           ."},{role:"B",text:"                 ."},{role:"A",text:"               ."},{role:"B",text:"             ."},{role:"A",text:"             ."},{role:"B",text:"          .     !"}]};function Bn(){const t=pi(),e=rs(),n=t.pathname,[i,a]=P.useState(!1),[l,u]=P.useState(1),[f,p]=P.useState({gender:"",age:"",job:"",interest:""}),[y,x]=P.useState([]),{isSpeaking:b,activeAudioId:T,playPodcast:j,stopAll:D}=Pf(),z={" ":"sayno"," ":"psychology",:"ubermensch",1984:"1984",:"demian",:"vegetarian",:"factfulness",:"almond",:"leverage",:"one-thing",:"sapiens"},B=()=>{if(!f.gender||!f.age||!f.job||!f.interest){alert("  !");return}u(2),setTimeout(()=>{const E=[];Object.values(Y0).forEach(N=>{E.push(...N.books)});const I=[...E].sort(()=>.5-Math.random());x(I.slice(0,5)),u(3)},1500)},F=()=>{a(!1),u(1),p({gender:"",age:"",job:"",interest:""}),x([]),D()},$=E=>{const I=JSON.parse(localStorage.getItem("savedBooks")||"[]");if(I.some(A=>A.title===E.title)){alert("   .");return}const N=[...I,{title:E.title,author:E.author,cover:E.cover}];localStorage.setItem("savedBooks",JSON.stringify(N)),window.dispatchEvent(new Event("savedBooksUpdated")),alert(" . ")},M=()=>{localStorage.setItem("finderRecommendations",JSON.stringify(y)),F(),e("/library")},w=[{path:"/",label:"",icon:"home"},{path:"/editorial",label:"",icon:"auto_awesome"},{path:"/library",label:"",icon:"auto_stories"},{path:"/reading-notes",label:"",icon:"edit_note"},{path:"/profile",label:"",icon:"person"}];return h.jsx("nav",{className:"fixed bottom-0 left-1/2 z-50 w-full max-w-[430px] -translate-x-1/2 border-t border-gold/20 bg-[#090b10]/95 backdrop-blur-2xl transition-all duration-300 pb-safe shadow-[0_-10px_40px_rgba(0,0,0,0.8)]",children:h.jsxs("div",{className:"flex justify-around items-center px-4 pt-4 pb-6 relative",children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-gold/10 to-transparent"}),w.map(E=>{const I=n===E.path;return h.jsxs(pt,{to:E.path,className:`flex flex-col items-center justify-center gap-1.5 transition-all duration-500 active:scale-95 ${I?"text-gold":"text-slate-600 hover:text-slate-400"}`,children:[h.jsxs("div",{className:"relative group/nav",children:[I&&h.jsx("div",{className:"absolute inset-0 bg-gold/10 blur-xl rounded-full scale-150 animate-pulse"}),h.jsx("div",{className:`flex size-11 items-center justify-center rounded-2xl transition-all duration-500 relative z-10 ${I?"bg-gold/10 border border-gold/20 shadow-[inset_0_0_15px_rgba(212,175,55,0.2)]":""}`,children:h.jsx("span",{className:`material-symbols-outlined text-[24px] transition-all duration-500 ${I?"fill-1 scale-110":"scale-100"}`,children:E.icon})})]}),h.jsx("p",{className:`text-[10px] font-black uppercase tracking-[0.2em] transition-all duration-500 -translate-y-0.5 ${I?"opacity-100":"opacity-30"}`,children:E.label})]},E.path)}),h.jsxs("div",{className:"absolute -top-20 right-6",children:[n==="/reading-notes"?h.jsxs("button",{onClick:()=>window.dispatchEvent(new CustomEvent("open-reading-note-form")),className:"h-14 pl-5 pr-7 rounded-full bg-gold text-primary shadow-[0_15px_35px_rgba(212,175,55,0.3)] flex items-center gap-3 active:scale-90 transition-all font-bold group/note animate-in zoom-in duration-500",children:[h.jsx("span",{className:"material-symbols-outlined text-xl group-hover/note:rotate-12 transition-transform",children:"edit_note"}),h.jsx("span",{className:"text-[14px]",children:""})]}):h.jsx("button",{onClick:()=>a(!i),className:`size-14 rounded-full flex items-center justify-center shadow-2xl transition-all duration-500 active:scale-90 ${i?"bg-white text-[#090b10] rotate-45":"bg-gold text-[#090b10] rotate-0"} hover:shadow-gold/40`,children:h.jsx("span",{className:"material-symbols-outlined text-[32px] font-bold",children:"add"})}),h.jsx(DL,{children:i&&h.jsxs(z6.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},className:"absolute bottom-20 right-0 w-[280px] bg-[#1a1c23]/95 backdrop-blur-3xl border border-white/10 rounded-3xl p-5 shadow-[0_20px_50px_rgba(0,0,0,0.5)] z-[60]",children:[h.jsx("div",{className:"absolute -bottom-2 right-10 w-4 h-4 bg-[#1a1c23] border-r border-b border-white/10 rotate-45 translate-x-1/2"}),l===1&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-white text-base font-black tracking-tighter italic",children:"  BOOK "}),h.jsx("button",{onClick:F,className:"text-white/30 hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"close"})})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest mb-2",children:""}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:["",""].map(E=>h.jsx("button",{onClick:()=>p({...f,gender:E}),className:`py-1.5 rounded-xl text-[13px] font-bold transition-all border ${f.gender===E?"bg-gold border-gold text-primary":"bg-white/5 border-white/10 text-slate-400"}`,children:E},E))})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest mb-2",children:""}),h.jsxs("select",{value:f.age,onChange:E=>p({...f,age:E.target.value}),className:"w-full bg-[#1a1c23] border border-white/10 rounded-xl px-4 py-2 text-white text-[13px] outline-none focus:border-gold/50 transition-all font-bold appearance-none cursor-pointer",children:[h.jsx("option",{value:"",disabled:!0,className:"bg-[#1a1c23]",children:" "}),Array.from({length:61},(E,I)=>I+10).map(E=>h.jsxs("option",{value:E,className:"bg-[#1a1c23]",children:[E,""]},E))]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest mb-2",children:""}),h.jsxs("select",{value:f.job,onChange:E=>p({...f,job:E.target.value}),className:"w-full bg-[#1a1c23] border border-white/10 rounded-xl px-4 py-2 text-white text-[13px] outline-none focus:border-gold/50 transition-all font-bold appearance-none cursor-pointer",children:[h.jsx("option",{value:"",disabled:!0,className:"bg-[#1a1c23]",children:" "}),["","","","",""].map(E=>h.jsx("option",{value:E,className:"bg-[#1a1c23]",children:E},E))]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest mb-2",children:""}),h.jsxs("select",{value:f.interest,onChange:E=>p({...f,interest:E.target.value}),className:"w-full bg-[#1a1c23] border border-white/10 rounded-xl px-4 py-2 text-white text-[13px] outline-none focus:border-gold/50 transition-all font-bold appearance-none cursor-pointer",children:[h.jsx("option",{value:"",disabled:!0,className:"bg-[#1a1c23]",children:" "}),["","","","",""].map(E=>h.jsx("option",{value:E,className:"bg-[#1a1c23]",children:E},E))]})]}),h.jsx("button",{onClick:B,className:"w-full h-12 bg-gradient-to-r from-gold to-[#c5a040] rounded-2xl text-primary font-black uppercase tracking-widest shadow-lg shadow-gold/20 active:scale-95 transition-all mt-1",children:""})]})]}),l===2&&h.jsxs("div",{className:"h-[300px] flex flex-col items-center justify-center space-y-4",children:[h.jsx("div",{className:"size-16 border-4 border-gold/20 border-t-gold rounded-full animate-spin"}),h.jsx("p",{className:"text-gold font-black animate-pulse",children:"    ..."})]}),l===3&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("h3",{className:"text-white text-base font-black tracking-tighter italic",children:"  Top 5"}),h.jsx("button",{onClick:()=>u(1),className:"text-gold text-[10px] font-bold",children:" "})]}),h.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:y.map((E,I)=>{const N=z[E.title],A=N&&_t[N];return h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex gap-4 p-3 bg-white/5 border border-white/10 rounded-2xl hover:bg-white/10 transition-all group",children:[h.jsx("div",{className:"w-12 h-16 rounded-lg overflow-hidden flex-shrink-0 shadow-lg border border-white/5",children:h.jsx("img",{src:E.cover,alt:E.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),h.jsxs("div",{className:"flex flex-col justify-center overflow-hidden flex-1",children:[h.jsx("h4",{className:"text-white text-sm font-bold truncate",children:E.title}),h.jsx("p",{className:"text-slate-500 text-[11px] truncate",children:E.author})]}),N&&h.jsx("div",{className:"flex items-center",children:h.jsx("span",{className:"text-gold text-[8px] font-black uppercase tracking-widest bg-gold/10 px-2 py-0.5 rounded-full border border-gold/20",children:"PICK"})})]}),N&&h.jsxs("div",{className:"grid grid-cols-2 gap-2 pb-2",children:[h.jsxs(pt,{to:`/review/${N}`,onClick:()=>a(!1),className:"h-9 rounded-xl bg-white/5 border border-white/10 text-white text-[8px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center justify-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"menu_book"}),h.jsx("span",{children:""})]}),A&&h.jsxs("button",{onClick:()=>{T===`finder-${N}`?D():j(_t[N],`finder-${N}`)},className:`h-9 rounded-xl border flex items-center justify-center gap-1.5 transition-all ${T===`finder-${N}`?"bg-gold border-gold text-primary font-bold":"bg-white/5 border-white/10 text-white hover:text-gold hover:border-gold/50"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:T===`finder-${N}`?"stop":"podcasts"}),h.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest",children:T===`finder-${N}`?"":""})]}),h.jsxs("button",{onClick:()=>$(E),className:"h-9 rounded-xl bg-white/5 border border-white/10 text-white text-[8px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center justify-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"bookmark"}),h.jsx("span",{children:" "})]}),h.jsxs("a",{href:`https://www.coupang.com/np/search?q=${encodeURIComponent(E.title)}`,target:"_blank",rel:"noopener noreferrer",className:"h-9 rounded-xl bg-gold/5 border border-gold/20 text-gold text-[8px] font-black uppercase tracking-widest hover:bg-gold hover:text-primary transition-all flex items-center justify-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"shopping_cart"}),h.jsx("span",{children:""})]})]})]},I)})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:F,className:"flex-1 h-11 bg-white/5 border border-white/10 hover:bg-white/10 text-white rounded-xl text-[11px] font-black uppercase tracking-widest transition-all",children:""}),h.jsx("button",{onClick:M,className:"flex-[1.5] h-11 bg-gold text-primary rounded-xl text-[11px] font-black uppercase tracking-widest transition-all shadow-lg shadow-gold/20 active:scale-95",children:" "})]})]})]})})]})]})})}function Tl(){const[t,e]=P.useState(void 0),[n,i]=P.useState(!0);return P.useEffect(()=>NE(Ur,l=>{e(l||null),i(!1)}),[]),{user:t,loading:n}}function as({title:t,type:e="main"}){const n=rs(),{user:i}=Tl();return h.jsxs("nav",{className:"sticky top-0 z-50 w-full bg-[#090b10] border-b border-white/5 flex items-center justify-between px-6 py-5",children:[h.jsx("div",{className:"flex items-center gap-4",children:e==="sub"?h.jsx("button",{onClick:()=>n(-1),className:"text-gold flex items-center justify-center transition-transform active:scale-90",children:h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back_ios"})}):h.jsx("div",{className:"text-gold flex items-center justify-center",children:h.jsx("span",{className:"material-symbols-outlined text-3xl",children:"menu_book"})})}),h.jsx(pt,{to:"/",className:"flex-1 text-center transition-opacity active:opacity-70 group",children:h.jsx("h1",{className:"text-gold text-[22px] font-bold tracking-tight inline-block",children:t?h.jsx("span",{children:t}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""})," ",h.jsx("span",{className:"font-serif italic font-light opacity-80 group-hover:opacity-100 transition-opacity",children:"The Archiview"})]})})}),h.jsx("div",{className:"flex items-center justify-end",children:h.jsx(pt,{to:"/profile",className:"flex size-10 items-center justify-center rounded-full bg-white/5 text-gold border border-gold/30 shadow-sm transition-all active:scale-95 overflow-hidden",children:i?h.jsx("img",{src:i.photoURL,alt:i.displayName,className:"w-full h-full object-cover"}):h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"person"})})})]})}function Un(){return h.jsxs("section",{className:"px-8 pt-16 pb-12 text-center border-t border-white/5 bg-background-dark/30",children:[h.jsx("h2",{className:"serif-title text-2xl text-white mb-4 tracking-tight",children:":  "}),h.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed max-w-[280px] mx-auto font-light mb-10",children:[`"  '' ,`,h.jsx("br",{}),`  ' ' "`]}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-x-6 gap-y-3 pt-8 border-t border-white/5",children:[h.jsx(pt,{to:"/about",className:"text-[10px] font-bold text-slate-500 hover:text-gold uppercase tracking-[0.2em] transition-colors",children:"About"}),h.jsx(pt,{to:"/contact",className:"text-[10px] font-bold text-slate-500 hover:text-gold uppercase tracking-[0.2em] transition-colors",children:"Contact"}),h.jsx(pt,{to:"/privacy",className:"text-[10px] font-bold text-slate-500 hover:text-gold uppercase tracking-[0.2em] transition-colors",children:"Privacy Policy"})]}),h.jsx("p",{className:"mt-8 text-[9px] text-slate-600 uppercase tracking-widest",children:" 2026 ARCHIVIEW. ALL RIGHTS RESERVED."})]})}const W0={growth:{persona:" ",subtitle:"   ",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",metrics:{wpm:{value:450,change:"+25%",label:"  "},accuracy:{value:"92%",rank:" 8%",label:""},retention:{value:"High",rank:"",label:""}},summary:"    ,    .            .",radarChart:{points:"50,10 90,30 85,70 50,85 15,65 20,35"},bigData:{load:{percentile:" 3.5%",rank:"Rank: 1,752 / 50,214",score:"92.4",avg:"45.2",desc:":            .     ' '  ."},inference:{percentile:" 1.2%",rank:"Rank: 602 / 50,214",score:"98.8",avg:"52.0",desc:":          .        ."},vocabulary:{percentile:" 12%",rank:"Rank: 6,021 / 50,214",score:"85.2",avg:"38.4",desc:":      .         ."},comment:"  **' (Actionable Intellectual)'** .     ,        .  ''  ''       ."}},entertainment:{persona:" ",subtitle:"  ",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",metrics:{wpm:{value:380,change:"+10%",label:"  "},accuracy:{value:"95%",rank:" 5%",label:""},retention:{value:"Max",rank:"",label:""}},summary:"     .       ,      .",radarChart:{points:"50,20 80,40 95,80 50,90 5,80 20,40"},bigData:{load:{percentile:" 15%",rank:"Rank: 7,532 / 50,214",score:"82.1",avg:"45.2",desc:":       .      3      ."},inference:{percentile:" 8.4%",rank:"Rank: 4,215 / 50,214",score:"89.5",avg:"52.0",desc:":      .           ."},vocabulary:{percentile:" 5.5%",rank:"Rank: 2,741 / 50,214",score:"93.2",avg:"38.4",desc:":        .           ."},comment:" **' (Dreaming Voyager)'**.       '' .           ."}},empathy:{persona:" ",subtitle:"  ",image:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",metrics:{wpm:{value:250,change:"",label:"  "},accuracy:{value:"99%",rank:" 1%",label:" "},retention:{value:"Deep",rank:"",label:""}},summary:"     ,      .        .",radarChart:{points:"50,30 70,50 60,80 50,95 20,90 30,50"},bigData:{load:{percentile:" 25%",rank:"Rank: 12,500 / 50,214",score:"72.4",avg:"45.2",desc:":   .          ,     ."},inference:{percentile:" 2.1%",rank:"Rank: 1,054 / 50,214",score:"96.8",avg:"52.0",desc:":     ' '   .           ."},vocabulary:{percentile:" 9.8%",rank:"Rank: 4,921 / 50,214",score:"88.7",avg:"38.4",desc:":       .         ."},comment:"  **'   (Heart Reader)'** .      '' .             ."}},mindfulness:{persona:" ",subtitle:"  ",image:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",metrics:{wpm:{value:280,change:"+5%",label:"  "},accuracy:{value:"97%",rank:" 3%",label:""},retention:{value:"Forever",rank:"",label:""}},summary:"       .          .",radarChart:{points:"50,5 95,25 90,75 50,90 10,75 5,25"},bigData:{load:{percentile:" 1.2%",rank:"Rank: 602 / 50,214",score:"98.8",avg:"45.2",desc:":   25   ,   90   .         ."},inference:{percentile:" 4.8%",rank:"Rank: 2,410 / 50,214",score:"95.2",avg:"52.0",desc:":          .        ."},vocabulary:{percentile:" 0.5%",rank:"Rank: 251 / 50,214",score:"99.5",avg:"38.4",desc:":        .          ."},comment:"   **' (Modern Sage)'**  .         .        ."}}};function q6(){const{user:t}=Tl(),[e,n]=P.useState(0),[i,a]=P.useState(!1),[l,u]=P.useState(null),[f,p]=P.useState(null),[y,x]=P.useState(!1),b=rs(),T=P.useRef(0),j=P.useRef(0),D=P.useRef(null);P.useEffect(()=>{const I=localStorage.getItem("premiumUnlocked")==="true",N=localStorage.getItem("myResultType"),A=localStorage.getItem("quizResult");a(I),u(N),p(A)},[]);const z=l?W0[l]:null,B=t&&i&&z;P.useEffect(()=>(F(),()=>$()),[e]);const F=()=>{$(),D.current=setInterval(()=>{n(I=>(I+1)%3)},5e3)},$=()=>{D.current&&clearInterval(D.current)},M=I=>{$(),T.current=I.targetTouches[0].clientX},w=I=>{j.current=I.targetTouches[0].clientX},E=()=>{if(!T.current||!j.current)return;const I=T.current-j.current,N=50;I>N?n(A=>(A+1)%3):I<-N&&n(A=>A===0?2:A-1),T.current=0,j.current=0,F()};return h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased overflow-x-hidden min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-[430px] relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(as,{type:"main"}),h.jsxs("main",{className:"pb-24 space-y-12",children:[h.jsxs("section",{className:"relative overflow-visible pt-0",children:[h.jsxs("div",{className:"flex transition-transform duration-700 cubic-bezier(0.4, 0, 0.2, 1)",style:{transform:`translateX(calc(-${e*100}%))`},children:[h.jsx(pt,{to:"/celebrity/archide-editors",className:"flex-none w-full px-4",onTouchStart:M,onTouchMove:w,onTouchEnd:E,children:h.jsxs("div",{className:"relative aspect-[4/5] w-full rounded-2xl overflow-hidden group shadow-2xl border border-white/10",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-1000 group-hover:scale-105",style:{backgroundImage:'url("https://images.unsplash.com/photo-1548048026-5a1a941d93d3?q=80&w=2000&auto=format&fit=crop")'}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),h.jsxs("div",{className:"absolute bottom-0 left-0 p-8 w-full",children:[h.jsx("span",{className:"inline-block px-3 py-1 rounded-full border border-gold/30 bg-black/40 backdrop-blur-md text-gold text-[10px] font-bold uppercase tracking-widest mb-4",children:"Archiview Exclusive"}),h.jsxs("h2",{className:"serif-title text-white text-4xl leading-none mb-3",children:["Archiview Editors' ",h.jsx("br",{}),h.jsx("span",{className:"italic text-slate-400",children:"Favorite List"})]}),h.jsxs("div",{className:"text-white text-xs font-bold uppercase tracking-widest border-b border-white/30 pb-1 inline-flex items-center gap-2 group-hover:text-gold group-hover:border-gold transition-colors",children:["Read Collection ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})]})]})}),h.jsx(pt,{to:"/celebrity/elon-musk",className:"flex-none w-full px-4",onTouchStart:M,onTouchMove:w,onTouchEnd:E,children:h.jsxs("div",{className:"relative aspect-[4/5] w-full rounded-2xl overflow-hidden group shadow-2xl border border-white/10",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-1000 group-hover:scale-105",style:{backgroundImage:'url("/images/celebrities/elon-musk.jpg")'}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),h.jsxs("div",{className:"absolute bottom-0 left-0 p-8 w-full",children:[h.jsx("span",{className:"inline-block px-3 py-1 rounded-full border border-blue-400/30 bg-black/40 backdrop-blur-md text-blue-400 text-[10px] font-bold uppercase tracking-widest mb-4",children:"Visionary"}),h.jsxs("h2",{className:"serif-title text-white text-4xl leading-none mb-3",children:["Elon Musk's ",h.jsx("br",{}),h.jsx("span",{className:"italic text-slate-400",children:"Foundation"})]}),h.jsxs("div",{className:"text-white text-xs font-bold uppercase tracking-widest border-b border-white/30 pb-1 inline-flex items-center gap-2 group-hover:text-gold group-hover:border-gold transition-colors",children:["Explore Books ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"rocket_launch"})]})]})]})}),h.jsx(pt,{to:"/celebrity/barack-obama",className:"flex-none w-full px-4",onTouchStart:M,onTouchMove:w,onTouchEnd:E,children:h.jsxs("div",{className:"relative aspect-[4/5] w-full rounded-2xl overflow-hidden group shadow-2xl border border-white/10",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-1000 group-hover:scale-105",style:{backgroundImage:'url("/images/celebrities/barack-obama.jpg")'}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-90"}),h.jsxs("div",{className:"absolute bottom-0 left-0 p-8 w-full",children:[h.jsx("span",{className:"inline-block px-3 py-1 rounded-full border border-white/30 bg-black/40 backdrop-blur-md text-white text-[10px] font-bold uppercase tracking-widest mb-4",children:"Presidential Note"}),h.jsxs("h2",{className:"serif-title text-white text-4xl leading-none mb-3",children:["Barack Obama's ",h.jsx("br",{}),h.jsx("span",{className:"italic text-slate-400",children:"Perspectives"})]}),h.jsxs("div",{className:"text-white text-xs font-bold uppercase tracking-widest border-b border-white/30 pb-1 inline-flex items-center gap-2 group-hover:text-gold group-hover:border-gold transition-colors",children:["View Reading List ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"menu_book"})]})]})]})})]}),h.jsx("div",{className:"flex justify-center gap-3 mt-6",children:[0,1,2].map(I=>h.jsx("button",{onClick:()=>n(I),className:`h-1 transition-all duration-500 rounded-full ${e===I?"w-8 bg-gold":"w-2 bg-white/20"}`,"aria-label":`Go to slide ${I+1}`},I))})]}),h.jsxs("section",{className:"px-6",children:[h.jsx("div",{className:"flex items-end justify-between mb-8 border-b border-white/10 pb-4",children:h.jsxs("div",{children:[h.jsx("h2",{className:"serif-title text-2xl text-white",children:"Curated Minds"}),h.jsx("p",{className:"text-slate-500 text-xs font-medium uppercase tracking-widest mt-1",children:"Intellectual Archives"})]})}),h.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-8",children:zr.slice(0,y?zr.length:6).map(I=>h.jsxs(pt,{to:`/celebrity/${I.id}`,className:"group relative block",children:[h.jsxs("div",{className:"aspect-[3/4] rounded-xl overflow-hidden mb-3 relative shadow-lg",children:[h.jsx("img",{src:I.image,alt:I.name,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700"}),h.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-transparent transition-colors"})]}),h.jsx("h3",{className:"text-white font-medium text-lg leading-none group-hover:text-gold transition-colors",children:I.name}),h.jsx("p",{className:"text-slate-500 text-xs mt-1 truncate italic",children:I.readingNow})]},I.id))}),!y&&h.jsx("div",{className:"mt-12 flex justify-center",children:h.jsxs("button",{onClick:()=>x(!0),className:"px-8 py-3 rounded-full border border-gold/30 bg-gold/5 text-gold text-[11px] font-bold uppercase tracking-[0.2em] flex items-center gap-2 hover:bg-gold/10 transition-all",children:["View All ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"expand_more"})]})})]}),h.jsx("section",{className:"px-4",children:B?h.jsx("div",{onClick:()=>b("/result",{state:{resultType:l}}),className:"relative rounded-3xl overflow-hidden border border-gold/30 bg-gradient-to-br from-slate-900 via-slate-800 to-black p-1 group cursor-pointer shadow-2xl",children:h.jsxs("div",{className:"relative bg-background-dark/40 backdrop-blur-xl rounded-[22px] p-6 flex items-center gap-6",children:[h.jsxs("div",{className:"relative size-24 shrink-0",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-2xl rounded-full"}),h.jsx("img",{src:z.image,alt:z.persona,className:"relative w-full h-full object-cover rounded-2xl shadow-xl border border-gold/30"})]}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("span",{className:"text-gold text-[10px] font-bold uppercase tracking-widest block mb-1",children:"My Persona"}),h.jsx("h3",{className:"serif-title text-white text-2xl font-bold leading-none mb-2 tracking-tight",children:z.persona}),h.jsx("p",{className:"text-slate-400 text-[11px] font-medium truncate mb-4",children:z.subtitle}),h.jsx("div",{className:"flex gap-2",children:Object.entries(z.metrics).slice(0,2).map(([I,N])=>h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg px-2 py-1 flex flex-col items-center min-w-[64px]",children:[h.jsx("span",{className:"text-slate-500 text-[7px] uppercase block leading-none mb-1",children:N.label}),h.jsx("span",{className:"text-gold text-[10px] font-extrabold",children:N.value})]},I))})]}),h.jsx("span",{className:"material-symbols-outlined text-gold opacity-30 group-hover:opacity-100 transition-opacity",children:"chevron_right"})]})}):h.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 group cursor-pointer",onClick:()=>{f?b("/result",{state:{resultType:f}}):b("/quiz")},children:[h.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1481627834876-b7833e8f5570?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-40 group-hover:scale-105 transition-transform duration-1000"}),h.jsx("div",{className:"absolute inset-0 bg-background-dark/80"}),h.jsxs("div",{className:"relative p-8 text-center flex flex-col items-center",children:[h.jsx("span",{className:"material-symbols-outlined text-gold text-4xl mb-4 group-hover:scale-110 transition-transform",children:"psychology_alt"}),h.jsx("h3",{className:"serif-title text-white text-2xl mb-2",children:"Find Your Persona"}),h.jsx("p",{className:"text-slate-400 text-sm font-light mb-6 max-w-xs leading-relaxed",children:"Take our literary personality test to discover the books that resonate with your soul."}),f?h.jsxs("div",{className:"px-8 py-3 bg-white text-primary font-bold rounded-lg text-xs uppercase tracking-widest group-hover:bg-gold transition-colors flex items-center gap-2",children:["View Analysis Result ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]}):h.jsx("div",{className:"px-8 py-3 bg-gold text-primary font-bold rounded-lg text-xs uppercase tracking-widest group-hover:bg-white transition-colors",children:"Start Diagnostics"})]})]})}),h.jsxs("section",{className:"px-6",children:[h.jsx("div",{className:"flex items-end justify-between mb-6",children:h.jsx("h2",{className:"serif-title text-xl text-white italic",children:"Essential Reading"})}),h.jsx("div",{className:"grid grid-cols-3 gap-x-3 gap-y-6",children:[{id:"sapiens",title:"",author:" ",cover:"/images/covers/sapiens.jpg",celebId:"bill-gates"},{id:"sayno",title:" ",author:"",cover:"/images/covers/say_01.jpg",celebId:"archide-editors"},{id:"psychology",title:" ",author:" ",cover:"/images/covers/don_01.jpg",celebId:"archide-editors"},{id:"demian",title:"",author:" ",cover:"/images/covers/demian.jpg",celebId:"rm-bts"},{id:"vegetarian",title:"",author:"",cover:"/images/covers/vegetarian.jpg",celebId:"han-kang"},{id:"1984",title:"1984",author:" ",cover:"/images/covers/1984.jpg",celebId:"rm-bts"},{id:"factfulness",title:"",author:" ",cover:"/images/covers/factfulness.jpg",celebId:"bill-gates"},{id:"almond",title:"",author:"",cover:"/images/covers/almond.jpg",celebId:"rm-bts"},{id:"small-things",title:"  ",author:" ",cover:"/images/covers/small_things.jpg",celebId:"gurus-choice"}].map((I,N)=>h.jsxs(pt,{to:I.id?`/review/${I.id}`:`/celebrity/${I.celebId}`,className:"group block cursor-pointer",children:[h.jsxs("div",{className:"aspect-[2/3] rounded-xl overflow-hidden bg-white/5 mb-3 border border-white/10 shadow-2xl relative",children:[h.jsx("img",{src:I.cover,alt:I.title,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 group-hover:scale-105 transition-all duration-500",onError:A=>{A.target.src="https://via.placeholder.com/150x225?text=No+Cover"}}),h.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors duration-300 flex items-center justify-center",children:h.jsx("div",{className:"opacity-0 group-hover:opacity-100 transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",children:h.jsxs("span",{className:"bg-gold text-primary text-[9px] font-black px-3 py-1.5 rounded-full shadow-xl flex items-center gap-1 uppercase tracking-tighter",children:["Read Review ",h.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"arrow_forward"})]})})})]}),h.jsx("h4",{className:"text-white text-[11px] font-bold truncate leading-tight mb-0.5",children:I.title}),h.jsx("p",{className:"text-slate-500 text-[9px] uppercase tracking-wider truncate font-medium",children:I.author})]},N))})]}),h.jsx(Un,{})]}),h.jsx(Bn,{})]})})}function H6(){const{isSpeaking:t,activeAudioId:e,playPodcast:n,speakReview:i,stopAll:a}=Pf(),l=f=>{const p=JSON.parse(localStorage.getItem("savedBooks")||"[]");if(p.some(x=>x.title===f.title)){alert("   .");return}const y=[...p,{title:f.title,author:f.author,cover:f.cover}];localStorage.setItem("savedBooks",JSON.stringify(y)),window.dispatchEvent(new Event("savedBooksUpdated")),alert(" . ")},u=f=>{const y={sapiens:"",1984:"1984",demian:"",vegetarian:"",factfulness:"",almond:"",leverage:"","one-thing":"",ubermensch:"",sayno:" ",psychology:" "}[f]||f;for(const x of zr){const b=x.books.find(T=>T.title===y);if(b?.review)return b.review;if(b?.desc)return b.desc}return""};return h.jsx("div",{className:"bg-white text-slate-900 dark:text-white min-h-[100dvh] pb-24 font-display flex justify-center",children:h.jsxs("div",{className:"w-full max-w-[430px] relative bg-background-dark shadow-2xl min-h-[100dvh] overflow-x-hidden border-t border-white/5",children:[h.jsx(as,{title:"",type:"sub"}),h.jsxs("main",{className:"px-4 md:px-6 pt-10 pb-24 space-y-10",children:[h.jsxs("header",{className:"space-y-2",children:[h.jsx("span",{className:"text-gold text-[9px] font-black uppercase tracking-[0.2em] block",children:"Editorial Picks"}),h.jsxs("h2",{className:"serif-title text-2xl md:text-3xl text-white font-light leading-snug",children:["    ",h.jsx("br",{}),h.jsx("span",{className:"italic text-slate-400",children:"Archiview Curation"}),h.jsx("span",{className:"text-[8px] text-white/20 ml-2",children:"v9.0-UltimateNatural"})]})]}),h.jsxs("div",{className:"relative w-full rounded-[32px] overflow-hidden bg-[#0f1115] border border-white/5 shadow-2xl group",children:[h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gold/10 blur-[100px] rounded-full -mr-20 -mt-20"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 blur-[80px] rounded-full -ml-10 -mb-10"}),h.jsxs("div",{className:"relative p-6 md:p-8 flex flex-col items-center",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"h-[1px] w-4 bg-gold/50"}),h.jsx("span",{className:"text-gold text-[10px] font-black uppercase tracking-[0.4em]",children:"Weekly Focus"}),h.jsx("span",{className:"h-[1px] w-4 bg-gold/50"})]}),h.jsxs("div",{className:"mb-6 flex items-center gap-2 px-3 py-1 rounded-full bg-gold/10 border border-gold/20",children:[h.jsx("span",{className:"material-symbols-outlined text-[12px] text-gold",children:"neurology"}),h.jsx("span",{className:"text-[8px] text-gold font-bold uppercase tracking-widest",children:"NotebookLM Audio Experience"})]}),h.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-8 items-center mb-10",children:[h.jsxs("div",{className:"relative shrink-0 group-hover:scale-105 transition-transform duration-700",children:[h.jsx("div",{className:"absolute -inset-4 bg-black/40 blur-2xl rounded-full opacity-60"}),h.jsx("div",{className:"relative w-40 aspect-[2/3] rounded-lg overflow-hidden shadow-[0_20px_50px_rgba(0,0,0,0.5)] border border-white/10",children:h.jsx("img",{src:"/images/covers/sapiens.jpg",alt:"Sapiens",className:"w-full h-full object-cover"})}),h.jsx("div",{className:"absolute -bottom-2 -right-2 size-12 bg-gold flex items-center justify-center rounded-full shadow-lg border-4 border-[#0f1115]",children:h.jsx("span",{className:"material-symbols-outlined text-primary text-xl font-bold",children:"star_rate"})})]}),h.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"serif-title text-2xl md:text-3xl text-white font-medium leading-tight",children:""}),h.jsx("p",{className:"text-slate-500 text-sm font-light uppercase tracking-widest italic",children:"Yuval Noah Harari"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("p",{className:"text-slate-400 text-xs font-light leading-relaxed",children:['"    ',h.jsx("br",{}),'  "']}),h.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2",children:[h.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 px-2 py-0.5 rounded-md uppercase tracking-tighter",children:"History"}),h.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 px-2 py-0.5 rounded-md uppercase tracking-tighter",children:"Philosophy"})]})]})]})]}),h.jsxs("div",{className:"w-full flex gap-3",children:[h.jsxs(pt,{to:"/review/sapiens",className:"flex-1 group/btn relative h-14 bg-white/5 backdrop-blur-xl overflow-hidden rounded-2xl border border-white/10 flex items-center justify-center transition-all duration-500 hover:border-white/30 hover:bg-white/10 hover:-translate-y-1 shadow-2xl",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-500"}),h.jsx("span",{className:"text-white text-[10px] font-black uppercase tracking-[0.2em] relative z-10 transition-colors group-hover/btn:text-white whitespace-nowrap",children:"Review Detail"})]}),h.jsxs("button",{onClick:()=>e==="weekly-sapiens"?a():n(_t.sapiens,"weekly-sapiens"),className:`flex-none px-6 h-14 rounded-2xl border backdrop-blur-xl flex items-center justify-center gap-2 transition-all duration-500 hover:-translate-y-1 ${t&&e==="weekly-sapiens"?"bg-gold border-gold text-primary shadow-[0_10px_30px_rgba(212,175,55,0.4)] anim-pulse":"bg-white/5 border-white/10 text-white hover:border-gold/50 hover:bg-gold/5"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:t&&e==="weekly-sapiens"?"stop":"podcasts"}),h.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.1em]",children:t&&e==="weekly-sapiens"?"":""})]}),h.jsx("button",{onClick:()=>l({title:"",author:" ",cover:"/images/covers/sapiens.jpg"}),className:"flex-none px-4 h-14 rounded-2xl border border-white/10 bg-white/5 text-white/50 hover:bg-white/10 hover:text-white transition-all flex items-center justify-center shadow-2xl",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"bookmark"})}),h.jsx("a",{href:"/audio/sapiens.mp3?v=16.0",download:"_podcast.mp3",className:"flex-none px-4 h-14 rounded-2xl border border-white/10 bg-white/5 text-white/50 hover:bg-white/10 hover:text-white transition-all flex items-center justify-center shadow-2xl",title:"MP3 ",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"download"})})]})]})]}),h.jsxs("div",{className:"relative w-full rounded-[32px] overflow-hidden bg-[#0a0c10] border border-white/5 shadow-2xl group",children:[h.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-primary/10 blur-[100px] rounded-full -ml-20 -mt-20"}),h.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-gold/5 blur-[80px] rounded-full -mr-10 -mb-10"}),h.jsxs("div",{className:"relative p-6 md:p-8 flex flex-col items-center",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"h-[1px] w-4 bg-gold/50"}),h.jsx("span",{className:"text-gold text-[10px] font-black uppercase tracking-[0.4em]",children:"Weekly Focus"}),h.jsx("span",{className:"h-[1px] w-4 bg-gold/50"})]}),h.jsxs("div",{className:"mb-6 flex items-center gap-2 px-3 py-1 rounded-full bg-primary/20 border border-primary/30",children:[h.jsx("span",{className:"material-symbols-outlined text-[12px] text-primary-light",children:"psychology"}),h.jsx("span",{className:"text-[8px] text-primary-light font-bold uppercase tracking-widest",children:"Masterpiece Collection"})]}),h.jsxs("div",{className:"w-full flex flex-col md:flex-row gap-8 items-center mb-10",children:[h.jsxs("div",{className:"relative shrink-0 group-hover:scale-105 transition-transform duration-700",children:[h.jsx("div",{className:"absolute -inset-4 bg-black/40 blur-2xl rounded-full opacity-60"}),h.jsx("div",{className:"relative w-40 aspect-[2/3] rounded-lg overflow-hidden shadow-[0_20px_50px_rgba(0,0,0,0.5)] border border-white/10",children:h.jsx("img",{src:"/images/covers/wm_01.jpg",alt:"bermensch",className:"w-full h-full object-cover"})}),h.jsx("div",{className:"absolute -bottom-2 -right-2 size-12 bg-primary flex items-center justify-center rounded-full shadow-lg border-4 border-[#0a0c10]",children:h.jsx("span",{className:"material-symbols-outlined text-gold text-xl font-bold",children:"bolt"})})]}),h.jsxs("div",{className:"flex-1 text-center md:text-left space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("h3",{className:"serif-title text-2xl md:text-3xl text-white font-medium leading-tight",children:""}),h.jsx("p",{className:"text-slate-500 text-sm font-light uppercase tracking-widest italic",children:"Friedrich Nietzsche"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("p",{className:"text-slate-400 text-xs font-light leading-relaxed",children:['"  , ',h.jsx("br",{}),'    "']}),h.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-2",children:[h.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 px-2 py-0.5 rounded-md uppercase tracking-tighter",children:"Philosophy"}),h.jsx("span",{className:"text-[9px] text-white/40 border border-white/10 px-2 py-0.5 rounded-md uppercase tracking-tighter",children:"Existentialism"})]})]})]})]}),h.jsxs("div",{className:"w-full flex gap-3",children:[h.jsxs(pt,{to:"/review/ubermensch",className:"flex-1 group/btn relative h-14 bg-white/5 backdrop-blur-xl overflow-hidden rounded-2xl border border-white/10 flex items-center justify-center transition-all duration-500 hover:border-white/30 hover:bg-white/10 hover:-translate-y-1 shadow-2xl",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/5 to-transparent opacity-0 group-hover/btn:opacity-100 transition-opacity duration-500"}),h.jsx("span",{className:"text-white text-[10px] font-black uppercase tracking-[0.2em] relative z-10 transition-colors group-hover/btn:text-white whitespace-nowrap",children:"Review Detail"})]}),h.jsxs("button",{onClick:()=>e==="weekly-ubermensch"?a():n(_t.ubermensch,"weekly-ubermensch"),className:`flex-none px-6 h-14 rounded-2xl border backdrop-blur-xl flex items-center justify-center gap-2 transition-all duration-500 hover:-translate-y-1 ${t&&e==="weekly-ubermensch"?"bg-gold border-gold text-primary shadow-[0_10px_30px_rgba(212,175,55,0.4)] anim-pulse":"bg-white/5 border-white/10 text-white hover:border-gold/50 hover:bg-gold/5"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:t&&e==="weekly-ubermensch"?"stop":"podcasts"}),h.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.1em]",children:t&&e==="weekly-ubermensch"?"":""})]}),h.jsx("button",{onClick:()=>l({title:"",author:" ",cover:"/images/covers/wm_01.jpg"}),className:"flex-none px-4 h-14 rounded-2xl border border-white/10 bg-white/5 text-white/50 hover:bg-white/10 hover:text-white transition-all flex items-center justify-center shadow-2xl",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"bookmark"})}),h.jsx("a",{href:"/audio/ubermensch.mp3?v=16.0",download:"_podcast.mp3",className:"flex-none px-4 h-14 rounded-2xl border border-white/10 bg-white/5 text-white/50 hover:bg-white/10 hover:text-white transition-all flex items-center justify-center shadow-2xl",title:"MP3 ",children:h.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"download"})})]})]})]}),h.jsxs("section",{className:"space-y-8",children:[h.jsx("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:h.jsx("span",{className:"text-white text-xl font-bold serif-title italic",children:"Editors' Picks"})}),h.jsx("div",{className:"space-y-6",children:[{id:"sayno",title:" ",subtitle:"     ",author:"",cover:"/images/covers/say_01.jpg",tag:"BESTSELLER",isPodcast:!0,script:_t.sayno},{id:"psychology",title:" ",subtitle:"   20  ",author:" ",cover:"/images/covers/don_01.jpg",tag:"ECONOMY",isPodcast:!0,script:_t.psychology},{id:"ubermensch",title:"",subtitle:"     ",author:" ",cover:"/images/covers/wm_01.jpg",tag:"PHILOSOPHY",isPodcast:!0,script:_t.ubermensch},{id:"1984",title:"1984",subtitle:"     ",author:" ",cover:"/images/covers/1984.jpg",tag:"CLASSIC",isPodcast:!0,script:_t[1984]},{id:"demian",title:"",subtitle:"   ",author:" ",cover:"/images/covers/demian.jpg",tag:"PHILOSOPHY",isPodcast:!0,script:_t.demian},{id:"vegetarian",title:"",subtitle:"    ",author:"",cover:"/images/covers/vegetarian.jpg",tag:"NOBEL",isPodcast:!0,script:_t.vegetarian},{id:"factfulness",title:"",subtitle:"    ",author:" ",cover:"/images/covers/factfulness.jpg",tag:"SOCIETY",isPodcast:!0,script:_t.factfulness},{id:"almond",title:"",subtitle:"    ",author:"",cover:"/images/covers/almond.jpg",tag:"K-NOVEL",isPodcast:!0,script:_t.almond},{id:"leverage",title:"",subtitle:"     ",author:" ",cover:"/images/covers/rm_01.jpg",tag:"BUSINESS",isPodcast:!0,script:_t.leverage},{id:"one-thing",title:"",subtitle:"     ",author:" ",cover:"/images/covers/one_01.jpg",tag:"GROWTH",isPodcast:!0,script:_t["one-thing"]}].map(f=>h.jsxs("div",{className:"flex gap-5 group",children:[h.jsx("div",{className:"w-24 aspect-[3/4] rounded-2xl overflow-hidden shrink-0 border border-white/10 relative shadow-xl",children:h.jsx("img",{src:f.cover,alt:f.title,className:"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"})}),h.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[8px] text-gold font-black uppercase tracking-widest bg-gold/10 px-2 py-0.5 rounded-full mb-2 inline-block border border-gold/20",children:f.tag}),h.jsx("h4",{className:"text-white font-bold text-lg leading-tight mb-1",children:f.title}),h.jsx("p",{className:"text-slate-500 text-xs font-light",children:f.subtitle})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[h.jsxs(pt,{to:`/review/${f.id}`,className:"h-10 rounded-xl bg-white/5 border border-white/10 text-white text-[9px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"menu_book"}),h.jsx("span",{children:" "})]}),h.jsxs("button",{onClick:()=>{e===`pick-${f.id}`?a():f.isPodcast&&f.script?n(f.script,`pick-${f.id}`):i(u(f.id),`pick-${f.id}`)},className:`h-10 rounded-xl border flex items-center justify-center gap-2 transition-all ${t&&e===`pick-${f.id}`?"bg-gold border-gold text-primary shadow-lg shadow-gold/20":"bg-white/5 border-white/10 text-white hover:border-gold/50 hover:text-gold"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:t&&e===`pick-${f.id}`?"stop":f.isPodcast?"podcasts":"play_circle"}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:t&&e===`pick-${f.id}`?"":f.isPodcast?"":""})]}),f.isPodcast&&h.jsxs("a",{href:`/audio/${f.id}.mp3?v=16.0`,download:`${f.title}_podcast.mp3`,className:"h-10 rounded-xl bg-white/5 border border-white/10 text-white text-[9px] font-black uppercase tracking-widest hover:bg-white/8 hover:text-white transition-all flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"download"}),h.jsx("span",{children:"MP3 "})]}),h.jsxs("a",{href:`https://www.coupang.com/np/search?q=${encodeURIComponent(f.title)}`,target:"_blank",rel:"noopener noreferrer",className:"h-10 rounded-xl bg-gold/5 border border-gold/20 text-gold text-[9px] font-black uppercase tracking-[0.1em] flex items-center justify-center gap-2 hover:bg-gold hover:text-primary transition-all",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"shopping_cart"}),h.jsx("span",{children:""})]}),h.jsxs("button",{className:`h-10 rounded-xl bg-white/5 border border-white/10 text-white/50 text-[9px] font-black uppercase tracking-widest hover:bg-white/8 hover:text-white transition-all flex items-center justify-center gap-2 ${f.isPodcast?"col-span-2":""}`,onClick:()=>l(f),children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"bookmark"}),h.jsx("span",{children:" "})]})]})]})]},f.id))})]}),h.jsxs("section",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"material-symbols-outlined text-gold text-xl",children:"workspace_premium"}),h.jsx("span",{className:"text-white text-xl font-bold serif-title italic",children:"Guru's Choice"})]}),h.jsx("span",{className:"text-[8px] text-gold font-black uppercase tracking-widest bg-gold/10 px-2 py-1 rounded-full border border-gold/20",children:"Expert Curation"})]}),h.jsx("div",{className:"space-y-6",children:[{id:"your-name",title:" ",subtitle:"    ",author:" ",cover:"/images/covers/yourname.jpg",tag:"NOVEL",isPodcast:!0,script:_t["your-name"]},{id:"property-money",title:" ",subtitle:"   100 ",author:"",cover:"/images/covers/don_01.jpg",tag:"ECONOMY",isPodcast:!0,script:_t["property-money"]},{id:"stoner",title:"",subtitle:"      ",author:" ",cover:"/images/covers/stoner.jpg",tag:"NOVEL",isPodcast:!0,script:_t.stoner},{id:"small-things",title:"  ",subtitle:"     ",author:" ",cover:"/images/covers/small_things.jpg",tag:"NOVEL",isPodcast:!0,script:_t["small-things"]}].map(f=>h.jsxs("div",{className:"flex gap-5 group",children:[h.jsxs("div",{className:"w-24 aspect-[3/4] rounded-2xl overflow-hidden shrink-0 border border-gold/20 relative shadow-xl",children:[h.jsx("img",{src:f.cover,alt:f.title,className:"w-full h-full object-cover transition-all duration-500 group-hover:scale-110"}),h.jsx("div",{className:"absolute top-2 left-2 bg-gold text-primary text-[7px] font-black px-1.5 py-0.5 rounded uppercase",children:"Expert"})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[8px] text-gold font-black uppercase tracking-widest bg-gold/10 px-2 py-0.5 rounded-full mb-2 inline-block border border-gold/20",children:f.tag}),h.jsx("h4",{className:"text-white font-bold text-lg leading-tight mb-1",children:f.title}),h.jsx("p",{className:"text-slate-400 text-xs font-light italic mb-1",children:f.author}),h.jsx("p",{className:"text-slate-500 text-xs font-light",children:f.subtitle})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:[h.jsxs(pt,{to:`/review/${f.id}`,className:"h-10 rounded-xl bg-white/5 border border-white/10 text-white text-[9px] font-black uppercase tracking-widest hover:bg-white/10 transition-all flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"menu_book"}),h.jsx("span",{children:" "})]}),h.jsxs("button",{onClick:()=>{e===`guru-${f.id}`?a():f.isPodcast&&f.script?n(f.script,`guru-${f.id}`):i(u(f.id),`guru-${f.id}`)},className:`h-10 rounded-xl border flex items-center justify-center gap-2 transition-all ${t&&e===`guru-${f.id}`?"bg-gold border-gold text-primary shadow-lg shadow-gold/20":"bg-white/5 border-white/10 text-white hover:border-gold/50 hover:text-gold"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-[18px]",children:t&&e===`guru-${f.id}`?"stop":"podcasts"}),h.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:t&&e===`guru-${f.id}`?"":""})]}),h.jsxs("a",{href:`/audio/${f.id}.mp3?v=16.0`,download:`${f.title}_podcast.mp3`,className:"h-10 rounded-xl bg-white/5 border border-white/10 text-white text-[9px] font-black uppercase tracking-widest hover:bg-white/8 hover:text-white transition-all flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"download"}),h.jsx("span",{children:"MP3 "})]}),h.jsxs("a",{href:`https://www.coupang.com/np/search?q=${encodeURIComponent(f.title)}`,target:"_blank",rel:"noopener noreferrer",className:"h-10 rounded-xl bg-gold/5 border border-gold/20 text-gold text-[9px] font-black uppercase tracking-[0.1em] flex items-center justify-center gap-2 hover:bg-gold hover:text-primary transition-all",children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"shopping_cart"}),h.jsx("span",{children:""})]}),h.jsxs("button",{className:"h-10 rounded-xl bg-white/5 border border-white/10 text-white/50 text-[9px] font-black uppercase tracking-widest hover:bg-white/8 hover:text-white transition-all flex items-center justify-center gap-2 col-span-2",onClick:()=>l(f),children:[h.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"bookmark"}),h.jsx("span",{children:"   "})]})]})]})]},f.id))})]}),h.jsx(Un,{})]}),h.jsx(Bn,{})]})})}function G6(){const[t,e]=P.useState(!1),[n,i]=P.useState(900),a=pi();P.useEffect(()=>{const T=setInterval(()=>{i(D=>D>0?D-1:0)},1e3);return localStorage.getItem("premiumUnlocked")==="true"&&e(!0),()=>clearInterval(T)},[]);const l=T=>{const j=Math.floor(T/60),D=T%60;return`${j}:${D<10?"0":""}${D}`},u=a.state?.resultType||localStorage.getItem("myResultType")||"growth",f=Y0[u],p=W0[u],y=()=>{window.confirm("PG_LINK: [  9,900]  ? (Toss/Kakao)")&&(e(!0),localStorage.setItem("premiumUnlocked","true"),localStorage.setItem("myResultType",u))},x=()=>{navigator.share?navigator.share({title:"The Archiview -   ",text:`${p.persona} -     .`,url:window.location.href}).catch(console.error):navigator.clipboard.writeText(window.location.href).then(()=>{alert("  .")})},b=()=>{navigator.share?navigator.share({title:"The Archiview",text:`${p.persona} -    ! #TheArchiview #`,url:window.location.href}).catch(console.error):alert("         .")};return h.jsxs("div",{className:"bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen flex flex-col",children:[h.jsxs("header",{className:"sticky top-0 z-50 flex items-center justify-between bg-background-light/80 dark:bg-background-dark/80 px-4 py-4 backdrop-blur-md border-b border-primary/10 dark:border-white/10",children:[h.jsx(pt,{to:"/quiz",className:"flex size-10 items-center justify-center rounded-full hover:bg-primary/10 dark:hover:bg-white/10 transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"arrow_back"})}),h.jsx("h1",{className:"text-lg font-bold tracking-tight",children:" "}),h.jsx("button",{onClick:x,className:"flex size-10 items-center justify-center rounded-full hover:bg-primary/10 dark:hover:bg-white/10 transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"share"})})]}),h.jsxs("main",{className:"flex-1 pb-24",children:[h.jsxs("section",{className:"flex flex-col items-center px-6 py-8 text-center animate-fade-in-up",children:[h.jsxs("div",{className:"relative mb-6",children:[h.jsx("div",{className:"absolute inset-0 scale-110 rounded-full bg-primary/20 blur-3xl dark:bg-blue-500/10"}),h.jsxs("div",{className:"relative flex size-48 items-center justify-center rounded-full border-4 border-primary/20 bg-primary/5 p-4 dark:border-white/10",children:[h.jsx("div",{className:"size-40 rounded-full bg-cover bg-center shadow-2xl",style:{backgroundImage:`url('${p.image}')`}}),h.jsx("div",{className:"absolute -bottom-2 rounded-full bg-primary px-3 py-1 text-[10px] font-bold uppercase tracking-widest text-white ring-4 ring-background-dark",children:"  "})]})]}),h.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-primary dark:text-white",children:p.persona}),h.jsx("p",{className:"mt-2 text-slate-600 dark:text-slate-400 font-medium",children:p.subtitle}),h.jsxs("div",{className:"mt-4 flex items-center gap-2 rounded-full bg-primary/5 px-3 py-1 dark:bg-white/5",children:[h.jsx("span",{className:"material-symbols-outlined text-sm text-blue-500",children:"verified"}),h.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"  "})]})]}),h.jsxs("section",{className:"px-4 py-4 animate-fade-in-up delay-100",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[h.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl bg-primary/5 p-4 text-center dark:bg-primary/20 border border-primary/10",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:p.metrics.wpm.label}),h.jsx("span",{className:"text-xl font-extrabold text-primary dark:text-white",children:p.metrics.wpm.value}),h.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:p.metrics.wpm.change})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl bg-primary/5 p-4 text-center dark:bg-primary/20 border border-primary/10",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:p.metrics.accuracy.label}),h.jsx("span",{className:"text-xl font-extrabold text-primary dark:text-white",children:p.metrics.accuracy.value}),h.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:p.metrics.accuracy.rank})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center rounded-xl bg-primary/5 p-4 text-center dark:bg-primary/20 border border-primary/10",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400",children:p.metrics.retention.label}),h.jsx("span",{className:"text-xl font-extrabold text-primary dark:text-white",children:p.metrics.retention.value}),h.jsx("span",{className:"text-[10px] font-bold text-emerald-500",children:p.metrics.retention.rank})]})]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-white/5 rounded-lg p-4 border border-slate-100 dark:border-white/5",children:[h.jsxs("h4",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"info"}),"   "]}),h.jsxs("ul",{className:"space-y-2 text-[11px] text-slate-600 dark:text-slate-400 leading-relaxed",children:[h.jsxs("li",{children:[h.jsx("strong",{className:"text-primary dark:text-slate-300",children:"   (WPM):"}),"         ."]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-primary dark:text-slate-300",children:"/:"}),"       ."]}),h.jsxs("li",{children:[h.jsx("strong",{className:"text-primary dark:text-slate-300",children:"/:"}),"        ."]})]}),h.jsx("p",{className:"mt-2 text-[10px] text-slate-400 italic",children:"*      50       ."})]})]}),h.jsxs("section",{className:"px-6 py-4 animate-fade-in-up delay-200",children:[h.jsx("h3",{className:"text-lg font-bold",children:" "}),h.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-600 dark:text-slate-400",children:p.summary})]}),h.jsxs("section",{className:"px-6 py-4 flex gap-3 animate-fade-in-up delay-300",children:[h.jsxs("button",{onClick:x,className:"flex-1 flex items-center justify-center gap-2 py-3.5 rounded-2xl bg-slate-900 dark:bg-slate-100 text-white dark:text-slate-900 font-bold transition-all active:scale-95 shadow-xl hover:shadow-primary/20",children:[h.jsx("span",{className:"material-symbols-outlined text-xl",children:"share"})," "]}),h.jsxs("button",{onClick:b,className:"flex-1 flex items-center justify-center gap-2 py-3.5 rounded-2xl bg-gradient-to-tr from-[#f09433] via-[#dc2743] to-[#bc1888] text-white font-bold transition-all active:scale-95 shadow-xl hover:shadow-[#dc2743]/30",children:[h.jsx("span",{className:"material-symbols-outlined text-xl",children:"photo_camera"})," "]})]}),h.jsx("section",{className:"relative mx-4 mt-8 mb-12 overflow-hidden rounded-3xl border border-primary/20 dark:border-white/10 bg-white dark:bg-[#0f172a] shadow-[0_20px_50px_rgba(0,0,0,0.3)] animate-fade-in-up delay-500",children:h.jsxs("div",{className:"p-6 md:p-8",children:[h.jsx("div",{className:"flex items-center justify-between mb-8",children:h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl font-black text-primary dark:text-white flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-gold font-bold",children:"workspace_premium"}),"   "]}),h.jsx("p",{className:"text-[11px] text-slate-500 mt-1 font-bold uppercase tracking-wider",children:"Big Data Cognitive Analysis Suite"})]})}),h.jsxs("div",{className:`space-y-8 transition-all duration-700 ${t?"":"filter blur-xl opacity-20 pointer-events-none select-none h-[500px] overflow-hidden"}`,children:[h.jsxs("div",{className:"bg-slate-50 dark:bg-black/20 p-6 rounded-2xl border border-primary/5 dark:border-white/5 relative",children:[h.jsxs("h4",{className:"text-sm font-bold text-primary dark:text-white mb-6 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"radar"}),"5-Dimension   "]}),h.jsxs("div",{className:"flex flex-col items-center gap-8",children:[h.jsx("div",{className:"relative size-48 shrink-0",children:h.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-xl transform text-xs",children:[h.jsx("polygon",{points:"50,5 95,30 95,75 50,95 5,75 5,30",fill:"none",stroke:"#ddd",strokeWidth:"0.5",className:"dark:stroke-white/20"}),h.jsx("polygon",{points:"50,20 80,35 80,65 50,80 20,65 20,35",fill:"none",stroke:"#ddd",strokeWidth:"0.5",className:"dark:stroke-white/20"}),h.jsx("polygon",{points:p.radarChart.points,fill:"rgba(212, 175, 55, 0.4)",stroke:"#d4af37",strokeWidth:"2",className:"animate-pulse-slow"}),h.jsx("text",{x:"50",y:"4",textAnchor:"middle",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"96",y:"28",textAnchor:"start",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"96",y:"78",textAnchor:"start",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"50",y:"99",textAnchor:"middle",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"4",y:"78",textAnchor:"end",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""}),h.jsx("text",{x:"4",y:"28",textAnchor:"end",fontSize:"6",className:"fill-slate-600 dark:fill-slate-300 font-bold",children:""})]})}),h.jsx("div",{className:"w-full text-center",children:h.jsxs("p",{className:"text-xs leading-relaxed text-slate-600 dark:text-slate-300",children:["   ",h.jsx("strong",{className:"text-primary dark:text-gold",children:p.persona})," .  ",h.jsx("strong",{children:p.metrics.accuracy.label})," ",h.jsx("strong",{children:p.metrics.retention.label}),"    ."]})})]})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("h4",{className:"text-sm font-bold text-primary dark:text-white mb-4 flex items-center gap-2 border-b border-primary/10 dark:border-white/10 pb-2",children:[h.jsx("span",{className:"material-symbols-outlined text-green-500",children:"analytics"}),"Big Data   (N=50,214)"]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-white/5 p-5 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-end mb-2",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 block mb-1",children:"   (Cognitive Load Capacity)"}),h.jsxs("h5",{className:"text-lg font-black text-primary dark:text-white",children:[p.bigData.load.percentile," ",h.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-1",children:["(",p.bigData.load.rank,")"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-2xl font-black text-green-600",children:p.bigData.load.score}),h.jsx("span",{className:"text-[10px] text-slate-400 block",children:"/ 100 pt"})]})]}),h.jsxs("div",{className:"h-3 bg-slate-200 dark:bg-white/10 rounded-full overflow-hidden relative mb-3",children:[h.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-400 w-[45%] opacity-30"})," ",h.jsx("div",{className:"absolute top-0 left-[44%] h-full w-[2px] bg-slate-500 z-10"})," ",h.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary to-gold shadow-lg transition-all duration-1000 ease-out",style:{width:`${p.bigData.load.score}%`}})," "]}),h.jsxs("div",{className:"flex justify-between text-[9px] text-slate-400 font-medium mb-3",children:[h.jsxs("span",{children:["Average (",p.bigData.load.avg,")"]}),h.jsxs("span",{children:["You (",p.bigData.load.score,")"]})]}),h.jsx("p",{className:"text-xs leading-relaxed text-slate-700 dark:text-slate-300 border-t border-slate-200 dark:border-white/10 pt-3 mt-2",children:p.bigData.load.desc})]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-white/5 p-5 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-end mb-2",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 block mb-1",children:"   (Inference Speed)"}),h.jsxs("h5",{className:"text-lg font-black text-primary dark:text-white",children:[p.bigData.inference.percentile," ",h.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-1",children:["(",p.bigData.inference.rank,")"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-2xl font-black text-blue-500",children:p.bigData.inference.score}),h.jsx("span",{className:"text-[10px] text-slate-400 block",children:"/ 100 pt"})]})]}),h.jsxs("div",{className:"h-3 bg-slate-200 dark:bg-white/10 rounded-full overflow-hidden relative mb-3",children:[h.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-400 w-[52%] opacity-30"}),h.jsx("div",{className:"absolute top-0 left-[51%] h-full w-[2px] bg-slate-500 z-10"}),h.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-600 to-cyan-400 shadow-lg transition-all duration-1000 ease-out",style:{width:`${p.bigData.inference.score}%`}})]}),h.jsxs("div",{className:"flex justify-between text-[9px] text-slate-400 font-medium mb-3",children:[h.jsxs("span",{children:["Average (",p.bigData.inference.avg,")"]}),h.jsxs("span",{children:["You (",p.bigData.inference.score,")"]})]}),h.jsx("p",{className:"text-xs leading-relaxed text-slate-700 dark:text-slate-300 border-t border-slate-200 dark:border-white/10 pt-3 mt-2",children:p.bigData.inference.desc})]}),h.jsxs("div",{className:"bg-slate-50 dark:bg-white/5 p-5 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-end mb-2",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 block mb-1",children:"  (Lexical Diversity)"}),h.jsxs("h5",{className:"text-lg font-black text-primary dark:text-white",children:[p.bigData.vocabulary.percentile," ",h.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-1",children:["(",p.bigData.vocabulary.rank,")"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-2xl font-black text-purple-500",children:p.bigData.vocabulary.score}),h.jsx("span",{className:"text-[10px] text-slate-400 block",children:"/ 100 pt"})]})]}),h.jsxs("div",{className:"h-3 bg-slate-200 dark:bg-white/10 rounded-full overflow-hidden relative mb-3",children:[h.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-400 w-[38%] opacity-30"}),h.jsx("div",{className:"absolute top-0 left-[37%] h-full w-[2px] bg-slate-500 z-10"}),h.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-purple-600 to-pink-400 shadow-lg transition-all duration-1000 ease-out",style:{width:`${p.bigData.vocabulary.score}%`}})]}),h.jsxs("div",{className:"flex justify-between text-[9px] text-slate-400 font-medium mb-3",children:[h.jsxs("span",{children:["Average (",p.bigData.vocabulary.avg,")"]}),h.jsxs("span",{children:["You (",p.bigData.vocabulary.score,")"]})]}),h.jsx("p",{className:"text-xs leading-relaxed text-slate-700 dark:text-slate-300 border-t border-slate-200 dark:border-white/10 pt-3 mt-2",children:p.bigData.vocabulary.desc})]})]}),h.jsxs("div",{className:"bg-primary/5 dark:bg-white/5 p-5 rounded-2xl border-l-4 border-primary dark:border-gold",children:[h.jsxs("h4",{className:"text-sm font-bold text-primary dark:text-white mb-2 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-xl",children:"auto_awesome"}),"AI   "]}),h.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-300 leading-relaxed mb-3",children:p.bigData.comment})]}),h.jsxs("div",{className:"pt-8 border-t border-primary/10 dark:border-white/10",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("span",{className:"text-xs font-bold text-gold uppercase tracking-wider",children:"AI "}),h.jsx("h4",{className:"text-lg font-bold text-primary dark:text-white mt-1",children:"    Top 5"}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:f.desc})]}),h.jsx("div",{className:"space-y-4",children:f.books.map((T,j)=>h.jsxs("div",{className:"flex gap-4 p-4 rounded-xl bg-white dark:bg-white/5 border border-primary/5 dark:border-white/5 shadow-sm hover:shadow-md transition-all group",children:[h.jsx("div",{className:"w-16 h-24 shrink-0 rounded-md overflow-hidden bg-slate-200 shadow-md",children:h.jsx("img",{src:T.cover,alt:T.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[h.jsx("h5",{className:"font-bold text-primary dark:text-white text-sm line-clamp-1",children:T.title}),h.jsx("p",{className:"text-xs text-slate-500 mb-1",children:T.author}),h.jsx("p",{className:"text-[11px] text-slate-600 dark:text-slate-400 leading-tight line-clamp-2 mb-3",children:T.desc}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("a",{href:T.link,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-gold hover:bg-gold-light text-primary text-[10px] font-bold py-2 rounded-lg flex items-center justify-center gap-1 shadow-sm transition-all active:scale-95",children:[" ",h.jsx("span",{className:"material-symbols-outlined text-xs",children:"shopping_cart"})]}),h.jsxs("button",{onClick:()=>{const D=JSON.parse(localStorage.getItem("savedBooks")||"[]");if(D.some(B=>B.title===T.title)){const B=D.filter(F=>F.title!==T.title);localStorage.setItem("savedBooks",JSON.stringify(B)),window.dispatchEvent(new Event("savedBooksUpdated")),alert(" .")}else D.push(T),localStorage.setItem("savedBooks",JSON.stringify(D)),window.dispatchEvent(new Event("savedBooksUpdated")),alert(" . ")},className:"flex-1 bg-slate-100 dark:bg-white/10 hover:bg-slate-200 dark:hover:bg-white/20 text-slate-700 dark:text-white text-[10px] font-bold py-2 rounded-lg flex items-center justify-center gap-1 transition-all active:scale-95",children:[" ",h.jsx("span",{className:"material-symbols-outlined text-xs",children:"bookmark"})]})]})]})]},j))})]}),h.jsxs("div",{className:"pt-8 border-t border-primary/10 dark:border-white/10",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("span",{className:"text-xs font-bold text-gold uppercase tracking-wider",children:"AI  2"}),h.jsx("h4",{className:"text-lg font-bold text-primary dark:text-white mt-1",children:"    Top 5"}),h.jsx("p",{className:"text-xs text-slate-500 mt-1",children:f.travelDesc})]}),h.jsx("div",{className:"space-y-4",children:f.travel&&f.travel.map((T,j)=>h.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-slate-900 group shadow-md hover:shadow-xl transition-all",children:[h.jsxs("div",{className:"absolute inset-0",children:[h.jsx("img",{src:T.image,alt:T.place,className:"w-full h-full object-cover opacity-60 group-hover:scale-105 group-hover:opacity-50 transition-all duration-700"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"})]}),h.jsxs("div",{className:"relative p-5 flex flex-col items-start justify-end h-32",children:[h.jsx("span",{className:"text-[10px] font-bold text-gold bg-black/30 px-2 py-0.5 rounded-full mb-2 backdrop-blur-sm border border-white/10",children:T.country}),h.jsx("h5",{className:"text-lg font-bold text-white leading-tight mb-1",children:T.place}),h.jsx("p",{className:"text-xs text-slate-300 line-clamp-2 leading-relaxed",children:T.desc})]})]},j))})]}),t&&h.jsxs("div",{className:"mt-8 p-4 bg-green-500/10 rounded-xl text-green-600 text-sm font-bold text-center border border-green-500/20 shadow-inner flex flex-col items-center gap-2 animate-fade-in",children:[h.jsx("span",{className:"material-symbols-outlined text-2xl",children:"check_circle"}),h.jsx("span",{children:"       ."})]})]}),!t&&h.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center bg-white/40 dark:bg-black/40 backdrop-blur-sm p-6 text-center",children:[h.jsx("div",{className:"mb-8 animate-bounce-subtle",children:h.jsx("div",{className:"bg-red-600 text-white text-[11px] font-black px-4 py-1.5 rounded-full shadow-[0_0_20px_rgba(220,38,38,0.5)] uppercase tracking-[0.2em] border border-white/20",children:" Limited Time Sale "})}),h.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-md rounded-[2.5rem] p-8 border border-white/20 shadow-2xl w-full max-w-sm",children:[h.jsx("div",{className:"mb-4 flex size-20 items-center justify-center rounded-full bg-gradient-to-br from-gold/20 to-gold/5 mx-auto ring-1 ring-gold/30",children:h.jsx("span",{className:"material-symbols-outlined text-5xl text-gold animate-pulse",children:"lock"})}),h.jsxs("h4",{className:"text-2xl font-black text-slate-900 dark:text-white leading-tight mb-2",children:[" ",h.jsx("br",{}),"  "]}),h.jsxs("p",{className:"mb-6 text-xs font-medium text-slate-500 dark:text-slate-400 leading-relaxed",children:[" 1%   ",h.jsx("br",{}),"   /  ."]}),h.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[h.jsx("span",{className:"text-slate-400 line-through text-sm font-bold opacity-75 mb-1",children:" 29,000"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-4xl font-black text-red-500",children:"9,900"}),h.jsx("span",{className:"text-xs font-black text-red-500 bg-red-500/10 px-2 py-0.5 rounded",children:"66% OFF"})]})]}),h.jsxs("div",{className:"mb-8 bg-slate-100 dark:bg-white/5 py-3 rounded-2xl border border-slate-200 dark:border-white/10",children:[h.jsx("p",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400 uppercase tracking-widest mb-2",children:"   "}),h.jsxs("div",{className:"text-3xl font-black text-slate-900 dark:text-white font-mono tracking-widest flex items-center justify-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-red-500 animate-pulse",children:"alarm"}),l(n)]})]}),h.jsx("button",{onClick:y,className:"group relative w-full overflow-hidden rounded-2xl bg-gold text-slate-900 shadow-xl transition-all hover:scale-[1.02] active:scale-[0.98]",children:h.jsxs("div",{className:"relative flex items-center justify-center gap-3 py-5 px-6",children:[h.jsx("span",{className:"text-base font-black uppercase tracking-tight",children:"  "}),h.jsx("span",{className:"material-symbols-outlined font-bold",children:"arrow_forward"})]})}),h.jsxs("div",{className:"mt-6 flex items-center justify-center gap-4 text-[9px] font-bold text-slate-500 uppercase tracking-widest opacity-80",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-xs",children:"shield_check"}),"  "]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-xs",children:"history_edu"}),"  "]})]})]})]})]})}),h.jsx(Un,{})]}),h.jsx(Bn,{})]})}function TT(){const{id:t}=LT(),{isSpeaking:e,activeAudioId:n,playPodcast:i,speakReview:a,stopAll:l}=Pf(),u=zr.find(f=>f.id===t)||zr[0];return P.useEffect(()=>{window.scrollTo(0,0)},[t]),h.jsx("div",{className:"bg-white text-slate-900 dark:text-slate-100 antialiased font-display min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(as,{title:" ",type:"sub"}),h.jsxs("main",{className:"pb-24",children:[h.jsx("section",{className:"px-4 pt-2 overflow-hidden",children:h.jsxs("div",{className:"relative w-full h-[70vh] md:h-[80vh] flex flex-col justify-end overflow-hidden rounded-2xl shadow-xl",children:[h.jsxs("div",{className:"absolute inset-0 z-0",children:[h.jsx("img",{className:"w-full h-full object-cover grayscale brightness-90 contrast-[1.15]",src:u.image,alt:u.name,onError:f=>{f.target.src="https://images.unsplash.com/photo-1544275039-35ed06764574?q=80&w=2000"}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background-dark via-background-dark/30 to-transparent"})]}),h.jsxs("div",{className:"relative z-20 p-6 md:p-12 mb-4 max-w-full",children:[h.jsx("span",{className:"inline-block px-3 py-1.5 bg-gold text-primary text-[10px] font-black uppercase tracking-tighter mb-4 rounded-sm",children:" "}),h.jsx("h1",{className:"text-[32px] md:text-[56px] font-light tracking-tighter text-white mb-4 leading-tight",children:u.name}),h.jsxs("p",{className:"text-slate-300 text-lg md:text-xl leading-relaxed font-light italic opacity-90",children:['"',u.quote,'"']})]})]})}),h.jsx("section",{className:"bg-background-dark px-6 py-12 md:py-20 border-b border-primary/20",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("div",{className:"mb-10",children:[h.jsxs("h3",{className:"text-gold text-2xl md:text-3xl uppercase tracking-[0.3em] mb-6 font-bold flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-[2px] bg-gold-start"})," "]}),h.jsx("p",{className:"text-base md:text-lg font-light leading-relaxed text-slate-300 tracking-normal opacity-80",children:u.intro})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4 md:gap-24 pb-4",children:[h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-gold text-2xl md:text-3xl font-bold tracking-tight",children:u.stats.books}),h.jsx("span",{className:"text-[11px] md:text-base text-slate-400 font-medium whitespace-nowrap",children:" "})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-gold text-2xl md:text-3xl font-bold tracking-tight",children:u.stats.categories}),h.jsx("span",{className:"text-[11px] md:text-base text-slate-400 font-medium whitespace-nowrap",children:""})]}),h.jsxs("div",{className:"flex flex-col gap-1",children:[h.jsx("span",{className:"text-gold text-2xl md:text-3xl font-bold tracking-tight",children:u.stats.time}),h.jsx("span",{className:"text-[11px] md:text-base text-slate-400 font-medium whitespace-nowrap",children:""})]})]})]})}),h.jsx("section",{className:"px-4 py-8",children:h.jsx(pt,{to:"/quiz",className:"block group",children:h.jsxs("div",{className:"relative aspect-[16/9] rounded-3xl overflow-hidden border border-white/10 shadow-2xl",children:[h.jsx("img",{src:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?q=80&w=1000&auto=format&fit=crop",alt:"Library Background",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}),h.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center p-6 text-center",children:[h.jsx("div",{className:"size-12 rounded-full bg-gold/20 flex items-center justify-center border border-gold/40 mb-4",children:h.jsx("span",{className:"material-symbols-outlined text-gold",children:"psychology"})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-2 leading-tight",children:"   "}),h.jsx("p",{className:"text-slate-300 text-[11px] leading-relaxed max-w-[200px] mb-6",children:"         ."}),h.jsxs("div",{className:"px-8 py-3 bg-gold text-primary font-black rounded-xl text-xs shadow-lg shadow-gold/20 active:scale-95 transition-transform flex items-center gap-2",children:[h.jsx("span",{children:" "}),h.jsx("span",{className:"material-symbols-outlined text-sm",children:"auto_awesome"})]})]})]})})}),h.jsx("section",{className:"px-4 py-12 space-y-16",children:h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-8 border-b border-primary/30 pb-4",children:[h.jsxs("h4",{className:"text-2xl font-light tracking-tight",children:[h.jsx("span",{className:"text-accent mr-2",children:"01."})," "]}),h.jsx("span",{className:"text-[10px] uppercase tracking-widest text-slate-500",children:" "})]}),h.jsx("div",{className:"flex flex-col gap-12",children:u.books.map((f,p)=>h.jsxs("div",{className:"flex flex-col gap-6 group",children:[h.jsxs("div",{className:"flex gap-6",children:[h.jsx("a",{href:`https://www.coupang.com/np/search?component=&q=${encodeURIComponent(f.title)}`,target:"_blank",rel:"noopener noreferrer",className:"w-1/3 shrink-0 active:scale-95 transition-transform",children:h.jsxs("div",{className:"aspect-[2/3] bg-primary/20 rounded shadow-2xl overflow-hidden border border-white/5 relative group/cover",children:[h.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover/cover:scale-110",src:f.cover,alt:f.title}),h.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover/cover:bg-black/20 transition-colors flex items-center justify-center",children:h.jsx("span",{className:"material-symbols-outlined text-white opacity-0 group-hover/cover:opacity-100 transition-opacity",children:"shopping_cart"})})]})}),h.jsxs("div",{className:"flex flex-col justify-between py-1 w-full",children:[h.jsxs("div",{children:[h.jsx("h5",{className:"text-xl font-bold leading-tight mb-1 text-white",children:f.title}),h.jsx("p",{className:"text-xs text-slate-500 mb-3 italic",children:f.author}),h.jsx("p",{className:"text-sm text-slate-400 font-light leading-snug line-clamp-3",children:f.desc}),f.source&&h.jsxs("p",{className:"text-[10px] text-gold/80 mt-3 flex items-center gap-1 font-bold tracking-wider uppercase",children:[h.jsx("span",{className:"material-symbols-outlined text-[12px]",children:"campaign"}),f.source]})]}),h.jsx("div",{className:"mt-4",children:h.jsx("span",{className:"text-white font-black text-xl",children:f.price})})]})]}),f.review&&h.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/5 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-gold/50"}),h.jsxs("h6",{className:"text-gold text-[10px] font-black uppercase tracking-[0.2em] mb-4 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"edit_note"}),"Insight & Review"]}),h.jsx("p",{className:"text-slate-300 text-sm leading-relaxed font-light whitespace-pre-wrap",children:f.review})]}),h.jsxs("div",{className:"flex gap-3",children:[f.id&&_t[f.id]?h.jsxs("button",{onClick:()=>n===`celeb-${f.id}`?l():i(_t[f.id],`celeb-${f.id}`),className:`hover:bg-gold-light flex-1 text-center py-4 rounded-xl text-xs font-black uppercase tracking-widest shadow-lg active:scale-95 transition-all flex items-center justify-center gap-2 ${n===`celeb-${f.id}`?"bg-gold text-primary shadow-gold/20":"bg-white/5 text-white/80 border border-white/10"}`,children:[h.jsx("span",{children:n===`celeb-${f.id}`?"":""}),h.jsx("span",{className:"material-symbols-outlined text-sm",children:n===`celeb-${f.id}`?"stop":"podcasts"})]}):h.jsxs("button",{onClick:()=>n===`celeb-${f.id||p}`?l():a(f.review||f.desc,`celeb-${f.id||p}`),className:`hover:bg-white/10 flex-1 text-center py-4 rounded-xl text-xs font-black uppercase tracking-widest transition-all active:scale-95 flex items-center justify-center gap-2 ${n===`celeb-${f.id||p}`?"bg-gold text-primary":"bg-white/5 text-white/50 border border-white/10"}`,children:[h.jsx("span",{children:n===`celeb-${f.id||p}`?"":""}),h.jsx("span",{className:"material-symbols-outlined text-sm",children:n===`celeb-${f.id||p}`?"stop":"record_voice_over"})]}),f.id?h.jsxs(pt,{to:`/review/${f.id}`,className:"bg-white/5 hover:bg-white/10 text-white border border-white/10 flex-1 text-center py-4 rounded-xl text-xs font-black uppercase tracking-widest transition-all active:scale-95 flex items-center justify-center gap-2",children:[h.jsx("span",{children:" "}),h.jsx("span",{className:"material-symbols-outlined text-sm",children:"menu_book"})]}):h.jsxs("button",{onClick:()=>{const y=JSON.parse(localStorage.getItem("savedBooks")||"[]");if(y.some(b=>b.title===f.title)){const b=y.filter(T=>T.title!==f.title);localStorage.setItem("savedBooks",JSON.stringify(b)),window.dispatchEvent(new Event("savedBooksUpdated")),alert(" .")}else y.push(f),localStorage.setItem("savedBooks",JSON.stringify(y)),window.dispatchEvent(new Event("savedBooksUpdated")),alert(" . ")},className:"bg-white/5 hover:bg-white/10 text-white border border-white/10 flex-1 text-center py-4 rounded-xl text-xs font-black uppercase tracking-widest transition-all active:scale-95 flex items-center justify-center gap-2",children:[h.jsx("span",{children:" "}),h.jsx("span",{className:"material-symbols-outlined text-sm",children:"bookmark"})]})]}),h.jsx("div",{className:"mt-3",children:h.jsxs("a",{href:`https://www.coupang.com/np/search?component=&q=${encodeURIComponent(f.title)}`,target:"_blank",rel:"noopener noreferrer",className:"bg-[#FF9900]/10 hover:bg-[#FF9900]/20 text-[#FF9900] border border-[#FF9900]/30 w-full text-center py-3 rounded-xl text-[10px] font-bold uppercase tracking-widest transition-all active:scale-95 flex items-center justify-center gap-2",children:[h.jsx("span",{children:"  "}),h.jsx("span",{className:"material-symbols-outlined text-xs",children:"open_in_new"})]})})]},p))})]})}),h.jsxs("section",{className:"bg-primary/20 py-16 border-t border-primary/30",children:[h.jsxs("div",{className:"px-6 mb-10 text-center",children:[h.jsx("h4",{className:"text-accent text-[10px] uppercase tracking-[0.4em] mb-3",children:"  "}),h.jsxs("p",{className:"text-3xl font-extralight tracking-tight text-white",children:[" ",h.jsx("span",{className:"text-accent italic",children:" "}),"  ."]})]}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-9 gap-y-10 px-4",children:zr.map(f=>h.jsxs(pt,{to:`/celebrity/${f.id}`,className:`flex flex-col items-center gap-3 transition-all duration-300 group ${f.id===u.id?"opacity-100 scale-110":"opacity-60 hover:opacity-100 hover:scale-105"}`,children:[h.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-full border-2 p-1 transition-colors duration-500 ${f.id===u.id?"border-accent shadow-[0_0_20px_rgba(212,175,55,0.3)]":"border-primary/30 group-hover:border-accent"}`,children:h.jsx("img",{className:`w-full h-full object-cover rounded-full transition-all duration-700 ${f.id===u.id?"grayscale-0":"grayscale group-hover:grayscale-0"}`,src:f.image,alt:f.name})}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:`text-[8px] sm:text-[10px] font-bold uppercase tracking-widest block transition-colors duration-300 ${f.id===u.id?"text-accent":"text-slate-500 group-hover:text-slate-200"}`,children:f.name}),f.id===u.id&&h.jsx("div",{className:"w-4 h-[2px] bg-accent mx-auto mt-1 rounded-full"})]})]},f.id))})]}),h.jsx(Un,{})]}),h.jsx(Bn,{})]})})}const $6=[{id:1,question:"     '' ?",options:[{id:"A",text:" :    ,    "},{id:"B",text:" :        "},{id:"C",text:" :        "},{id:"D",text:" :         "}]},{id:2,question:"     ' ' ?",options:[{id:"A",text:" :   ,  ,    "},{id:"B",text:" :   ,    "},{id:"C",text:"   :      "},{id:"D",text:" :   ,     "}]},{id:3,question:"   ,   ' ' ?",options:[{id:"A",text:" :          ."},{id:"B",text:" :       ."},{id:"C",text:" :        ."},{id:"D",text:" :          ."}]},{id:4,question:"    ' '   ?",options:[{id:"A",text:" :  ,    ."},{id:"B",text:" :       ."},{id:"C",text:" :         ."},{id:"D",text:" :         ."}]},{id:5,question:"     ,  ?",options:[{id:"A",text:" :       ."},{id:"B",text:" :      ."},{id:"C",text:" :      ."},{id:"D",text:" : '   ?'    ."}]},{id:6,question:"  ,     ?",options:[{id:"A",text:"Action Plan:         "},{id:"B",text:"Scene & Character:     "},{id:"C",text:"Emotion:      "},{id:"D",text:"Question:         "}]},{id:7,question:"      ''?",options:[{id:"A",text:"//:  ,    "},{id:"B",text:"/SF/:     "},{id:"C",text:"//:     "},{id:"D",text:"//:       "}]},{id:8,question:"     'Bookmark' ?",options:[{id:"A",text:" :      ."},{id:"B",text:":      ."},{id:"C",text:" :       ."},{id:"D",text:":         ."}]},{id:9,question:"    ,  ?",options:[{id:"A",text:" :       ."},{id:"B",text:": ' !'     ."},{id:"C",text:" : '  '     ."},{id:"D",text:" :         ."}]},{id:10,question:"  '  ()' ?",options:[{id:"A",text:"Powerhouse:     ()    "},{id:"B",text:"Theme Park:        "},{id:"C",text:"Sanctuary:         "},{id:"D",text:"Temple:    ,   "}]},{id:11,question:"    ,  ?",options:[{id:"A",text:" :       ."},{id:"B",text:" :       ."},{id:"C",text:" :      ."},{id:"D",text:" :        ."}]},{id:12,question:" ' '  ?",options:[{id:"A",text:" :        "},{id:"B",text:" :         "},{id:"C",text:" :       "},{id:"D",text:" :        "}]},{id:13,question:"      ?",options:[{id:"A",text:" :         "},{id:"B",text:" :        "},{id:"C",text:"  :        "},{id:"D",text:"  :       "}]},{id:14,question:"   ,    ?",options:[{id:"A",text:" :      "},{id:"B",text:" :       "},{id:"C",text:" :       "},{id:"D",text:" :       "}]},{id:15,question:"(E-book)   ?",options:[{id:"A",text:":         ."},{id:"B",text:":  , ,     ."},{id:"C",text:":         ."},{id:"D",text:" :      ."}]},{id:16,question:"  ,    ?",options:[{id:"A",text:":      "},{id:"B",text:" :      "},{id:"C",text:":        "},{id:"D",text:":      "}]},{id:17,question:"     ,    ?",options:[{id:"A",text:":       "},{id:"B",text:":       "},{id:"C",text:":      "},{id:"D",text:":       "}]},{id:18,question:" ''   ?",options:[{id:"A",text:":       "},{id:"B",text:":       "},{id:"C",text:":        "},{id:"D",text:":        "}]},{id:19,question:"(Audio Book)    ?",options:[{id:"A",text:" :        ."},{id:"B",text:" :        ."},{id:"C",text:" :        ."},{id:"D",text:" :        ."}]},{id:20,question:"     () ?",options:[{id:"A",text:" :     !      ."},{id:"B",text:" :        ."},{id:"C",text:" :          ."},{id:"D",text:" :        ."}]}];function K6(){const[t,e]=P.useState(0),[n,i]=P.useState({}),[a,l]=P.useState([]),u=rs();P.useEffect(()=>{const D=[...$6].sort(()=>.5-Math.random());l(D.slice(0,10))},[]);const f=D=>{const z=a[t].id;i(B=>({...B,[z]:D}))},p=()=>{if(t<a.length-1)e(t+1),window.scrollTo(0,0);else{const D=y(n);localStorage.setItem("quizResult",D),u("/result",{state:{resultType:D}})}},y=D=>{const z={A:0,B:0,C:0,D:0};Object.values(D).forEach(M=>{z[M]!==void 0&&z[M]++});let B=-1,F="growth";const $={A:"growth",B:"entertainment",C:"empathy",D:"mindfulness"};for(const[M,w]of Object.entries(z))w>B&&(B=w,F=$[M]);return F};if(a.length===0)return h.jsxs("div",{className:"bg-background-dark min-h-screen flex flex-col items-center justify-center p-8 text-center",children:[h.jsxs("div",{className:"relative mb-10",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-3xl rounded-full scale-150 animate-pulse"}),h.jsx("div",{className:"size-20 rounded-full border-t-2 border-gold animate-spin"})]}),h.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:"  ..."}),h.jsx("p",{className:"text-slate-500 text-sm",children:" ."})]});const x=a[t],b=a.length,T=(t+1)/b*100,j=!!n[x.id];return h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5 flex flex-col",children:[h.jsx(as,{title:" ",type:"sub"}),h.jsx("div",{className:"w-full h-1 bg-white/5",children:h.jsx("div",{className:"h-full bg-gold transition-all duration-500 ease-out shadow-[0_0_10px_rgba(212,175,55,0.5)]",style:{width:`${T}%`}})}),h.jsxs("main",{className:"flex-1 px-6 pt-10 pb-24 flex flex-col animate-fade-in relative z-10",children:[h.jsx("div",{className:"absolute top-20 right-0 w-64 h-64 bg-gold/5 blur-[100px] rounded-full pointer-events-none"}),h.jsxs("div",{className:"mb-10 text-center relative",children:[h.jsxs("span",{className:"inline-block px-3 py-1 mb-6 text-[10px] font-bold tracking-[0.2em] text-gold uppercase border border-gold/20 rounded-full bg-gold/5",children:["Question ",t+1]}),h.jsx("h2",{className:"serif-title text-2xl md:text-3xl font-medium leading-relaxed text-white drop-shadow-xl",children:x.question})]}),h.jsx("div",{className:"space-y-4 flex-1",children:x.options.map(D=>{const z=n[x.id]===D.id;return h.jsxs("button",{onClick:()=>f(D.id),className:`w-full p-6 text-left transition-all duration-300 rounded-xl border relative overflow-hidden group ${z?"bg-gold/10 border-gold shadow-[0_0_20px_rgba(212,175,55,0.15)]":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/10"}`,children:[h.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[h.jsx("span",{className:`text-sm md:text-base font-medium transition-colors ${z?"text-white":"text-slate-300 group-hover:text-white"}`,children:D.text}),h.jsx("div",{className:`size-5 rounded-full border flex items-center justify-center transition-all ${z?"border-gold bg-gold text-black scale-110":"border-white/20 group-hover:border-white/40"}`,children:z&&h.jsx("span",{className:"material-symbols-outlined text-xs font-bold",children:"check"})})]}),z&&h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gold/5 to-transparent pointer-events-none"})]},D.id)})}),h.jsx("div",{className:"mt-12",children:h.jsx("button",{onClick:p,disabled:!j,className:`w-full py-4 rounded-xl font-bold uppercase tracking-widest text-xs transition-all duration-300 flex items-center justify-center gap-2 ${j?"bg-gold text-primary shadow-[0_4px_20px_rgba(212,175,55,0.4)] hover:shadow-[0_4px_25px_rgba(212,175,55,0.6)] active:scale-[0.98]":"bg-white/5 text-slate-500 cursor-not-allowed border border-white/5"}`,children:t===b-1?h.jsxs(h.Fragment,{children:[" ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"analytics"})]}):h.jsxs(h.Fragment,{children:[" ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]})})})]}),h.jsx(Un,{}),h.jsx(Bn,{})]})})}function Y6(){const{user:t}=Tl(),[e,n]=P.useState(!1),[i,a]=P.useState(null),[l,u]=P.useState(null),[f,p]=P.useState([]),[y,x]=P.useState([]),[b,T]=P.useState([]),j=rs(),D=()=>{const M=JSON.parse(localStorage.getItem("savedBooks")||"[]");x(M)},z=M=>{const w=y.filter(E=>E.title!==M);localStorage.setItem("savedBooks",JSON.stringify(w)),x(w)};P.useEffect(()=>{const M=localStorage.getItem("premiumUnlocked")==="true",w=localStorage.getItem("myResultType"),E=localStorage.getItem("quizResult");n(M),a(w),u(E);const I=JSON.parse(localStorage.getItem("finderRecommendations")||"[]");T(I),D();const N=()=>{D();const A=JSON.parse(localStorage.getItem("finderRecommendations")||"[]");T(A)};return window.addEventListener("storage",N),window.addEventListener("savedBooksUpdated",N),()=>{window.removeEventListener("storage",N),window.removeEventListener("savedBooksUpdated",N)}},[]);const B=i?W0[i]:null,F=i?Y0[i]?.books.filter(M=>!f.includes(M.title)):[],$=t&&e&&B;return h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(as,{title:" ",type:"sub"}),h.jsxs("main",{className:"px-6 pt-8 pb-24 space-y-12 animate-fade-in",children:[h.jsxs("div",{className:"text-center space-y-2 border-b border-white/5 pb-8",children:[h.jsx("span",{className:"text-gold text-xs font-bold uppercase tracking-[0.2em]",children:"Personal archiview"}),h.jsx("h2",{className:"serif-title text-3xl text-white font-medium leading-tight",children:" "}),h.jsxs("p",{className:"text-slate-400 text-xs font-light",children:[y.length," items collected"]})]}),$?h.jsx("div",{onClick:()=>j("/result",{state:{resultType:i}}),className:"relative rounded-3xl overflow-hidden border border-gold/30 bg-gradient-to-br from-slate-900 via-slate-800 to-black p-1 group cursor-pointer shadow-2xl mb-8",children:h.jsxs("div",{className:"relative bg-background-dark/40 backdrop-blur-xl rounded-[22px] p-6 flex items-center gap-6",children:[h.jsxs("div",{className:"relative size-24 shrink-0",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-2xl rounded-full"}),h.jsx("img",{src:B.image,alt:B.persona,className:"relative w-full h-full object-cover rounded-2xl shadow-xl border border-gold/30"})]}),h.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[h.jsx("span",{className:"text-gold text-[10px] font-bold uppercase tracking-widest block mb-1",children:"My Persona"}),h.jsx("h3",{className:"serif-title text-white text-2xl font-bold leading-none mb-2 tracking-tight",children:B.persona}),h.jsx("p",{className:"text-slate-400 text-[11px] font-medium truncate mb-4",children:B.subtitle}),h.jsx("div",{className:"flex gap-2",children:Object.entries(B.metrics).slice(0,2).map(([M,w])=>h.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-lg px-2 py-1 flex flex-col items-center min-w-[64px]",children:[h.jsx("span",{className:"text-slate-500 text-[7px] uppercase block leading-none mb-1",children:w.label}),h.jsx("span",{className:"text-gold text-[10px] font-extrabold",children:w.value})]},M))})]}),h.jsx("span",{className:"material-symbols-outlined text-gold opacity-30 group-hover:opacity-100 transition-opacity",children:"chevron_right"})]})}):h.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 group mb-8",children:[h.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1481627834876-b7833e8f5570?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-40 group-hover:scale-105 transition-transform duration-1000"}),h.jsx("div",{className:"absolute inset-0 bg-background-dark/80"}),h.jsxs("div",{className:"relative p-6 text-center flex flex-col items-center",children:[h.jsx("span",{className:"material-symbols-outlined text-gold text-3xl mb-3",children:"psychology_alt"}),h.jsx("h3",{className:"serif-title text-white text-xl mb-2",children:"Find Your Persona"}),h.jsx("p",{className:"text-slate-400 text-xs font-light mb-5 max-w-xs leading-relaxed",children:"Take our literary personality test to discover the books that resonate with your soul."}),l?h.jsxs("button",{onClick:()=>j("/result",{state:{resultType:l}}),className:"px-6 py-2.5 bg-white text-primary font-bold rounded-lg text-xs uppercase tracking-widest hover:bg-gold transition-colors flex items-center gap-2",children:["View Analysis Result ",h.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_forward"})]}):h.jsx(pt,{to:"/quiz",className:"px-6 py-2.5 bg-gold text-primary font-bold rounded-lg text-xs uppercase tracking-widest hover:bg-white transition-colors",children:"Start Diagnostics"})]})]}),(i&&F.length>0||b.length>0)&&h.jsxs("div",{className:"pt-8 border-t border-white/10",children:[h.jsx("h3",{className:"serif-title text-xl text-white mb-6 italic",children:"Recommended for You"}),h.jsxs("div",{className:"space-y-4",children:[b.length>0&&b.map((M,w)=>h.jsxs("div",{className:"flex gap-4 p-4 bg-gold/5 rounded-xl border border-gold/20 hover:bg-gold/10 transition-colors relative group",children:[h.jsx("div",{className:"absolute top-2 right-2 flex items-center gap-1.5 opacity-60",children:h.jsx("span",{className:"text-gold text-[8px] font-black uppercase tracking-widest bg-gold/10 px-2 py-0.5 rounded-full border border-gold/20",children:"FOUND"})}),h.jsx("div",{className:"w-16 h-24 shrink-0 bg-slate-800 rounded border border-white/10 overflow-hidden shadow-lg",children:h.jsx("img",{src:M.cover,alt:M.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-1 min-w-0 py-1",children:[h.jsx("h4",{className:"text-white text-sm font-bold truncate mb-1",children:M.title}),h.jsx("p",{className:"text-slate-400 text-xs mb-2",children:M.author}),h.jsxs("p",{className:"text-slate-500 text-[10px] line-clamp-2 leading-relaxed",children:['"',M.desc||"    .",'"']})]})]},`finder-${w}`)),F.map((M,w)=>h.jsxs("div",{className:"flex gap-4 p-4 bg-white/5 rounded-xl border border-white/5 hover:bg-white/10 transition-colors",children:[h.jsx("div",{className:"w-16 h-24 shrink-0 bg-slate-800 rounded border border-white/10 overflow-hidden",children:h.jsx("img",{src:M.cover,alt:M.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-1 min-w-0 py-1",children:[h.jsx("h4",{className:"text-white text-sm font-bold truncate mb-1",children:M.title}),h.jsx("p",{className:"text-slate-400 text-xs mb-2",children:M.author}),h.jsxs("p",{className:"text-slate-500 text-[10px] line-clamp-2 leading-relaxed",children:['"',M.desc,'"']})]})]},`persona-${w}`))]})]}),h.jsxs("div",{className:"pt-8 border-t border-white/10",children:[h.jsx("h3",{className:"serif-title text-xl text-white mb-6 italic",children:"Favorite Collection"}),y.length>0?h.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-8",children:y.map((M,w)=>h.jsxs("div",{className:"group relative",children:[h.jsxs("div",{className:"relative aspect-[2/3] bg-white/5 rounded-lg overflow-hidden border border-white/10 shadow-lg mb-3",children:[h.jsx("img",{src:M.cover,alt:M.title,className:"w-full h-full object-cover opacity-90 group-hover:opacity-100 transition-opacity"}),h.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-3",children:[h.jsx("a",{href:`https://www.coupang.com/np/search?component=&q=${encodeURIComponent(M.title)}`,target:"_blank",rel:"noopener noreferrer",className:"size-10 rounded-full bg-white text-primary flex items-center justify-center hover:bg-gold transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"shopping_cart"})}),h.jsx("button",{onClick:()=>z(M.title),className:"size-10 rounded-full bg-red-500/20 text-red-400 border border-red-500/50 flex items-center justify-center hover:bg-red-500 hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]}),h.jsx("h3",{className:"text-white text-sm font-bold truncate pr-2",children:M.title}),h.jsx("p",{className:"text-slate-500 text-[10px] uppercase tracking-wide truncate",children:M.author})]},w))}):h.jsxs("div",{className:"py-20 text-center border border-dashed border-white/10 rounded-2xl bg-white/5 mx-4",children:[h.jsx("span",{className:"material-symbols-outlined text-slate-600 text-4xl mb-4",children:"bookmark_border"}),h.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"   ."}),h.jsx(pt,{to:"/",className:"px-6 py-2 bg-gold text-primary font-bold rounded-full text-xs hover:bg-white transition-colors",children:" "})]})]}),h.jsx(Un,{})]}),h.jsx(Bn,{})]})})}function W6(){const{user:t,loading:e}=Tl(),n=rs();P.useEffect(()=>{!e&&!t&&n("/login")},[t,e,n]);const i=async()=>{if(window.confirm(" ?"))try{await $M(),n("/login")}catch(a){console.error("Logout failed:",a),alert("  : "+a.message)}};return e?h.jsxs("div",{className:"bg-background-dark min-h-screen flex flex-col items-center justify-center p-8 text-center",children:[h.jsxs("div",{className:"relative mb-10",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-3xl rounded-full scale-150 animate-pulse"}),h.jsx("div",{className:"size-20 rounded-full border-t-2 border-gold animate-spin"})]}),h.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:"  "}),h.jsx("p",{className:"text-slate-500 text-sm",children:" ..."})]}):t?h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(as,{title:"",type:"sub"}),h.jsxs("main",{className:"px-6 pt-8 pb-24 animate-fade-in-up space-y-8",children:[h.jsxs("div",{className:"relative w-full aspect-[1.58/1] rounded-2xl overflow-hidden shadow-2xl group",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-800 to-black"}),h.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),h.jsx("div",{className:"absolute -top-24 -right-24 size-64 bg-gold/20 blur-[80px] rounded-full"}),h.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col justify-between",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"serif-title text-gold text-lg italic tracking-wider",children:"The Archiview"}),h.jsx("span",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] block mt-1",children:"Private Membership"})]}),h.jsx("div",{className:"size-8 rounded-full border border-white/20 flex items-center justify-center bg-white/5 backdrop-blur-sm",children:h.jsx("span",{className:"material-symbols-outlined text-white/80 text-sm",children:"fingerprint"})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"size-12 rounded-full bg-slate-700 border-2 border-gold/50 overflow-hidden shadow-lg",children:h.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.displayName)}&background=0D8ABC&color=fff`,alt:t.displayName,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white font-bold text-lg leading-none",children:t.displayName}),h.jsx("p",{className:"text-slate-400 text-xs mt-1 font-mono tracking-wide",children:t.email})]})]}),h.jsxs("div",{className:"flex justify-between items-end border-t border-white/10 pt-3",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-[9px] text-slate-500 uppercase tracking-wider block",children:"Member Since"}),h.jsx("span",{className:"text-xs text-slate-300 font-mono",children:"2024. 05. 21"})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:"text-[9px] text-slate-500 uppercase tracking-wider block",children:"Status"}),h.jsx("span",{className:"text-xs text-emerald-400 font-bold tracking-wide",children:"ACTIVE"})]})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[h.jsxs("div",{className:"bg-white/5 rounded-xl p-4 text-center border border-white/5",children:[h.jsx("span",{className:"block text-2xl font-black text-white mb-1",children:"12"}),h.jsx("span",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Archived"})]}),h.jsxs("div",{className:"bg-white/5 rounded-xl p-4 text-center border border-white/5",children:[h.jsx("span",{className:"block text-2xl font-black text-white mb-1",children:"85"}),h.jsx("span",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Insights"})]}),h.jsxs("div",{className:"bg-white/5 rounded-xl p-4 text-center border border-white/5",children:[h.jsx("span",{className:"block text-2xl font-black text-white mb-1",children:"4"}),h.jsx("span",{className:"text-[9px] text-slate-400 uppercase tracking-wider",children:"Badges"})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest pl-1",children:"My archiview"}),h.jsxs("div",{className:"bg-white/5 rounded-2xl overflow-hidden border border-white/5 divide-y divide-white/5",children:[h.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-white/10 transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-8 rounded-lg bg-indigo-500/20 flex items-center justify-center text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"book_2"})}),h.jsx("span",{className:"text-sm text-slate-200 font-medium",children:" "})]}),h.jsx("span",{className:"material-symbols-outlined text-slate-500 text-sm",children:"arrow_forward_ios"})]}),h.jsxs("button",{onClick:()=>n("/reading-notes"),className:"w-full flex items-center justify-between p-4 hover:bg-white/10 transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-8 rounded-lg bg-pink-500/20 flex items-center justify-center text-pink-400 group-hover:bg-pink-500 group-hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit_note"})}),h.jsx("span",{className:"text-sm text-slate-200 font-medium",children:" "})]}),h.jsx("span",{className:"material-symbols-outlined text-slate-500 text-sm",children:"arrow_forward_ios"})]}),h.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-white/10 transition-colors group",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"size-8 rounded-lg bg-teal-500/20 flex items-center justify-center text-teal-400 group-hover:bg-teal-500 group-hover:text-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"bookmark"})}),h.jsx("span",{className:"text-sm text-slate-200 font-medium",children:""})]}),h.jsx("span",{className:"material-symbols-outlined text-slate-500 text-sm",children:"arrow_forward_ios"})]})]})]}),h.jsxs("div",{className:"space-y-4 pt-4",children:[h.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest pl-1",children:"Account"}),h.jsxs("div",{className:"bg-white/5 rounded-2xl overflow-hidden border border-white/5 divide-y divide-white/5",children:[h.jsx("button",{className:"w-full flex items-center justify-between p-4 hover:bg-white/10 transition-colors group",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"material-symbols-outlined text-slate-400",children:"settings"}),h.jsx("span",{className:"text-sm text-slate-200 font-medium",children:""})]})}),h.jsx("button",{onClick:i,className:"w-full flex items-center justify-between p-4 hover:bg-red-500/10 transition-colors group text-red-400",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{className:"material-symbols-outlined",children:"logout"}),h.jsx("span",{className:"text-sm font-medium",children:""})]})})]})]}),h.jsxs("p",{className:"text-center text-[10px] text-slate-600 font-mono pt-8",children:["The Archiview ID: ",t.uid.slice(0,8).toUpperCase(),h.jsx("br",{}),"Version 1.4.0 (Build 2024.05)"]}),h.jsx(Un,{})]}),h.jsx(Bn,{})]})}):null}function aN(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oN(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lu(t,e)}function ou(t){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},ou(t)}function lu(t,e){return lu=Object.setPrototypeOf||function(i,a){return i.__proto__=a,i},lu(t,e)}function lN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pd(t,e,n){return lN()?Pd=Reflect.construct:Pd=function(a,l,u){var f=[null];f.push.apply(f,l);var p=Function.bind.apply(a,f),y=new p;return u&&lu(y,u.prototype),y},Pd.apply(null,arguments)}function Q6(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function cf(t){var e=typeof Map=="function"?new Map:void 0;return cf=function(i){if(i===null||!Q6(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,a)}function a(){return Pd(i,arguments,ou(this).constructor)}return a.prototype=Object.create(i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),lu(a,i)},cf(t)}function X6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J6(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X6(t)}function cN(t){var e=lN();return function(){var i=ou(t),a;if(e){var l=ou(this).constructor;a=Reflect.construct(i,arguments,l)}else a=i.apply(this,arguments);return J6(this,a)}}var Rc=null;function Z6(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Rc!=null)return Rc;var i=new Promise(function(a,l){try{var u=function(){md(e)!=null?a(md(e)):l(new e9(e))},f=function(){l(new t9(t))};if(typeof window>"u"||typeof document>"u")return a(null);if(md(e)!=null)return a(md(e));var p=document.querySelector('script[src="'.concat(t,'"]'));if(p!=null){var y;p.removeEventListener("load",u),p.removeEventListener("error",f),(y=p.parentElement)===null||y===void 0||y.removeChild(p)}var x=document.createElement("script");x.src=t,x.addEventListener("load",u),x.addEventListener("error",f),n.priority!=null&&(x.fetchPriority=n.priority),document.head.appendChild(x)}catch(b){l(b);return}});return Rc=i.catch(function(a){return Rc=null,Promise.reject(a)}),Rc}function md(t){return window[t]}var e9=(function(t){oN(n,t);var e=cN(n);function n(i){var a;return aN(this,n),a=e.call(this,"[TossPayments SDK] ".concat(i," is not available")),a.name="NamespaceNotAvailableError",a}return n})(cf(Error)),t9=(function(t){oN(n,t);var e=cN(n);function n(i){var a;return aN(this,n),a=e.call(this,"[TossPayments SDK] Failed to load script: [".concat(i,"]")),a.name="ScriptLoadFailedError",a}return n})(cf(Error)),n9="https://js.tosspayments.com/v1";function s9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.src,i=n===void 0?n9:n;return typeof window>"u"?Promise.resolve({requestPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},requestBillingAuth:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")},cancelPayment:function(){throw new Error("[TossPayments SDK] It looks like runtime is not from browser. This method is only executable on browser.")}}):Z6(i,"TossPayments").then(function(a){return a(t)})}function i9(){const[t,e]=P.useState("dashboard"),n=async()=>{try{await(await s9("test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq")).requestPayment("",{amount:15e3,orderId:`ORDER-${new Date().getTime()}`,orderName:"   ",customerName:"",successUrl:window.location.origin+"/admin",failUrl:window.location.origin+"/admin"})}catch(p){console.error("Payment Error:",p),alert("    : "+p.message)}},i=[{title:" ",value:"1,248",change:"+12%",icon:"group"},{title:" ",value:"45.2M",change:"+8%",icon:"payments"},{title:" ",value:"342",change:"+4",icon:"auto_stories"},{title:" ",value:"854",change:"+24%",icon:"trending_up"}],a=[{id:1,name:"",email:"kim@example.com",role:"",status:"",date:"2024-02-15"},{id:2,name:"",email:"lee@example.com",role:"",status:"",date:"2024-02-14"},{id:3,name:"",email:"park@example.com",role:"",status:"",date:"2024-02-10"},{id:4,name:"",email:"choi@example.com",role:"VIP",status:"",date:"2024-01-20"},{id:5,name:"",email:"jung@example.com",role:"",status:"",date:"2023-12-05"}],l=[{id:1,title:" ",author:" ",stock:12,price:"22,000"},{id:2,title:" ",author:"F.  ",stock:5,price:"15,000"},{id:3,title:"",author:" ",stock:8,price:"12,000"},{id:4,title:"1984",author:" ",stock:0,price:"14,000"},{id:5,title:"",author:" ",stock:3,price:"25,000"}],u=[{id:101,user:"",item:" ",amount:"22,000",date:"2 "},{id:102,user:"",item:" ",amount:"19,000",date:"15 "},{id:103,user:"Unknown",item:"",amount:"12,000",date:"1 "},{id:104,user:"",item:"",amount:"25,000",date:"3 "}],f={dashboard:"",members:" ",books:" ",sales:" ",payment:" "};return h.jsx("div",{className:"bg-white font-display text-slate-900 dark:text-slate-100 antialiased min-h-screen pb-24 flex justify-center",children:h.jsxs("div",{className:"w-full max-w-lg relative bg-background-dark shadow-2xl min-h-screen overflow-hidden border-t border-white/5",children:[h.jsx(as,{title:" ",type:"sub"}),h.jsxs("main",{className:"px-6 pt-8 pb-24 space-y-8 animate-fade-in-up",children:[h.jsx("div",{className:"flex p-1 bg-white/5 rounded-xl border border-white/5 overflow-x-auto scrollbar-hide",children:Object.keys(f).map(p=>h.jsx("button",{onClick:()=>e(p),className:`flex-1 py-2 px-4 rounded-lg text-xs font-bold whitespace-nowrap transition-all ${t===p?"bg-gold text-primary shadow-lg":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:f[p]},p))}),t==="dashboard"&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map((p,y)=>h.jsxs("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/5 relative overflow-hidden group hover:bg-white/10 transition-colors",children:[h.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx("span",{className:"material-symbols-outlined text-4xl",children:p.icon})}),h.jsx("p",{className:"text-slate-400 text-[10px] uppercase tracking-widest font-bold mb-1",children:p.title}),h.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:p.value}),h.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-[10px] bg-green-500/20 text-green-400 font-bold",children:p.change})]},y))}),h.jsxs("div",{className:"bg-white/5 rounded-2xl border border-white/5 p-5",children:[h.jsxs("h3",{className:"text-white font-bold text-sm mb-4 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-gold text-lg",children:"notifications"})," "]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex gap-4 items-start",children:[h.jsx("div",{className:"size-2 rounded-full bg-blue-500 mt-2 shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-200 text-xs leading-relaxed",children:" 3    ."}),h.jsx("span",{className:"text-[10px] text-slate-500",children:"2 "})]})]}),h.jsxs("div",{className:"flex gap-4 items-start",children:[h.jsx("div",{className:"size-2 rounded-full bg-green-500 mt-2 shrink-0"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-200 text-xs leading-relaxed",children:"    ."}),h.jsx("span",{className:"text-[10px] text-slate-500",children:"5 "})]})]})]})]})]}),t==="members"&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-white font-bold text-lg",children:" "}),h.jsx("button",{className:"size-8 rounded-full bg-gold flex items-center justify-center text-primary hover:bg-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"})})]}),h.jsx("div",{className:"bg-white/5 rounded-2xl border border-white/5 overflow-hidden",children:h.jsx("div",{className:"divide-y divide-white/5",children:a.map(p=>h.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"size-10 rounded-full bg-slate-700 flex items-center justify-center text-slate-300 font-bold text-xs",children:p.name.charAt(0)}),h.jsxs("div",{children:[h.jsx("p",{className:"text-white text-sm font-bold",children:p.name}),h.jsx("p",{className:"text-slate-500 text-[10px]",children:p.email})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("span",{className:`inline-block px-2 py-0.5 rounded text-[9px] font-bold mb-1 ${p.status===""?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:p.status}),h.jsx("p",{className:"text-slate-600 text-[9px]",children:p.role})]})]},p.id))})})]}),t==="books"&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-white font-bold text-lg",children:" "}),h.jsx("button",{className:"size-8 rounded-full bg-gold flex items-center justify-center text-primary hover:bg-white transition-colors",children:h.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"})})]}),h.jsx("div",{className:"grid gap-3",children:l.map(p=>h.jsxs("div",{className:"bg-white/5 p-4 rounded-xl border border-white/5 flex items-center justify-between group",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 aspect-[2/3] bg-slate-800 rounded border border-white/10"}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-white text-sm font-bold truncate max-w-[150px]",children:p.title}),h.jsx("p",{className:"text-slate-500 text-[10px]",children:p.author})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-gold text-xs font-bold mb-1",children:["",p.price]}),h.jsx("span",{className:`text-[9px] font-bold ${p.stock>0?"text-slate-400":"text-red-500"}`,children:p.stock>0?` ${p.stock}`:" "})]})]},p.id))})]}),t==="sales"&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-white font-bold text-lg",children:"  "}),h.jsx("button",{className:"text-[10px] text-slate-400 underline",children:" "})]}),h.jsx("div",{className:"bg-white/5 rounded-2xl border border-white/5 overflow-hidden",children:h.jsx("div",{className:"divide-y divide-white/5",children:u.map(p=>h.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-white/5 transition-colors",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-white text-sm font-bold",children:p.item}),h.jsxs("p",{className:"text-slate-500 text-[10px]",children:[": ",p.user]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-white text-xs font-bold",children:["+",p.amount]}),h.jsx("p",{className:"text-slate-600 text-[9px]",children:p.date})]})]},p.id))})})]}),t==="payment"&&h.jsxs("div",{children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"  "}),h.jsx("p",{className:"text-slate-400 text-xs",children:"       ."})]}),h.jsxs("div",{className:"bg-white/5 rounded-2xl border border-white/5 p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-slate-400 text-xs font-bold mb-2",children:"  (Client Key)"}),h.jsxs("div",{className:"bg-black/30 p-3 rounded-lg border border-white/10 flex items-center justify-between",children:[h.jsx("code",{className:"text-gold text-xs font-mono",children:"test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq"}),h.jsx("span",{className:"text-[10px] text-green-400 font-bold bg-green-500/10 px-2 py-1 rounded",children:"ON"})]})]}),h.jsxs("div",{className:"pt-4 border-t border-white/10",children:[h.jsx("p",{className:"text-slate-300 text-sm mb-4",children:" "}),h.jsxs("button",{onClick:n,className:"w-full py-3 bg-blue-500 text-white font-bold rounded-xl hover:bg-blue-600 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-blue-500/20",children:[h.jsx("span",{className:"material-symbols-outlined",children:"credit_card"}),"   ()"]}),h.jsx("p",{className:"text-slate-500 text-[10px] text-center mt-3",children:"*      ."})]})]})]})]}),h.jsx(Bn,{})]})})}function r9(){const t=rs(),[e,n]=P.useState(!0),i=P.useRef(null);P.useEffect(()=>{AD(Ur).then(f=>{f&&(console.log("Redirect login success"),t("/profile",{replace:!0}))}).catch(f=>{console.error("Redirect login error:",f),n(!1)});const l=()=>{window.google?(window.google.accounts.id.initialize({client_id:"176157090689-b1cis9q41ikr4qd004nbvsst7l8lrjvm.apps.googleusercontent.com",callback:a,ux_mode:"popup"}),i.current&&window.google.accounts.id.renderButton(i.current,{theme:"outline",size:"large",width:"320",logo_alignment:"left"}),n(!1)):setTimeout(l,300)},u=NE(Ur,f=>{f?t("/profile",{replace:!0}):l()});return()=>u()},[t]);const a=async l=>{n(!0);try{const u=ri.credential(l.credential);await Xk(Ur,u),t("/profile",{replace:!0})}catch(u){console.error("Auth Fail:",u),n(!1)}};return h.jsxs("div",{className:"bg-background-dark min-h-screen flex flex-col font-display text-white",children:[h.jsx(as,{title:"",type:"sub"}),h.jsx("main",{className:"flex-1 flex flex-col items-center justify-center p-6 pb-24",children:h.jsxs("div",{className:"w-full max-w-sm",children:[h.jsxs("div",{className:"text-center mb-10",children:[h.jsx("div",{className:"size-20 bg-white/5 rounded-2xl mx-auto flex items-center justify-center border border-white/10 mb-6",children:h.jsx("span",{className:"material-symbols-outlined text-4xl text-gold",children:"menu_book"})}),h.jsx("h1",{className:"serif-title text-3xl mb-2",children:"The Archiview"}),h.jsx("p",{className:"text-slate-400 text-sm",children:"     "})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60px] relative space-y-4",children:[e&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background-dark/80 z-20",children:h.jsx("div",{className:"size-8 border-3 border-gold/20 border-t-gold rounded-full animate-spin"})}),h.jsx("div",{ref:i,className:"hidden md:flex w-full justify-center py-2 bg-white rounded-xl overflow-hidden shadow-2xl transition-opacity duration-500 min-h-[50px]"}),h.jsxs("button",{onClick:async l=>{n(!0);try{await GM()}catch{n(!1)}},className:"md:hidden w-full py-4 px-6 bg-white text-slate-900 font-bold rounded-xl shadow-lg active:scale-95 transition-transform flex items-center justify-center gap-3 mt-4",style:{zIndex:50,position:"relative"},children:[h.jsx("span",{className:"material-symbols-outlined",children:"touch_app"}),"  "]})]}),h.jsx("div",{className:"mt-12 p-5 bg-white/5 rounded-2xl border border-white/10 text-center",children:h.jsxs("p",{className:"text-[10px] text-slate-500 leading-relaxed",children:["The Archiview    ",h.jsx("br",{}),"   ."]})})]})}),h.jsx(Un,{}),h.jsx(Bn,{})]})}function a9(){const t=rs();return P.useEffect(()=>{window.scrollTo(0,0)},[]),h.jsxs("div",{className:"bg-white dark:bg-slate-950 font-display text-slate-900 dark:text-slate-100 min-h-screen pb-24",children:[h.jsx(as,{title:"Brand Story"}),h.jsxs("main",{className:"px-6 pt-24 pb-12",children:[h.jsxs("section",{className:"mb-12 animate-fade-in",children:[h.jsx("span",{className:"text-gold text-[10px] font-black uppercase tracking-[0.3em] block mb-4",children:"The Vision"}),h.jsxs("h2",{className:"serif-title text-3xl text-slate-900 dark:text-white mb-6 leading-tight",children:[": ",h.jsx("br",{})," "]}),h.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed mb-6 font-light",children:["      . ",h.jsx("br",{}),"  ' '       ."]}),h.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed mb-6 font-light",children:[h.jsx("strong",{children:"(Archiview)"})," 'archiview' 'Review' ,         ' '      ."]})]}),h.jsx("div",{className:"h-px bg-slate-100 dark:bg-white/5 mb-12"}),h.jsxs("section",{className:"mb-12 animate-fade-in delay-200",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:" ?"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsx("span",{className:"material-symbols-outlined text-gold",children:"auto_stories"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm mb-1",children:"  "}),h.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"        ."})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("span",{className:"material-symbols-outlined text-gold",children:"history_edu"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm mb-1",children:"  "}),h.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"  ,       ."})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("span",{className:"material-symbols-outlined text-gold",children:"self_improvement"}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-sm mb-1",children:"  "}),h.jsx("p",{className:"text-xs text-slate-500 leading-relaxed",children:"  ,      ."})]})]})]})]}),h.jsxs("section",{className:"bg-slate-50 dark:bg-white/5 p-8 rounded-[2rem] text-center border border-slate-100 dark:border-white/5 animate-fade-in delay-300",children:[h.jsxs("p",{className:"text-sm font-serif italic text-slate-600 dark:text-slate-300 mb-4",children:[`"  '' ,`,h.jsx("br",{}),`  ' ' "`]}),h.jsx("button",{onClick:()=>t("/quiz"),className:"mt-4 px-8 py-3 bg-gold text-slate-900 font-bold rounded-xl text-xs uppercase tracking-widest shadow-lg active:scale-95 transition-all",children:"  "})]})]}),h.jsx(Un,{}),h.jsx(Bn,{})]})}function o9(){return P.useEffect(()=>{window.scrollTo(0,0)},[]),h.jsxs("div",{className:"bg-white dark:bg-slate-950 font-display text-slate-900 dark:text-slate-100 min-h-screen pb-24",children:[h.jsx(as,{title:"Privacy Policy"}),h.jsx("main",{className:"px-6 pt-24 pb-12 overflow-y-auto",children:h.jsxs("article",{className:"prose prose-sm dark:prose-invert",children:[h.jsxs("section",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),h.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mb-4",children:"  2026 2 20 ."}),h.jsx("p",{className:"text-sm leading-relaxed mb-4",children:`':  '( '')   , " "  "      "  .`})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h3",{className:"text-sm font-bold border-l-4 border-gold pl-2 mb-3",children:"1.   "}),h.jsxs("p",{className:"text-xs leading-relaxed opacity-80",children:["- : (),  ,   (Google)",h.jsx("br",{}),"-   ,  , ,  IP "]})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h3",{className:"text-sm font-bold border-l-4 border-gold pl-2 mb-3",children:"2.    "}),h.jsxs("p",{className:"text-xs leading-relaxed opacity-80",children:["-         ",h.jsx("br",{}),"-         (  )",h.jsx("br",{}),"-       "]})]}),h.jsxs("section",{className:"mb-8 border-gold/20 border p-4 rounded-xl bg-gold/5",children:[h.jsxs("h3",{className:"text-sm font-bold mb-3 flex items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"cookie"}),"3. (Cookie)   "]}),h.jsxs("p",{className:"text-[11px] leading-relaxed opacity-90",children:["-        '(cookie)' .",h.jsx("br",{}),"- **  **:  3 ,          .",h.jsx("br",{}),"-       ,         ."]})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h3",{className:"text-sm font-bold border-l-4 border-gold pl-2 mb-3",children:"4.    "}),h.jsx("p",{className:"text-xs leading-relaxed opacity-80",children:"-              ."})]}),h.jsxs("section",{className:"mb-8",children:[h.jsx("h3",{className:"text-sm font-bold border-l-4 border-gold pl-2 mb-3",children:"5.  "}),h.jsxs("p",{className:"text-xs leading-relaxed opacity-80",children:["- :  (Archiview Team)",h.jsx("br",{}),"- : support@archiview.co.kr"]})]})]})}),h.jsx(Un,{}),h.jsx(Bn,{})]})}function l9(){const[t,e]=P.useState("");P.useEffect(()=>{window.scrollTo(0,0)},[]);const n=i=>{i.preventDefault(),e("sending"),setTimeout(()=>{e("success"),setTimeout(()=>e(""),3e3)},1e3)};return h.jsxs("div",{className:"bg-white dark:bg-slate-950 font-display text-slate-900 dark:text-slate-100 min-h-screen pb-24",children:[h.jsx(as,{title:"Contact Us"}),h.jsxs("main",{className:"px-6 pt-24 pb-12",children:[h.jsxs("section",{className:"mb-10",children:[h.jsx("span",{className:"text-gold text-[10px] font-black uppercase tracking-[0.3em] block mb-4",children:"Get in touch"}),h.jsxs("h2",{className:"serif-title text-3xl text-slate-900 dark:text-white mb-6",children:[" ",h.jsx("br",{}),""]}),h.jsx("p",{className:"text-sm text-slate-500 leading-relaxed font-light",children:"           .     ."})]}),h.jsxs("section",{className:"bg-slate-50 dark:bg-white/5 p-6 rounded-3xl border border-slate-100 dark:border-white/5 mb-8",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("div",{className:"size-10 rounded-full bg-gold/10 flex items-center justify-center",children:h.jsx("span",{className:"material-symbols-outlined text-gold",children:"mail"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"Official Email"}),h.jsx("a",{href:"mailto:support@archiview.co.kr",className:"text-sm font-bold text-slate-900 dark:text-white hover:text-gold transition-colors",children:"support@archiview.co.kr"})]})]}),h.jsxs("form",{onSubmit:n,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest pl-1 mb-2 block",children:"Name"}),h.jsx("input",{required:!0,type:"text",placeholder:" ",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/10 rounded-2xl p-4 text-sm focus:outline-none focus:ring-2 focus:ring-gold/30 transition-all font-light"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest pl-1 mb-2 block",children:"Message"}),h.jsx("textarea",{required:!0,rows:"5",placeholder:"  ",className:"w-full bg-white dark:bg-slate-900 border border-slate-200 dark:border-white/10 rounded-2xl p-4 text-sm focus:outline-none focus:ring-2 focus:ring-gold/30 transition-all font-light"})]}),h.jsx("button",{disabled:t==="sending"||t==="success",className:`w-full py-4 rounded-2xl font-bold text-sm tracking-widest shadow-xl transition-all active:scale-95 ${t==="success"?"bg-green-500 text-white":"bg-slate-900 dark:bg-white text-white dark:text-slate-900 hover:bg-gold hover:text-slate-900"}`,children:t==="sending"?" ...":t==="success"?" !":" "})]})]}),h.jsx("p",{className:"text-[10px] text-center text-slate-400 font-medium",children:"        . ."})]}),h.jsx(Un,{}),h.jsx(Bn,{})]})}var Pc={exports:{}},c9=Pc.exports,ET;function u9(){return ET||(ET=1,(function(t,e){(function(n,i){i(e)})(c9,(function(n){class i{constructor(w,E){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=E,this.nowDrawingDensity=this.createdDensity,this.render=w}setDensity(w){this.createdDensity=w,this.nowDrawingDensity=w}setDrawingDensity(w){this.nowDrawingDensity=w}setPosition(w){this.state.position=w}setAngle(w){this.state.angle=w}setArea(w){this.state.area=w}setHardDrawingAngle(w){this.state.hardDrawingAngle=w}setHardAngle(w){this.state.hardAngle=w,this.state.hardDrawingAngle=w}setOrientation(w){this.orientation=w}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class a extends i{constructor(w,E,I){super(w,I),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=E}draw(w){const E=this.render.getContext(),I=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,A=this.render.getRect().height;E.save(),E.translate(I.x,I.y),E.beginPath();for(let R of this.state.area)R!==null&&(R=this.render.convertToGlobal(R),E.lineTo(R.x-I.x,R.y-I.y));E.rotate(this.state.angle),E.clip(),this.isLoad?E.drawImage(this.image,0,0,N,A):this.drawLoader(E,{x:0,y:0},N,A),E.restore()}simpleDraw(w){const E=this.render.getRect(),I=this.render.getContext(),N=E.pageWidth,A=E.height,R=w===1?E.left+E.pageWidth:E.left,V=E.top;this.isLoad?I.drawImage(this.image,R,V,N,A):this.drawLoader(I,{x:R,y:V},N,A)}drawLoader(w,E,I,N){w.beginPath(),w.strokeStyle="rgb(200, 200, 200)",w.fillStyle="rgb(255, 255, 255)",w.lineWidth=1,w.rect(E.x+1,E.y+1,I-1,N-1),w.stroke(),w.fill();const A={x:E.x+I/2,y:E.y+N/2};w.beginPath(),w.lineWidth=10,w.arc(A.x,A.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),w.stroke(),w.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class l{constructor(w,E){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=E,this.app=w,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let E=0;E<this.pages.length;E++)this.portraitSpread.push([E]);let w=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([w]),w++);for(let E=w;E<this.pages.length;E+=2)E<this.pages.length-1?this.landscapeSpread.push([E,E+1]):(this.landscapeSpread.push([E]),this.pages[E].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(w){const E=this.getSpread();for(let I=0;I<E.length;I++)if(w===E[I][0]||w===E[I][1])return I;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(w){if(w>=0&&w<this.pages.length)return this.pages[w];throw new Error("Invalid page number")}nextBy(w){const E=this.pages.indexOf(w);return E<this.pages.length-1?this.pages[E+1]:null}prevBy(w){const E=this.pages.indexOf(w);return E>0?this.pages[E-1]:null}getFlippingPage(w){const E=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return w===0?this.pages[E].newTemporaryCopy():this.pages[E-1];{const I=w===0?this.getSpread()[E+1]:this.getSpread()[E-1];return I.length===1||w===0?this.pages[I[0]]:this.pages[I[1]]}}getBottomPage(w){const E=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return w===0?this.pages[E+1]:this.pages[E-1];{const I=w===0?this.getSpread()[E+1]:this.getSpread()[E-1];return I.length===1?this.pages[I[0]]:w===0?this.pages[I[1]]:this.pages[I[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(w=null){if(w===null&&(w=this.currentPageIndex),w<0||w>=this.pages.length)return;const E=this.getSpreadIndexByPage(w);E!==null&&(this.currentSpreadIndex=E,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(w){if(!(w>=0&&w<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=w}showSpread(){const w=this.getSpread()[this.currentSpreadIndex];w.length===2?(this.render.setLeftPage(this.pages[w[0]]),this.render.setRightPage(this.pages[w[1]])):this.render.getOrientation()==="landscape"&&w[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[w[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[w[0]])),this.currentPageIndex=w[0],this.app.updatePageIndex(this.currentPageIndex)}}class u extends l{constructor(w,E,I){super(w,E),this.imagesHref=I}load(){for(const w of this.imagesHref){const E=new a(this.render,w,"soft");E.load(),this.pages.push(E)}this.createSpread()}}class f{static GetDistanceBetweenTwoPoint(w,E){return w===null||E===null?1/0:Math.sqrt(Math.pow(E.x-w.x,2)+Math.pow(E.y-w.y,2))}static GetSegmentLength(w){return f.GetDistanceBetweenTwoPoint(w[0],w[1])}static GetAngleBetweenTwoLine(w,E){const I=w[0].y-w[1].y,N=E[0].y-E[1].y,A=w[1].x-w[0].x,R=E[1].x-E[0].x;return Math.acos((I*N+A*R)/(Math.sqrt(I*I+A*A)*Math.sqrt(N*N+R*R)))}static PointInRect(w,E){return E===null?null:E.x>=w.left&&E.x<=w.width+w.left&&E.y>=w.top&&E.y<=w.top+w.height?E:null}static GetRotatedPoint(w,E,I){return{x:w.x*Math.cos(I)+w.y*Math.sin(I)+E.x,y:w.y*Math.cos(I)-w.x*Math.sin(I)+E.y}}static LimitPointToCircle(w,E,I){if(f.GetDistanceBetweenTwoPoint(w,I)<=E)return I;const N=w.x,A=w.y,R=I.x,V=I.y;let O=Math.sqrt(Math.pow(E,2)*Math.pow(N-R,2)/(Math.pow(N-R,2)+Math.pow(A-V,2)))+N;I.x<0&&(O*=-1);let G=(O-N)*(A-V)/(N-R)+A;return N-R+A===0&&(G=E),{x:O,y:G}}static GetIntersectBetweenTwoSegment(w,E,I){return f.PointInRect(w,f.GetIntersectBeetwenTwoLine(E,I))}static GetIntersectBeetwenTwoLine(w,E){const I=w[0].y-w[1].y,N=E[0].y-E[1].y,A=w[1].x-w[0].x,R=E[1].x-E[0].x,V=w[0].x*w[1].y-w[1].x*w[0].y,O=E[0].x*E[1].y-E[1].x*E[0].y,G=I*O-N*V,L=A*O-R*V,De=-(V*R-O*A)/(I*R-N*A),We=-(I*O-N*V)/(I*R-N*A);if(isFinite(De)&&isFinite(We))return{x:De,y:We};if(Math.abs(G-L)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(w,E){const I=Math.abs(w.x-E.x),N=Math.abs(w.y-E.y),A=Math.max(I,N),R=[w];function V(O,G,L,De,We){return G>O?O+We*(L/De):G<O?O-We*(L/De):O}for(let O=1;O<=A;O+=1)R.push({x:V(w.x,E.x,I,A,O),y:V(w.y,E.y,N,A,O)});return R}}class p extends i{constructor(w,E,I){super(w,I),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=E,this.element.classList.add("stf__item"),this.element.classList.add("--"+I)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new p(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(w){const E=w||this.nowDrawingDensity,I=this.render.convertToGlobal(this.state.position),N=this.render.getRect().pageWidth,A=this.render.getRect().height;this.element.classList.remove("--simple");const R=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${N}px;
            height: ${A}px;
        `;E==="hard"?this.drawHard(R):this.drawSoft(I,R)}drawHard(w=""){const E=this.render.getRect().left+this.render.getRect().width/2,I=this.state.hardDrawingAngle,N=w+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${I}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${E}px, 0, 0) rotateY(${I}deg);`);this.element.style.cssText=N}drawSoft(w,E=""){let I="polygon( ";for(const A of this.state.area)if(A!==null){let R=this.render.getDirection()===1?{x:-A.x+this.state.position.x,y:A.y-this.state.position.y}:{x:A.x-this.state.position.x,y:A.y-this.state.position.y};R=f.GetRotatedPoint(R,{x:0,y:0},this.state.angle),I+=R.x+"px "+R.y+"px, "}I=I.slice(0,-2),I+=")";const N=E+`transform-origin: 0 0; clip-path: ${I}; -webkit-clip-path: ${I};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${w.x}px, ${w.y}px);`:`transform: translate3d(${w.x}px, ${w.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=N}simpleDraw(w){const E=this.render.getRect(),I=E.pageWidth,N=E.height,A=w===1?E.left+E.pageWidth:E.left,R=E.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${N}px; 
            left: ${A}px; 
            top: ${R}px; 
            width: ${I}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(w){super.setOrientation(w),this.element.classList.remove("--left","--right"),this.element.classList.add(w===1?"--right":"--left")}setDrawingDensity(w){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+w),super.setDrawingDensity(w)}}class y extends l{constructor(w,E,I,N){super(w,E),this.element=I,this.pagesElement=N}load(){for(const w of this.pagesElement){const E=new p(this.render,w,w.dataset.density==="hard"?"hard":"soft");E.load(),this.pages.push(E)}this.createSpread()}}class x{constructor(w,E,I,N){this.direction=w,this.corner=E,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(I,10),this.pageHeight=parseInt(N,10)}calc(w){try{return this.position=this.calcAngleAndPosition(w),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const w=[];let E=!1;return w.push(this.rect.topLeft),w.push(this.topIntersectPoint),this.sideIntersectPoint===null?E=!0:(w.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(E=!1)),w.push(this.bottomIntersectPoint),(E||this.corner==="bottom")&&w.push(this.rect.bottomLeft),w}getBottomClipArea(){const w=[];return w.push(this.topIntersectPoint),this.corner==="top"?w.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&w.push({x:this.pageWidth,y:0}),w.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?f.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&w.push(this.sideIntersectPoint):this.corner==="top"&&w.push({x:this.pageWidth,y:this.pageHeight}),w.push(this.bottomIntersectPoint),w.push(this.topIntersectPoint),w}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const w=f.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?w:Math.PI-w}calcAngleAndPosition(w){let E=w;if(this.updateAngleAndGeometry(E),E=this.corner==="top"?this.checkPositionAtCenterLine(E,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(E,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(E.x-this.pageWidth)<1&&Math.abs(E.y)<1)throw new Error("Point is too small");return E}updateAngleAndGeometry(w){this.angle=this.calculateAngle(w),this.rect=this.getPageRect(w)}calculateAngle(w){const E=this.pageWidth-w.x+1,I=this.corner==="bottom"?this.pageHeight-w.y:w.y;let N=2*Math.acos(E/Math.sqrt(I*I+E*E));I<0&&(N=-N);const A=Math.PI-N;if(!isFinite(N)||A>=0&&A<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(N=-N),N}getPageRect(w){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],w):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],w)}getRectFromBasePoint(w,E){return{topLeft:this.getRotatedPoint(w[0],E),topRight:this.getRotatedPoint(w[1],E),bottomLeft:this.getRotatedPoint(w[2],E),bottomRight:this.getRotatedPoint(w[3],E)}}getRotatedPoint(w,E){return{x:w.x*Math.cos(this.angle)+w.y*Math.sin(this.angle)+E.x,y:w.y*Math.cos(this.angle)-w.x*Math.sin(this.angle)+E.y}}calculateIntersectPoint(w){const E={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[w,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[w,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[w,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=f.GetIntersectBetweenTwoSegment(E,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(w,E,I){let N=w;const A=f.LimitPointToCircle(E,this.pageWidth,N);N!==A&&(N=A,this.updateAngleAndGeometry(N));const R=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let V=this.rect.bottomRight,O=this.rect.topLeft;if(this.corner==="bottom"&&(V=this.rect.topRight,O=this.rect.bottomLeft),V.x<=0){const G=f.LimitPointToCircle(I,R,O);G!==N&&(N=G,this.updateAngleAndGeometry(N))}return N}getSegmentToShadowLine(){const w=this.getShadowStartPoint();return[w,w!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class b{constructor(w,E){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=w,this.app=E}fold(w){this.setState("user_fold"),this.calc===null&&this.start(w),this.do(this.render.convertToPage(w))}flip(w){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(w)||(this.calc!==null&&this.render.finishAnimation(),!this.start(w)))return;const E=this.getBoundsRect();this.setState("flipping");const I=E.height/10,N=this.calc.getCorner()==="bottom"?E.height-I:I,A=this.calc.getCorner()==="bottom"?E.height:0;this.calc.calc({x:E.pageWidth-I,y:N}),this.animateFlippingTo({x:E.pageWidth-I,y:N},{x:-E.pageWidth,y:A},!0)}start(w){this.reset();const E=this.render.convertToBook(w),I=this.getBoundsRect(),N=this.getDirectionByPoint(E),A=E.y>=I.height/2?"bottom":"top";if(!this.checkDirection(N))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(N),this.bottomPage=this.app.getPageCollection().getBottomPage(N),this.render.getOrientation()==="landscape")if(N===1){const R=this.app.getPageCollection().nextBy(this.flippingPage);R!==null&&this.flippingPage.getDensity()!==R.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),R.setDrawingDensity("hard"))}else{const R=this.app.getPageCollection().prevBy(this.flippingPage);R!==null&&this.flippingPage.getDensity()!==R.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),R.setDrawingDensity("hard"))}return this.render.setDirection(N),this.calc=new x(N,A,I.pageWidth.toString(10),I.height.toString(10)),!0}catch{return!1}}do(w){if(this.calc!==null&&this.calc.calc(w)){const E=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*E)/100):this.flippingPage.setHardAngle(-90*(200-2*E)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),E,this.calc.getDirection())}}flipToPage(w,E){const I=this.app.getPageCollection().getCurrentSpreadIndex(),N=this.app.getPageCollection().getSpreadIndexByPage(w);try{N>I&&(this.app.getPageCollection().setCurrentSpreadIndex(N-1),this.flipNext(E)),N<I&&(this.app.getPageCollection().setCurrentSpreadIndex(N+1),this.flipPrev(E))}catch{}}flipNext(w){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:w==="top"?1:this.render.getRect().height-2})}flipPrev(w){this.flip({x:10,y:w==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const w=this.calc.getPosition(),E=this.getBoundsRect(),I=this.calc.getCorner()==="bottom"?E.height:0;w.x<=0?this.animateFlippingTo(w,{x:-E.pageWidth,y:I},!0):this.animateFlippingTo(w,{x:E.pageWidth,y:I},!1)}showCorner(w){if(!this.checkState("read","fold_corner"))return;const E=this.getBoundsRect(),I=E.pageWidth;if(this.isPointOnCorners(w))if(this.calc===null){if(!this.start(w))return;this.setState("fold_corner"),this.calc.calc({x:I-1,y:1});const N=50,A=this.calc.getCorner()==="bottom"?E.height-1:1,R=this.calc.getCorner()==="bottom"?E.height-N:N;this.animateFlippingTo({x:I-1,y:A},{x:I-N,y:R},!1,!1)}else this.do(this.render.convertToPage(w));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(w,E,I,N=!0){const A=f.GetCordsFromTwoPoint(w,E),R=[];for(const O of A)R.push(()=>this.do(O));const V=this.getAnimationDuration(A.length);this.render.startAnimation(R,V,()=>{this.calc&&(I&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),N&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(w){this.state!==w&&(this.app.updateState(w),this.state=w)}getDirectionByPoint(w){const E=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(w.x-E.pageWidth<=E.width/5)return 1}else if(w.x<E.width/2)return 1;return 0}getAnimationDuration(w){const E=this.app.getSettings().flippingTime;return w>=1e3?E:w/1e3*E}checkDirection(w){return w===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...w){for(const E of w)if(this.state===E)return!0;return!1}isPointOnCorners(w){const E=this.getBoundsRect(),I=E.pageWidth,N=Math.sqrt(Math.pow(I,2)+Math.pow(E.height,2))/5,A=this.render.convertToBook(w);return A.x>0&&A.y>0&&A.x<E.width&&A.y<E.height&&(A.x<N||A.x>E.width-N)&&(A.y<N||A.y>E.height-N)}}class T{constructor(w,E){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=E,this.app=w;const I=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=I.exec(window.navigator.userAgent)!==null}render(w){if(this.animation!==null){const E=Math.round((w-this.animation.startedAt)/this.animation.durationFrame);E<this.animation.frames.length?this.animation.frames[E]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=w,this.drawFrame()}start(){this.update();const w=E=>{this.render(E),requestAnimationFrame(w)};requestAnimationFrame(w)}startAnimation(w,E,I){this.finishAnimation(),this.animation={frames:w,duration:E,durationFrame:E/w.length,onAnimateEnd:I,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const w=this.calculateBoundsRect();this.orientation!==w&&(this.orientation=w,this.app.updateOrientation(w))}calculateBoundsRect(){let w="landscape";const E=this.getBlockWidth(),I=E/2,N=this.getBlockHeight()/2,A=this.setting.width/this.setting.height;let R=this.setting.width,V=this.setting.height,O=I-R;return this.setting.size==="stretch"?(E<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(w="portrait"),R=w==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,R>this.setting.maxWidth&&(R=this.setting.maxWidth),V=R/A,V>this.getBlockHeight()&&(V=this.getBlockHeight(),R=V*A),O=w==="portrait"?I-R/2-R:I-R):E<2*R&&this.app.getSettings().usePortrait&&(w="portrait",O=I-R/2-R),this.boundsRect={left:O,top:N-V/2,width:2*R,height:V,pageWidth:R},w}setShadowData(w,E,I,N){if(!this.app.getSettings().drawShadow)return;const A=100*this.getSettings().maxShadowOpacity;this.shadow={pos:w,angle:E,width:3*this.getRect().pageWidth/4*I/100,opacity:(100-I)*A/100/100,direction:N,progress:2*I}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(w){this.pageRect=w}setDirection(w){this.direction=w}setRightPage(w){w!==null&&w.setOrientation(1),this.rightPage=w}setLeftPage(w){w!==null&&w.setOrientation(0),this.leftPage=w}setBottomPage(w){w!==null&&w.setOrientation(this.direction===1?0:1),this.bottomPage=w}setFlippingPage(w){w!==null&&w.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=w}convertToBook(w){const E=this.getRect();return{x:w.x-E.left,y:w.y-E.top}}isSafari(){return this.safari}convertToPage(w,E){E||(E=this.direction);const I=this.getRect();return{x:E===0?w.x-I.left-I.width/2:I.width/2-w.x+I.left,y:w.y-I.top}}convertToGlobal(w,E){if(E||(E=this.direction),w==null)return null;const I=this.getRect();return{x:E===0?w.x+I.left+I.width/2:I.width/2-w.x+I.left,y:w.y+I.top}}convertRectToGlobal(w,E){return E||(E=this.direction),{topLeft:this.convertToGlobal(w.topLeft,E),topRight:this.convertToGlobal(w.topRight,E),bottomLeft:this.convertToGlobal(w.bottomLeft,E),bottomRight:this.convertToGlobal(w.bottomRight,E)}}}class j extends T{constructor(w,E,I){super(w,E),this.canvas=I,this.ctx=I.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const w=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(w.left+w.pageWidth,w.top,w.width,w.height),this.ctx.clip())}drawBookShadow(){const w=this.getRect();this.ctx.save(),this.ctx.beginPath();const E=w.width/20;this.ctx.rect(w.left,w.top,w.width,w.height);const I={x:w.left+w.width/2-E/2,y:0};this.ctx.translate(I.x,I.y);const N=this.ctx.createLinearGradient(0,0,E,0);N.addColorStop(0,"rgba(0, 0, 0, 0)"),N.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),N.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),N.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),N.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),N.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=N,this.ctx.fillRect(0,0,E,2*w.height),this.ctx.restore()}drawOuterShadow(){const w=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(w.left,w.top,w.width,w.height);const E=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(E.x,E.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const I=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),I.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),I.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=I,this.ctx.fillRect(0,0,this.shadow.width,2*w.height),this.ctx.restore()}drawInnerShadow(){const w=this.getRect();this.ctx.save(),this.ctx.beginPath();const E=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),I=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(I.topLeft.x,I.topLeft.y),this.ctx.lineTo(I.topRight.x,I.topRight.y),this.ctx.lineTo(I.bottomRight.x,I.bottomRight.y),this.ctx.lineTo(I.bottomLeft.x,I.bottomLeft.y),this.ctx.translate(E.x,E.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const N=3*this.shadow.width/4,A=this.ctx.createLinearGradient(0,0,N,0);this.shadow.direction===0?(this.ctx.translate(-N,-100),A.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),A.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),A.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),A.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),A.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=A,this.ctx.fillRect(0,0,N,2*w.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class D{constructor(w,E,I){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=A=>{if(this.checkTarget(A.target)){const R=this.getMousePos(A.clientX,A.clientY);this.app.startUserTouch(R),A.preventDefault()}},this.onTouchStart=A=>{if(this.checkTarget(A.target)&&A.changedTouches.length>0){const R=A.changedTouches[0],V=this.getMousePos(R.clientX,R.clientY);this.touchPoint={point:V,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(V)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||A.preventDefault()}},this.onMouseUp=A=>{const R=this.getMousePos(A.clientX,A.clientY);this.app.userStop(R)},this.onMouseMove=A=>{const R=this.getMousePos(A.clientX,A.clientY);this.app.userMove(R,!1)},this.onTouchMove=A=>{if(A.changedTouches.length>0){const R=A.changedTouches[0],V=this.getMousePos(R.clientX,R.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-V.x)>10||this.app.getState()!=="read")&&A.cancelable&&this.app.userMove(V,!0),this.app.getState()!=="read"&&A.preventDefault()):this.app.userMove(V,!0)}},this.onTouchEnd=A=>{if(A.changedTouches.length>0){const R=A.changedTouches[0],V=this.getMousePos(R.clientX,R.clientY);let O=!1;if(this.touchPoint!==null){const G=V.x-this.touchPoint.point.x,L=Math.abs(V.y-this.touchPoint.point.y);Math.abs(G)>this.swipeDistance&&L<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(G>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),O=!0),this.touchPoint=null}this.app.userStop(V,O)}},this.parentElement=w,w.classList.add("stf__parent"),w.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=w.querySelector(".stf__wrapper"),this.app=E;const N=this.app.getSettings().usePortrait?1:2;w.style.minWidth=I.minWidth*N+"px",w.style.minHeight=I.minHeight+"px",I.size==="fixed"&&(w.style.minWidth=I.width*N+"px",w.style.minHeight=I.height+"px"),I.autoSize&&(w.style.width="100%",w.style.maxWidth=2*I.maxWidth+"px"),w.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=I.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(w){this.wrapper.classList.remove("--portrait","--landscape"),w==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(w,E){const I=this.distElement.getBoundingClientRect();return{x:w-I.left,y:E-I.top}}checkTarget(w){return!this.app.getSettings().clickEventForward||!["a","button"].includes(w.tagName.toLowerCase())}}class z extends D{constructor(w,E,I,N){super(w,E,I),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=w.querySelector(".stf__block"),this.items=N;for(const A of N)this.distElement.appendChild(A);this.setHandlers()}clear(){for(const w of this.items)this.parentElement.appendChild(w)}updateItems(w){this.removeHandlers(),this.distElement.innerHTML="";for(const E of w)this.distElement.appendChild(E);this.items=w,this.setHandlers()}update(){this.app.getRender().update()}}class B extends D{constructor(w,E,I){super(w,E,I),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=w.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const w=getComputedStyle(this.canvas),E=parseInt(w.getPropertyValue("width"),10),I=parseInt(w.getPropertyValue("height"),10);this.canvas.width=E,this.canvas.height=I}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class F extends T{constructor(w,E,I){super(w,E),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=I,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const w=this.getRect(),E=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let I=(100-E)*(2.5*w.pageWidth)/100+20;I>w.pageWidth&&(I=w.pageWidth);let N=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${I}px;
            height: ${w.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*E/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${w.left+w.width/2}px;
            transform-origin: 0 0;
        `;N+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=N}drawHardOuterShadow(){const w=this.getRect();let E=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*w.pageWidth)/100+20;E>w.pageWidth&&(E=w.pageWidth);let I=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${E}px;
            height: ${w.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${w.left+w.width/2}px;
            transform-origin: 0 0;
        `;I+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=I}drawInnerShadow(){const w=this.getRect(),E=3*this.shadow.width/4,I=this.getDirection()===0?E:0,N=this.getDirection()===0?"to left":"to right",A=this.convertToGlobal(this.shadow.pos),R=this.shadow.angle+3*Math.PI/2,V=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let O="polygon( ";for(const L of V){let De=this.getDirection()===1?{x:-L.x+this.shadow.pos.x,y:L.y-this.shadow.pos.y}:{x:L.x-this.shadow.pos.x,y:L.y-this.shadow.pos.y};De=f.GetRotatedPoint(De,{x:I,y:100},R),O+=De.x+"px "+De.y+"px, "}O=O.slice(0,-2),O+=")";const G=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${E}px;
            height: ${2*w.height}px;
            background: linear-gradient(${N},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${I}px 100px;
            transform: translate3d(${A.x-I}px, ${A.y-100}px, 0) rotate(${R}rad);
            clip-path: ${O};
            -webkit-clip-path: ${O};
        `;this.innerShadow.style.cssText=G}drawOuterShadow(){const w=this.getRect(),E=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),I=this.shadow.angle+3*Math.PI/2,N=this.getDirection()===1?this.shadow.width:0,A=this.getDirection()===0?"to right":"to left",R=[{x:0,y:0},{x:w.pageWidth,y:0},{x:w.pageWidth,y:w.height},{x:0,y:w.height}];let V="polygon( ";for(const G of R)if(G!==null){let L=this.getDirection()===1?{x:-G.x+this.shadow.pos.x,y:G.y-this.shadow.pos.y}:{x:G.x-this.shadow.pos.x,y:G.y-this.shadow.pos.y};L=f.GetRotatedPoint(L,{x:N,y:100},I),V+=L.x+"px "+L.y+"px, "}V=V.slice(0,-2),V+=")";const O=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*w.height}px;
            background: linear-gradient(${A}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${N}px 100px;
            transform: translate3d(${E.x-N}px, ${E.y-100}px, 0) rotate(${I}rad);
            clip-path: ${V};
            -webkit-clip-path: ${V};
        `;this.outerShadow.style.cssText=O}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const w=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(w))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const w of this.app.getPageCollection().getPages())w!==this.leftPage&&w!==this.rightPage&&w!==this.flippingPage&&w!==this.bottomPage&&(w.getElement().style.cssText="display: none"),w.getTemporaryCopy()!==this.flippingPage&&w.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class ${constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(w){const E=this._default;if(Object.assign(E,w),E.size!=="stretch"&&E.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(E.width<=0||E.height<=0)throw new Error("Invalid width or height");if(E.flippingTime<=0)throw new Error("Invalid flipping time");return E.size==="stretch"?(E.minWidth<=0&&(E.minWidth=100),E.maxWidth<E.minWidth&&(E.maxWidth=2e3),E.minHeight<=0&&(E.minHeight=100),E.maxHeight<E.minHeight&&(E.maxHeight=2e3)):(E.minWidth=E.width,E.maxWidth=E.width,E.minHeight=E.height,E.maxHeight=E.height),E}}(function(M,w){w===void 0&&(w={});var E=w.insertAt;if(typeof document<"u"){var I=document.head||document.getElementsByTagName("head")[0],N=document.createElement("style");N.type="text/css",E==="top"&&I.firstChild?I.insertBefore(N,I.firstChild):I.appendChild(N),N.styleSheet?N.styleSheet.cssText=M:N.appendChild(document.createTextNode(M))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),n.PageFlip=class extends class{constructor(){this.events=new Map}on(M,w){return this.events.has(M)?this.events.get(M).push(w):this.events.set(M,[w]),this}off(M){this.events.delete(M)}trigger(M,w,E=null){if(this.events.has(M))for(const I of this.events.get(M))I({data:E,object:w})}}{constructor(M,w){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new $().getSettings(w),this.block=M}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(M){this.ui=new B(this.block,this,this.setting);const w=this.ui.getCanvas();this.render=new j(this,this.setting,w),this.flipController=new b(this.render,this),this.pages=new u(this,this.render,M),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(M){this.ui=new z(this.block,this,this.setting,M),this.render=new F(this,this.setting,this.ui.getDistElement()),this.flipController=new b(this.render,this),this.pages=new y(this,this.render,this.ui.getDistElement(),M),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(M){const w=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new u(this,this.render,M),this.pages.load(),this.pages.show(w),this.trigger("update",this,{page:w,mode:this.render.getOrientation()})}updateFromHtml(M){const w=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new y(this,this.render,this.ui.getDistElement(),M),this.pages.load(),this.ui.updateItems(M),this.render.reload(),this.pages.show(w),this.trigger("update",this,{page:w,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(M){this.pages.show(M)}flipNext(M="top"){this.flipController.flipNext(M)}flipPrev(M="top"){this.flipController.flipPrev(M)}flip(M,w="top"){this.flipController.flipToPage(M,w)}updateState(M){this.trigger("changeState",this,M)}updatePageIndex(M){this.trigger("flip",this,M)}updateOrientation(M){this.ui.setOrientationStyle(M),this.update(),this.trigger("changeOrientation",this,M)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(M){return this.pages.getPage(M)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(M){this.mousePosition=M,this.isUserTouch=!0,this.isUserMove=!1}userMove(M,w){this.isUserTouch||w||!this.setting.showPageCorners?this.isUserTouch&&f.GetDistanceBetweenTwoPoint(this.mousePosition,M)>5&&(this.isUserMove=!0,this.flipController.fold(M)):this.flipController.showCorner(M)}userStop(M,w=!1){this.isUserTouch&&(this.isUserTouch=!1,w||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(M)))}},Object.defineProperty(n,"__esModule",{value:!0})}))})(Pc,Pc.exports)),Pc.exports}var h9=u9();const d9=Ia.forwardRef((t,e)=>{const n=P.useRef(null),i=P.useRef([]),a=P.useRef(),[l,u]=P.useState([]);P.useImperativeHandle(e,()=>({pageFlip:()=>a.current}));const f=P.useCallback(()=>{a.current&&a.current.clear()},[]),p=P.useCallback(()=>{const y=a.current;y&&(y.off("flip"),y.off("changeOrientation"),y.off("changeState"),y.off("init"),y.off("update"))},[]);return P.useEffect(()=>{if(i.current=[],t.children){const y=Ia.Children.map(t.children,x=>Ia.cloneElement(x,{ref:b=>{b&&i.current.push(b)}}));(!t.renderOnlyPageLengthChange||l.length!==y.length)&&(y.length<l.length&&f(),u(y))}},[t.children]),P.useEffect(()=>{const y=()=>{const x=a.current;x&&(t.onFlip&&x.on("flip",b=>t.onFlip(b)),t.onChangeOrientation&&x.on("changeOrientation",b=>t.onChangeOrientation(b)),t.onChangeState&&x.on("changeState",b=>t.onChangeState(b)),t.onInit&&x.on("init",b=>t.onInit(b)),t.onUpdate&&x.on("update",b=>t.onUpdate(b)))};l.length>0&&i.current.length>0&&(p(),n.current&&!a.current&&(a.current=new h9.PageFlip(n.current,t)),a.current.getFlipController()?a.current.updateFromHtml(i.current):a.current.loadFromHTML(i.current),y())},[l]),Ia.createElement("div",{ref:n,className:t.className,style:t.style},l)}),f9=Ia.memo(d9),m9=Ia.forwardRef((t,e)=>h.jsxs("div",{className:"bg-[#1a1c20] w-full h-full shadow-2xl relative overflow-hidden flex flex-col items-center justify-center p-6 border-l-4 border-gold/20",ref:e,"data-density":"hard",children:[h.jsx("div",{className:"absolute inset-0 opacity-20 pointer-events-none",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/leather.png')"}}),h.jsxs("div",{className:"z-10 text-center space-y-4",children:[h.jsx("div",{className:"w-32 md:w-48 aspect-[2/3] mx-auto shadow-[0_20px_40px_rgba(0,0,0,0.8)] rounded-md overflow-hidden border border-white/10",children:h.jsx("img",{src:t.cover,alt:"Cover",className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("h2",{className:"serif-title text-xl md:text-3xl text-white font-bold tracking-tight",children:t.title}),h.jsx("p",{className:"text-gold text-[10px] md:text-sm font-light uppercase tracking-[0.3em]",children:t.author})]}),h.jsxs("div",{className:"pt-4 flex flex-col items-center gap-2",children:[h.jsx("span",{className:"material-symbols-outlined text-gold/50 animate-bounce text-sm",children:"swipe_left"}),h.jsx("p",{className:"text-[8px] text-white/30 uppercase tracking-widest leading-none",children:"Open to Read"})]})]}),h.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-8 bg-gradient-to-r from-black/40 to-transparent"})]})),ST=Ia.forwardRef((t,e)=>h.jsxs("div",{className:"bg-[#fcfaf2] w-full h-full p-6 md:p-10 flex flex-col shadow-inner relative",ref:e,children:[h.jsx("div",{className:"absolute inset-0 opacity-30 pointer-events-none",style:{backgroundImage:"url('https://www.transparenttextures.com/patterns/paper-fibers.png')"}}),h.jsxs("div",{className:"z-10 flex flex-col h-full",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6 md:mb-10 border-b border-black/5 pb-2",children:[h.jsx("span",{className:"text-[8px] text-black/40 font-bold uppercase tracking-widest",children:"The archiview"}),h.jsx("span",{className:"text-[8px] text-black/40 font-bold",children:t.number})]}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsx("div",{className:"prose prose-xs md:prose-sm max-w-none pb-4",children:h.jsx("p",{className:"text-[#2a2a2a] text-sm md:text-base leading-relaxed font-serif whitespace-pre-wrap selection:bg-gold/20",children:t.children})})}),h.jsx("div",{className:"mt-4 pt-4 border-t border-black/5 flex justify-center italic text-[9px] text-black/20",children:"Archiview Book Curation"})]}),h.jsx("div",{className:"absolute inset-y-0 left-0 w-4 bg-gradient-to-r from-black/[0.02] to-transparent"})]}));function p9(){const{id:t}=LT(),e=rs(),n=P.useRef(null),{isSpeaking:i,activeAudioId:a,playPodcast:l,speakReview:u,stopAll:f}=Pf(),[p,y]=P.useState({width:340,height:500});P.useEffect(()=>{const F=()=>{window.innerWidth<480?y({width:320,height:480}):y({width:380,height:580})};return F(),window.addEventListener("resize",F),document.body.style.overflow="hidden",()=>{window.removeEventListener("resize",F),document.body.style.overflow="auto"}},[]);const b={sapiens:"",1984:"1984",demian:"",vegetarian:"",factfulness:"",almond:"",leverage:"","one-thing":"",ubermensch:"",sayno:" ",psychology:" ","your-name":" ","property-money":" ",stoner:"","small-things":"  "}[t]||"";let T=null;for(const F of zr){const $=F.books.find(M=>M.title===b);if($&&(T=$,$.review))break}if(!T)return h.jsx("div",{className:"p-20 text-white text-center bg-background-dark min-h-screen",children:"   ."});const j=T.review||T.desc,D=j.split(`

`).reduce((F,$)=>{if($.length>320){const M=$.match(/[\s\S]{1,320}/g)||[$];return[...F,...M]}return[...F,$]},[])||[j],z=()=>{f(),e("/editorial")},B=!!_t[t];return h.jsxs("div",{className:"bg-[#0b0d0f] min-h-screen w-full font-display flex flex-col overflow-hidden relative z-[9999]",children:[h.jsxs("div",{className:"fixed top-0 inset-x-0 h-16 bg-gradient-to-b from-black/80 to-transparent z-[10000] px-4 flex items-center justify-between",children:[h.jsx("button",{onClick:z,className:"size-10 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-white/60 active:scale-95",children:h.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>{a===`review-${t}`?f():B?l(_t[t],`review-${t}`):u(j,t)},className:`px-4 h-10 rounded-full flex items-center justify-center gap-2 transition-all active:scale-90 shadow-lg border ${i&&a===`review-${t}`?"bg-gold border-gold text-primary font-bold":"bg-white/5 border-white/20 text-white/80"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:i&&a===`review-${t}`?"stop":B?"podcasts":"record_voice_over"}),h.jsx("span",{className:"text-[10px] uppercase tracking-widest",children:i&&a===`review-${t}`?"Listening":B?"Podcast":"Listen"})]}),h.jsx("button",{onClick:z,className:"size-10 rounded-full bg-white/5 border border-white/10 flex items-center justify-center text-white/60 active:scale-95",children:h.jsx("span",{className:"material-symbols-outlined",children:"close"})})]})]}),h.jsx("main",{className:"flex-1 w-full flex items-center justify-center relative touch-none pt-12",children:h.jsxs("div",{className:"relative w-full flex items-center justify-center",children:[h.jsx("button",{onClick:()=>n.current?.pageFlip()?.flipPrev(),className:"absolute left-12 z-50 size-16 rounded-full bg-white/5 border border-white/10 hidden md:flex items-center justify-center text-white/20 hover:text-gold transition-all",children:h.jsx("span",{className:"material-symbols-outlined text-4xl",children:"chevron_left"})}),h.jsx("div",{className:"relative flex justify-center items-center scale-95 sm:scale-100 md:scale-110",children:h.jsxs(f9,{width:p.width,height:p.height,size:"fixed",minWidth:280,maxWidth:420,minHeight:400,maxHeight:650,maxShadowOpacity:.3,showCover:!0,mobileScrollSupport:!0,clickEventForward:!0,usePortrait:!0,startPage:0,drawShadow:!0,flippingTime:600,useMouseEvents:!0,ref:n,className:"editorial-book shadow-[0_40px_100px_rgba(0,0,0,0.8)]",children:[h.jsx(m9,{title:T.title,author:T.author,cover:T.cover}),h.jsx(ST,{number:"1",children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"h-1 w-12 bg-gold"}),h.jsx("h3",{className:"text-2xl font-serif text-[#1a1a1a] font-bold",children:"Synopsis"}),h.jsxs("p",{className:"italic text-black/70 leading-relaxed font-serif text-base",children:['"',T.desc,'"']}),h.jsx("div",{className:"pt-8 border-t border-black/5",children:h.jsx("p",{className:"text-[11px] font-serif text-black/40 leading-relaxed",children:"       .         ."})})]})}),D.map((F,$)=>h.jsx(ST,{number:$+2,children:F},$)),h.jsxs("div",{className:"bg-[#1a1c20] w-full h-full flex flex-col items-center justify-center p-8 text-center","data-density":"hard",children:[h.jsxs("div",{className:"z-10 space-y-4 font-serif",children:[h.jsx("div",{className:"text-gold/40 text-4xl italic mb-4",children:"Fin."}),h.jsxs("p",{className:"text-white/20 text-[10px] leading-relaxed italic",children:['"          , ',h.jsx("br",{}),'   ?" ',h.jsx("br",{}),"-  "]}),h.jsx("div",{className:"pt-6 text-[8px] text-white/5 tracking-[0.4em] uppercase",children:"Archiview archiview"})]}),h.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-8 bg-gradient-to-l from-black/40 to-transparent"})]})]})}),h.jsx("button",{onClick:()=>n.current?.pageFlip()?.flipNext(),className:"absolute right-12 z-50 size-16 rounded-full bg-white/5 border border-white/10 hidden md:flex items-center justify-center text-white/20 hover:text-gold transition-all",children:h.jsx("span",{className:"material-symbols-outlined text-4xl",children:"chevron_right"})}),h.jsx("div",{className:"absolute inset-x-0 bottom-4 flex justify-center md:hidden pointer-events-none",children:h.jsx("span",{className:"text-[9px] text-white/20 uppercase tracking-[0.3em] font-bold animate-pulse",children:"Tap edges to flip"})})]})}),h.jsx("style",{children:`
                .editorial-book { border-radius: 4px; overflow: visible !important; }
                .stf__parent { background-color: transparent !important; }
                .stf__block { background-color: transparent !important; }
                canvas { display: none !important; }
                .custom-scrollbar::-webkit-scrollbar { width: 3px; }
                .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.05); border-radius: 10px; }
            `}),h.jsx("div",{className:"w-full bg-black",children:h.jsx(Un,{})})]})}const AT=[{text:"  ,     .      .",author:" "},{text:"   ,     ,    .",author:"Francis Bacon"},{text:"      .",author:"Thomas Carlyle"},{text:"     ,     .",author:"Victor Hugo"},{text:"     .",author:"Ralph Waldo Emerson"},{text:"     .",author:"Goethe"},{text:"          .",author:" "},{text:"      .",author:" "},{text:"      .",author:"Stephen King"},{text:"         .",author:"Flannery O'Connor"},{text:"     .",author:"Leo Tolstoy"},{text:"       .",author:"W. Somerset Maugham"},{text:"       .",author:"Edgar Allan Poe"},{text:"      .      .",author:" "},{text:"    .",author:"Maxim Gorky"},{text:"        .",author:" "},{text:"     .",author:"William Zinsser"},{text:" . ,   .",author:"Carl Sagan"},{text:"     .",author:"Andr Gide"},{text:"  ,  .",author:" "},{text:"    .",author:"Neil Gaiman"},{text:"     .",author:" "},{text:"      .",author:" "},{text:"  ,     .",author:"Bertrand Russell"},{text:"     .",author:"Martin Luther"},{text:"  ,  .",author:"Cicero"}];function g9(){const t=new Date,e=new Date(t.getFullYear(),0,0),n=Math.floor((t-e)/864e5);return AT[n%AT.length]}function y9(){const{user:t,loading:e}=Tl(),n=rs(),[i,a]=P.useState(""),[l,u]=P.useState(""),[f,p]=P.useState(null),[y,x]=P.useState([]),[b,T]=P.useState(""),[j,D]=P.useState(""),[z,B]=P.useState(0),[F,$]=P.useState("memo"),[M,w]=P.useState([]),[E,I]=P.useState(!0),[N,A]=P.useState(!1),[R,V]=P.useState(null),[O,G]=P.useState(""),[L,De]=P.useState(null),[We,ee]=P.useState(null),[le,fe]=P.useState(!1),[Ne,ke]=P.useState(null),q=P.useRef(null),se=P.useRef(null);P.useEffect(()=>{!e&&!t&&n("/login")},[t,e,n]),P.useEffect(()=>{q.current&&(q.current.style.height="auto",q.current.style.height=q.current.scrollHeight+"px")},[l]);const ue=async()=>{if(t){I(!0);try{const oe=await BM(MM(J_(cd,"users",t.uid,"readingNotes"),VM("createdAt","desc")));w(oe.docs.map(Fe=>({id:Fe.id,...Fe.data(),createdAt:Fe.data().createdAt?.toDate?.()||new Date})))}catch(oe){console.error(oe)}finally{I(!1)}}};P.useEffect(()=>{t&&ue()},[t]),P.useEffect(()=>{const oe=()=>{he(),fe(!0)};return window.addEventListener("open-reading-note-form",oe),()=>window.removeEventListener("open-reading-note-form",oe)},[]);const he=()=>{a(""),u(""),p(null),x([]),T(""),D(""),B(0),$("memo"),V(null),fe(!1)},_e=async()=>{if(!(!i.trim()&&!l.trim()&&!j.trim())){A(!0);try{const oe=Is.find(os=>os.title===j)?.cover||null,Fe={title:i.trim(),body:l.trim(),mood:f,tags:y,type:F,bookTitle:F!=="#"?j.trim():null,bookCover:F!=="#"?oe:null,rating:F==="#"?z:null,updatedAt:n1()};R?await UM(qg(cd,"users",t.uid,"readingNotes",R),Fe):await FM(J_(cd,"users",t.uid,"readingNotes"),{...Fe,createdAt:n1()}),he(),await ue()}catch(oe){console.error(oe)}finally{A(!1)}}},Re=oe=>{a(oe.title||""),u(oe.body||""),p(oe.mood||null),x(oe.tags||[]),$(oe.type||"memo"),D(oe.bookTitle||""),B(oe.rating||0),V(oe.id),fe(!0),setTimeout(()=>se.current?.scrollIntoView({behavior:"smooth",block:"start"}),100)},Ve=async oe=>{await zM(qg(cd,"users",t.uid,"readingNotes",oe)),w(M.filter(Fe=>Fe.id!==oe)),ke(null)},vt=M.filter(oe=>{const Fe=O.toLowerCase(),os=!L||oe.mood?.label===L,Ms=!Fe||oe.title?.toLowerCase().includes(Fe)||oe.body?.toLowerCase().includes(Fe)||oe.bookTitle?.toLowerCase().includes(Fe)||oe.tags?.some(zt=>zt.includes(Fe));return os&&Ms}),et=new Date,gi=M.filter(oe=>{if(!oe.createdAt)return!1;const Fe=oe.createdAt instanceof Date?oe.createdAt:oe.createdAt.toDate?.()||new Date(oe.createdAt);return Fe.getFullYear()===et.getFullYear()&&Fe.getMonth()===et.getMonth()&&Fe.getDate()===et.getDate()}).length,Ki=M.length;g9();const[zn,Yi]=P.useState(""),Fn=["","#","#"],Jr=zr.flatMap(oe=>oe.books.map(Fe=>({title:Fe.title,author:Fe.author,cover:Fe.cover}))),Is=Array.from(new Map(Jr.map(oe=>[oe.title,oe])).values()),[ks,yi]=P.useState(!1),[at,ct]=P.useState(""),[Ds,Ps]=P.useState(!1),Zr=Is.filter(oe=>oe.title.includes(at)||oe.author.includes(at));return e?h.jsx("div",{className:"bg-background-dark min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 bg-gold/20 blur-3xl rounded-full animate-pulse"}),h.jsx("div",{className:"size-12 rounded-full border-t-2 border-gold animate-spin relative"})]})}):t?h.jsxs("div",{className:"bg-[#090b10] font-display text-slate-200 antialiased min-h-screen flex justify-center selection:bg-gold/20 relative overflow-hidden",children:[h.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[h.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-gold/5 blur-[120px] rounded-full animate-pulse"}),h.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-indigo-900/10 blur-[130px] rounded-full"}),h.jsx("div",{className:"absolute top-[30%] right-[-5%] w-[30%] h-[30%] bg-purple-900/5 blur-[100px] rounded-full"})]}),h.jsxs("div",{className:"w-full max-w-[430px] relative min-h-screen flex flex-col pb-32 z-10",children:[h.jsx(as,{title:"",type:"sub"}),h.jsx("header",{className:"px-8 pt-7 pb-10 text-left relative",children:h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("span",{className:"text-[11px] font-bold text-gold uppercase tracking-[0.2em]",children:"Current Progress"}),h.jsx("h2",{className:"text-[28px] font-bold text-white tracking-tight",children:"  "})]}),h.jsxs("div",{className:"flex gap-12 relative items-end",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("span",{className:"text-[12px] text-white/40 block",children:" "}),h.jsxs("span",{className:"text-2xl font-bold text-white tracking-tighter",children:[gi,""]})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("span",{className:"text-[12px] text-white/40 block",children:" "}),h.jsxs("span",{className:"text-2xl font-bold text-white tracking-tighter",children:[Ki,""]})]})]})]})}),h.jsx("div",{className:"px-6 flex gap-2 overflow-x-auto no-scrollbar mb-10",children:Fn.map(oe=>h.jsx("button",{onClick:()=>Yi(oe),className:`px-5 py-2.5 rounded-full text-[13px] font-bold transition-all whitespace-nowrap
                                ${zn===oe?"bg-gold text-primary shadow-lg shadow-gold/20":"bg-white/5 border border-white/5 text-white/40 hover:text-white/60"}`,children:oe},oe))}),h.jsx("section",{className:"px-6 space-y-5 relative flex-1",children:E?h.jsx("div",{className:"space-y-6",children:[1,2,3].map(oe=>h.jsx("div",{className:"h-40 bg-white/5 rounded-2xl animate-pulse"},oe))}):vt.length===0?h.jsx("div",{className:"py-24 text-center opacity-30",children:h.jsx("p",{className:"serif-title text-xl font-light text-white",children:"  ."})}):vt.filter(oe=>zn===""||oe.type===zn||zn==="#"&&oe.type==="review"||zn==="#"&&oe.type==="memo").map(oe=>{const Fe=We===oe.id,os=Ne===oe.id,Ms=oe.type==="review"||oe.type==="#";return h.jsxs("article",{className:"relative group/item scroll-mt-24",children:[h.jsxs("div",{onClick:()=>ee(Fe?null:oe.id),className:`p-5 rounded-[1.5rem] border transition-all duration-500 relative bg-[#121826]/40 border-white/[0.03] hover:border-white/10 hover:bg-[#121826]/60 cursor-pointer ${Fe?"ring-1 ring-gold/20":""}`,children:[h.jsxs("div",{className:"flex gap-5",children:[h.jsx("div",{className:"w-[84px] h-[112px] shrink-0 rounded-lg overflow-hidden bg-slate-800 shadow-xl border border-white/5 flex items-center justify-center relative group-hover/item:scale-105 transition-transform",children:Ms?h.jsxs(h.Fragment,{children:[oe.bookCover&&h.jsx("img",{src:oe.bookCover,alt:oe.bookTitle,className:"absolute inset-0 w-full h-full object-cover z-10",onError:zt=>{zt.target.style.display="none"}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#1a2235] to-[#0d1117] flex flex-col items-center justify-center p-2 text-center",children:h.jsx("span",{className:"text-[9px] text-white/40 font-bold leading-tight break-all",children:oe.bookTitle})})]}):h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-1",style:{background:"linear-gradient(135deg, #1e1b3a 0%, #2d1b4e 50%, #1a2040 100%)"},children:[h.jsx("span",{style:{fontSize:"38px",lineHeight:1},children:""}),h.jsx("span",{className:"text-[8px] text-white/20 font-bold tracking-wider",children:"MEMO"})]})}),h.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-1",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h3",{className:"text-[17px] font-bold text-white leading-tight truncate pr-4",children:oe.bookTitle||oe.title||" "}),h.jsx("span",{className:"text-[10px] text-white/20 tabular-nums pt-1",children:oe.createdAt?.toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\. /g,".")})]}),h.jsx("p",{className:`text-[13px] leading-relaxed text-white/50 font-light ${Fe?"":"line-clamp-2"}`,children:oe.body})]}),h.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[h.jsx("span",{className:"text-[10px] font-bold px-3 py-1 rounded-lg bg-white/5 text-gold/60 border border-white/[0.03]",children:oe.type?.startsWith("#")?oe.type:Ms?"#":"#"}),oe.tags?.map(zt=>h.jsxs("span",{className:"text-[10px] font-bold px-3 py-1 rounded-lg bg-white/5 text-white/30 border border-white/[0.03]",children:["#",zt]},zt))]})]})]}),Fe&&h.jsxs("div",{className:"mt-6 pt-5 border-t border-white/[0.05] flex gap-5 justify-end",children:[h.jsxs("button",{onClick:zt=>{zt.stopPropagation(),Re(oe)},className:"text-[11px] font-bold text-white/40 hover:text-white transition-colors flex items-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"edit"}),""]}),h.jsxs("button",{onClick:zt=>{zt.stopPropagation(),ke(oe.id)},className:"text-[11px] font-bold text-white/40 hover:text-red-400 transition-colors flex items-center gap-1.5",children:[h.jsx("span",{className:"material-symbols-outlined text-[14px]",children:"delete"}),""]})]})]}),os&&h.jsxs("div",{className:"absolute inset-0 z-20 backdrop-blur-md bg-black/60 rounded-[1.5rem] flex items-center justify-center p-6 gap-4 animate-in fade-in duration-300",children:[h.jsx("button",{onClick:()=>Ve(oe.id),className:"flex-1 h-12 rounded-xl bg-red-500 text-white text-[12px] font-bold",children:" "}),h.jsx("button",{onClick:()=>ke(null),className:"h-12 px-6 rounded-xl bg-white/10 text-white text-[12px] font-bold",children:""})]})]},oe.id)})}),le&&h.jsxs("div",{className:"fixed inset-0 z-[100] bg-[#090b10] flex flex-col animate-in slide-in-from-bottom duration-500 shadow-2xl",children:[h.jsxs("div",{className:"px-6 h-16 shrink-0 flex items-center justify-between border-b border-white/[0.05]",children:[h.jsx("button",{onClick:he,className:"size-10 flex items-center justify-center -ml-2",children:h.jsx("span",{className:"material-symbols-outlined text-white/40",children:"close"})}),h.jsx("h3",{className:"text-[15px] font-bold text-white tracking-tight",children:" "}),h.jsx("div",{className:"size-10"})]}),h.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-10 space-y-12 pb-32",children:[F!=="#"&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h4",{className:"text-[14px] font-bold text-gold flex items-center gap-2",children:["  ( )",h.jsx("span",{className:"material-symbols-outlined text-lg",children:"auto_stories"})]}),j&&h.jsxs("button",{onClick:()=>{D(""),ct(""),yi(!1),Ps(!1)},className:"text-[11px] text-white/30 hover:text-red-400 transition-colors flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"close"})," "]})]}),j&&!ks&&h.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-gold/10 border border-gold/30 rounded-2xl",children:[h.jsx("span",{className:"material-symbols-outlined text-gold text-lg",children:"menu_book"}),h.jsx("span",{className:"text-[14px] text-gold font-bold truncate",children:j})]}),!ks&&h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-white/30 text-lg pointer-events-none",children:"search"}),h.jsx("input",{type:"text",placeholder:"   ...",value:at,onChange:oe=>{ct(oe.target.value),Ps(!0)},onFocus:()=>Ps(!0),className:"w-full bg-[#121826] border border-white/[0.05] rounded-2xl pl-11 pr-10 py-4 text-[14px] text-white/80 outline-none focus:border-gold/30 transition-all placeholder-white/20"}),at&&h.jsx("button",{onClick:()=>{ct(""),Ps(!1)},className:"absolute right-4 top-1/2 -translate-y-1/2",children:h.jsx("span",{className:"material-symbols-outlined text-white/30 text-lg",children:"close"})})]}),Ds&&!ks&&h.jsxs("div",{className:"bg-[#0e1420] border border-white/[0.07] rounded-2xl overflow-hidden shadow-2xl",children:[h.jsx("div",{className:"max-h-56 overflow-y-auto",children:Zr.length===0&&at?h.jsx("div",{className:"px-5 py-5 text-[13px] text-white/30 text-center",children:"    ."}):Zr.map(oe=>h.jsxs("button",{onClick:()=>{D(oe.title),ct(""),Ps(!1),$("#")},className:"w-full px-5 py-3.5 flex items-center gap-3 text-left hover:bg-white/5 active:bg-white/10 transition-colors border-b border-white/[0.03] last:border-0",children:[h.jsx("span",{className:"material-symbols-outlined text-white/20 text-base shrink-0",children:"menu_book"}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-[13px] text-white/80 font-bold truncate",children:oe.title}),h.jsx("p",{className:"text-[11px] text-white/30 truncate",children:oe.author})]})]},oe.title))}),h.jsxs("button",{onClick:()=>{yi(!0),Ps(!1),ct("")},className:"w-full px-5 py-3.5 flex items-center gap-3 text-left hover:bg-white/5 transition-colors border-t border-white/[0.06]",children:[h.jsx("span",{className:"material-symbols-outlined text-gold/50 text-base shrink-0",children:"edit"}),h.jsx("span",{className:"text-[13px] text-gold/70 font-bold",children:" ..."})]})]}),ks&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("input",{type:"text",placeholder:"   ",value:j,onChange:oe=>{D(oe.target.value),$(oe.target.value?"#":"#")},className:"w-full bg-[#121826] border border-gold/20 rounded-2xl px-5 py-4 text-[14px] text-white/80 outline-none focus:border-gold/50 transition-all placeholder-white/20",autoFocus:!0}),h.jsxs("button",{onClick:()=>{yi(!1),D("")},className:"text-[11px] text-white/30 hover:text-white/60 transition-colors flex items-center gap-1",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"})," "]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"text-[14px] font-bold text-gold",children:" "}),h.jsx("div",{className:"flex gap-2",children:["#","#"].map(oe=>h.jsxs("button",{onClick:()=>$(oe),className:`flex-1 h-12 rounded-xl flex items-center justify-center gap-2 border text-[13px] font-bold transition-all
                                                ${F===oe?"bg-gold/10 border-gold text-gold shadow-[0_0_15px_rgba(212,175,55,0.1)]":"bg-[#121826] border-white/5 text-white/40 hover:text-white"}`,children:[h.jsx("span",{className:"material-symbols-outlined text-lg",children:oe==="#"?"rate_review":"sticky_note_2"}),oe]},oe))})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("h4",{className:"text-[14px] font-bold text-gold flex items-center gap-2",children:["  / ",h.jsx("span",{className:"material-symbols-outlined text-lg rotate-12",children:"attach_file"}),h.jsx("span",{className:"material-symbols-outlined text-lg",children:"image"})]})}),h.jsxs("div",{className:"relative group",children:[h.jsx("textarea",{value:l,onChange:oe=>u(oe.target.value),placeholder:"        ...",className:"w-full bg-transparent border-none text-[16px] text-white/80 placeholder-white/20 min-h-[300px] outline-none resize-none leading-relaxed"}),h.jsx("div",{className:"flex justify-end pt-4",children:h.jsxs("span",{className:"flex items-center gap-2 text-[11px] text-white/30 font-medium",children:[h.jsx("span",{className:"material-symbols-outlined text-sm",children:"edit"}),l.length," characters"]})})]})]})]}),h.jsx("div",{className:"p-6 pb-10 bg-gradient-to-t from-[#090b10] via-[#090b10] to-transparent shrink-0",children:h.jsx("button",{onClick:_e,disabled:N||!l.trim(),className:"w-full h-16 rounded-2xl bg-gold text-primary font-bold flex items-center justify-center gap-2 active:scale-[0.98] transition-all disabled:opacity-30 shadow-xl shadow-gold/10",children:N?h.jsx("div",{className:"size-5 border-2 border-primary/20 border-t-primary rounded-full animate-spin"}):h.jsxs(h.Fragment,{children:[h.jsx("span",{children:""}),h.jsx("span",{className:"material-symbols-outlined text-xl",children:"check_circle"})]})})})]}),h.jsx(Un,{}),h.jsx(Bn,{})]})]}):null}const Cc=({children:t})=>{const{user:e,loading:n}=Tl();return n?null:e?t:h.jsx($C,{to:"/login",replace:!0})};function x9(){return h.jsx(F6,{children:h.jsx(xj,{children:h.jsx("div",{className:"max-w-[430px] mx-auto min-h-screen bg-background-light dark:bg-background-dark shadow-2xl relative overflow-hidden",children:h.jsxs(YC,{children:[h.jsx(un,{path:"/",element:h.jsx(q6,{})}),h.jsx(un,{path:"/editorial",element:h.jsx(H6,{})}),h.jsx(un,{path:"/result",element:h.jsx(Cc,{children:h.jsx(G6,{})})}),h.jsx(un,{path:"/celebrity/:id",element:h.jsx(TT,{})}),h.jsx(un,{path:"/celebrity",element:h.jsx(TT,{})}),h.jsx(un,{path:"/quiz",element:h.jsx(K6,{})}),h.jsx(un,{path:"/library",element:h.jsx(Cc,{children:h.jsx(Y6,{})})}),h.jsx(un,{path:"/profile",element:h.jsx(Cc,{children:h.jsx(W6,{})})}),h.jsx(un,{path:"/admin",element:h.jsx(Cc,{children:h.jsx(i9,{})})}),h.jsx(un,{path:"/login",element:h.jsx(r9,{})}),h.jsx(un,{path:"/about",element:h.jsx(a9,{})}),h.jsx(un,{path:"/privacy",element:h.jsx(o9,{})}),h.jsx(un,{path:"/contact",element:h.jsx(l9,{})}),h.jsx(un,{path:"/review/:id",element:h.jsx(p9,{})}),h.jsx(un,{path:"/reading-notes",element:h.jsx(Cc,{children:h.jsx(y9,{})})})]})})})})}QR.createRoot(document.getElementById("root")).render(h.jsx(x9,{}));
